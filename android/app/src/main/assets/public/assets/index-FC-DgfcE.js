function Bre(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Qd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nA={exports:{}},Im={},iA={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=Symbol.for("react.element"),G4=Symbol.for("react.portal"),K4=Symbol.for("react.fragment"),Y4=Symbol.for("react.strict_mode"),Q4=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),Z4=Symbol.for("react.forward_ref"),e$=Symbol.for("react.suspense"),t$=Symbol.for("react.memo"),n$=Symbol.for("react.lazy"),HI=Symbol.iterator;function i$(t){return t===null||typeof t!="object"?null:(t=HI&&t[HI]||t["@@iterator"],typeof t=="function"?t:null)}var rA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oA=Object.assign,sA={};function ic(t,e,n){this.props=t,this.context=e,this.refs=sA,this.updater=n||rA}ic.prototype.isReactComponent={};ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aA(){}aA.prototype=ic.prototype;function w_(t,e,n){this.props=t,this.context=e,this.refs=sA,this.updater=n||rA}var x_=w_.prototype=new aA;x_.constructor=w_;oA(x_,ic.prototype);x_.isPureReactComponent=!0;var WI=Array.isArray,lA=Object.prototype.hasOwnProperty,E_={current:null},cA={key:!0,ref:!0,__self:!0,__source:!0};function uA(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)lA.call(e,i)&&!cA.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Xd,type:t,key:o,ref:s,props:r,_owner:E_.current}}function r$(t,e){return{$$typeof:Xd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xd}function o$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qI=/\/+/g;function Dv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?o$(""+t.key):e.toString(36)}function Ef(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xd:case G4:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+Dv(s,0):i,WI(r)?(n="",t!=null&&(n=t.replace(qI,"$&/")+"/"),Ef(r,e,n,"",function(c){return c})):r!=null&&(I_(r)&&(r=r$(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(qI,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",WI(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+Dv(o,a);s+=Ef(o,e,n,l,r)}else if(l=i$(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+Dv(o,a++),s+=Ef(o,e,n,l,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fh(t,e,n){if(t==null)return t;var i=[],r=0;return Ef(t,i,"","",function(o){return e.call(n,o,r++)}),i}function s$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},If={transition:null},a$={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:If,ReactCurrentOwner:E_};Ie.Children={map:Fh,forEach:function(t,e,n){Fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!I_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ic;Ie.Fragment=K4;Ie.Profiler=Q4;Ie.PureComponent=w_;Ie.StrictMode=Y4;Ie.Suspense=e$;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a$;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=oA({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=E_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lA.call(e,l)&&!cA.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Xd,type:t.type,key:r,ref:o,props:i,_owner:s}};Ie.createContext=function(t){return t={$$typeof:J4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X4,_context:t},t.Consumer=t};Ie.createElement=uA;Ie.createFactory=function(t){var e=uA.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:Z4,render:t}};Ie.isValidElement=I_;Ie.lazy=function(t){return{$$typeof:n$,_payload:{_status:-1,_result:t},_init:s$}};Ie.memo=function(t,e){return{$$typeof:t$,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=If.transition;If.transition={};try{t()}finally{If.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ie.useContext=function(t){return Sn.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ie.useId=function(){return Sn.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ie.useRef=function(t){return Sn.current.useRef(t)};Ie.useState=function(t){return Sn.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Sn.current.useTransition()};Ie.version="18.2.0";iA.exports=Ie;var q=iA.exports;const O=Qd(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$=q,c$=Symbol.for("react.element"),u$=Symbol.for("react.fragment"),d$=Object.prototype.hasOwnProperty,h$=l$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f$={key:!0,ref:!0,__self:!0,__source:!0};function dA(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)d$.call(e,i)&&!f$.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:c$,type:t,key:o,ref:s,props:r,_owner:h$.current}}Im.Fragment=u$;Im.jsx=dA;Im.jsxs=dA;nA.exports=Im;var y=nA.exports,hA={exports:{}},ii={},fA={exports:{}},pA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,V){var N=R.length;R.push(V);e:for(;0<N;){var H=N-1>>>1,X=R[H];if(0<r(X,V))R[H]=V,R[N]=X,N=H;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var V=R[0],N=R.pop();if(N!==V){R[0]=N;e:for(var H=0,X=R.length,pe=X>>>1;H<pe;){var me=2*(H+1)-1,bt=R[me],Se=me+1,_t=R[Se];if(0>r(bt,N))Se<X&&0>r(_t,bt)?(R[H]=_t,R[Se]=N,H=Se):(R[H]=bt,R[me]=N,H=me);else if(Se<X&&0>r(_t,N))R[H]=_t,R[Se]=N,H=Se;else break e}}return V}function r(R,V){var N=R.sortIndex-V.sortIndex;return N!==0?N:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var V=n(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=R)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function x(R){if(g=!1,b(R),!p)if(n(l)!==null)p=!0,Le(C);else{var V=n(c);V!==null&&ve(x,V.startTime-R)}}function C(R,V){p=!1,g&&(g=!1,v(k),k=-1),f=!0;var N=h;try{for(b(V),d=n(l);d!==null&&(!(d.expirationTime>V)||R&&!D());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var X=H(d.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&i(l),b(V)}else i(l);d=n(l)}if(d!==null)var pe=!0;else{var me=n(c);me!==null&&ve(x,me.startTime-V),pe=!1}return pe}finally{d=null,h=N,f=!1}}var E=!1,w=null,k=-1,F=5,P=-1;function D(){return!(t.unstable_now()-P<F)}function W(){if(w!==null){var R=t.unstable_now();P=R;var V=!0;try{V=w(!0,R)}finally{V?ue():(E=!1,w=null)}}else E=!1}var ue;if(typeof m=="function")ue=function(){m(W)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ae=ke.port2;ke.port1.onmessage=W,ue=function(){ae.postMessage(null)}}else ue=function(){_(W,0)};function Le(R){w=R,E||(E=!0,ue())}function ve(R,V){k=_(function(){R(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Le(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var N=h;h=V;try{return R()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var N=h;h=R;try{return V()}finally{h=N}},t.unstable_scheduleCallback=function(R,V,N){var H=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?H+N:H):N=H,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=N+X,R={id:u++,callback:V,priorityLevel:R,startTime:N,expirationTime:X,sortIndex:-1},N>H?(R.sortIndex=N,e(c,R),n(l)===null&&R===n(c)&&(g?(v(k),k=-1):g=!0,ve(x,N-H))):(R.sortIndex=X,e(l,R),p||f||(p=!0,Le(C))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var V=h;return function(){var N=h;h=V;try{return R.apply(this,arguments)}finally{h=N}}}})(pA);fA.exports=pA;var p$=fA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA=q,Zn=p$;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gA=new Set,$u={};function aa(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for($u[t]=e,t=0;t<e.length;t++)gA.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zy=Object.prototype.hasOwnProperty,m$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GI={},KI={};function g$(t){return Zy.call(KI,t)?!0:Zy.call(GI,t)?!1:m$.test(t)?KI[t]=!0:(GI[t]=!0,!1)}function v$(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y$(t,e,n,i){if(e===null||typeof e>"u"||v$(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var k_=/[\-:]([a-z])/g;function T_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(k_,T_);on[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(k_,T_);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(k_,T_);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function S_(t,e,n,i){var r=on.hasOwnProperty(e)?on[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y$(e,n,r,i)&&(n=null),i||r===null?g$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var $r=mA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),eb=Symbol.for("react.profiler"),vA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),A_=Symbol.for("react.forward_ref"),tb=Symbol.for("react.suspense"),nb=Symbol.for("react.suspense_list"),R_=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),bA=Symbol.for("react.offscreen"),YI=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=YI&&t[YI]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Ov;function eu(t){if(Ov===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ov=e&&e[1]||""}return"\n"+Ov+t}var Nv=!1;function Lv(t,e){if(!t||Nv)return"";Nv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eu(t):""}function b$(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=Lv(t.type,!1),t;case 11:return t=Lv(t.type.render,!1),t;case 1:return t=Lv(t.type,!0),t;default:return""}}function ib(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case Ha:return"Portal";case eb:return"Profiler";case C_:return"StrictMode";case tb:return"Suspense";case nb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yA:return(t.displayName||"Context")+".Consumer";case vA:return(t._context.displayName||"Context")+".Provider";case A_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R_:return e=t.displayName||null,e!==null?e:ib(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return ib(t(e))}catch(n){}}return null}function _$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ib(e);case 8:return e===C_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _A(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w$(t){var e=_A(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zh(t){t._valueTracker||(t._valueTracker=w$(t))}function wA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=_A(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function rb(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function QI(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=To(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xA(t,e){e=e.checked,e!=null&&S_(t,"checked",e,!1)}function ob(t,e){xA(t,e);var n=To(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sb(t,e.type,n):e.hasOwnProperty("defaultValue")&&sb(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sb(t,e,n){(e!=="number"||Yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tu=Array.isArray;function ol(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+To(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ab(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(tu(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:To(n)}}function EA(t,e){var n=To(e.value),i=To(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ZI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uh,kA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x$=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){x$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function TA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function SA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=TA(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var E$=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cb(t,e){if(e){if(E$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ub(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var db=null;function P_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hb=null,sl=null,al=null;function ek(t){if(t=eh(t)){if(typeof hb!="function")throw Error($(280));var e=t.stateNode;e&&(e=Am(e),hb(t.stateNode,t.type,e))}}function CA(t){sl?al?al.push(t):al=[t]:sl=t}function AA(){if(sl){var t=sl,e=al;if(al=sl=null,ek(t),e)for(t=0;t<e.length;t++)ek(e[t])}}function RA(t,e){return t(e)}function PA(){}var Mv=!1;function DA(t,e,n){if(Mv)return t(e,n);Mv=!0;try{return RA(t,e,n)}finally{Mv=!1,(sl!==null||al!==null)&&(PA(),AA())}}function Bu(t,e){var n=t.stateNode;if(n===null)return null;var i=Am(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var fb=!1;if(Cr)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){fb=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch(t){fb=!1}function I$(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var mu=!1,Qf=null,Xf=!1,pb=null,k$={onError:function(t){mu=!0,Qf=t}};function T$(t,e,n,i,r,o,s,a,l){mu=!1,Qf=null,I$.apply(k$,arguments)}function S$(t,e,n,i,r,o,s,a,l){if(T$.apply(this,arguments),mu){if(mu){var c=Qf;mu=!1,Qf=null}else throw Error($(198));Xf||(Xf=!0,pb=c)}}function la(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tk(t){if(la(t)!==t)throw Error($(188))}function C$(t){var e=t.alternate;if(!e){if(e=la(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tk(r),t;if(o===i)return tk(r),e;o=o.sibling}throw Error($(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==i)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function NA(t){return t=C$(t),t!==null?LA(t):null}function LA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LA(t);if(e!==null)return e;t=t.sibling}return null}var MA=Zn.unstable_scheduleCallback,nk=Zn.unstable_cancelCallback,A$=Zn.unstable_shouldYield,R$=Zn.unstable_requestPaint,wt=Zn.unstable_now,P$=Zn.unstable_getCurrentPriorityLevel,D_=Zn.unstable_ImmediatePriority,VA=Zn.unstable_UserBlockingPriority,Jf=Zn.unstable_NormalPriority,D$=Zn.unstable_LowPriority,$A=Zn.unstable_IdlePriority,km=null,er=null;function O$(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Ri=Math.clz32?Math.clz32:M$,N$=Math.log,L$=Math.LN2;function M$(t){return t>>>=0,t===0?32:31-(N$(t)/L$|0)|0}var jh=64,Hh=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=nu(a):(o&=s,o!==0&&(i=nu(o)))}else s=n&~r,s!==0?i=nu(s):o!==0&&(i=nu(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ri(e),r=1<<n,i|=t[n],e&=~r;return i}function V$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $$(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ri(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=V$(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function mb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FA(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function Vv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ri(e),t[e]=n}function F$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ri(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function O_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ri(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var $e=0;function BA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zA,N_,UA,jA,HA,gb=!1,Wh=[],ho=null,fo=null,po=null,zu=new Map,Uu=new Map,to=[],B$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ik(t,e){switch(t){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(e.pointerId)}}function Oc(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=eh(e),e!==null&&N_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function z$(t,e,n,i,r){switch(e){case"focusin":return ho=Oc(ho,t,e,n,i,r),!0;case"dragenter":return fo=Oc(fo,t,e,n,i,r),!0;case"mouseover":return po=Oc(po,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return zu.set(o,Oc(zu.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Uu.set(o,Oc(Uu.get(o)||null,t,e,n,i,r)),!0}return!1}function WA(t){var e=gs(t.target);if(e!==null){var n=la(e);if(n!==null){if(e=n.tag,e===13){if(e=OA(n),e!==null){t.blockedOn=e,HA(t.priority,function(){UA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);db=i,n.target.dispatchEvent(i),db=null}else return e=eh(n),e!==null&&N_(e),t.blockedOn=n,!1;e.shift()}return!0}function rk(t,e,n){kf(t)&&n.delete(e)}function U$(){gb=!1,ho!==null&&kf(ho)&&(ho=null),fo!==null&&kf(fo)&&(fo=null),po!==null&&kf(po)&&(po=null),zu.forEach(rk),Uu.forEach(rk)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,gb||(gb=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,U$)))}function ju(t){function e(r){return Nc(r,t)}if(0<Wh.length){Nc(Wh[0],t);for(var n=1;n<Wh.length;n++){var i=Wh[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ho!==null&&Nc(ho,t),fo!==null&&Nc(fo,t),po!==null&&Nc(po,t),zu.forEach(e),Uu.forEach(e),n=0;n<to.length;n++)i=to[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)WA(n),n.blockedOn===null&&to.shift()}var ll=$r.ReactCurrentBatchConfig,ep=!0;function j$(t,e,n,i){var r=$e,o=ll.transition;ll.transition=null;try{$e=1,L_(t,e,n,i)}finally{$e=r,ll.transition=o}}function H$(t,e,n,i){var r=$e,o=ll.transition;ll.transition=null;try{$e=4,L_(t,e,n,i)}finally{$e=r,ll.transition=o}}function L_(t,e,n,i){if(ep){var r=vb(t,e,n,i);if(r===null)Gv(t,e,i,tp,n),ik(t,i);else if(z$(r,t,e,n,i))i.stopPropagation();else if(ik(t,i),e&4&&-1<B$.indexOf(t)){for(;r!==null;){var o=eh(r);if(o!==null&&zA(o),o=vb(t,e,n,i),o===null&&Gv(t,e,i,tp,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Gv(t,e,i,null,n)}}var tp=null;function vb(t,e,n,i){if(tp=null,t=P_(i),t=gs(t),t!==null)if(e=la(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tp=t,null}function qA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P$()){case D_:return 1;case VA:return 4;case Jf:case D$:return 16;case $A:return 536870912;default:return 16}default:return 16}}var so=null,M_=null,Tf=null;function GA(){if(Tf)return Tf;var t,e=M_,n=e.length,i,r="value"in so?so.value:so.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return Tf=r.slice(t,1<i?1-i:void 0)}function Sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qh(){return!0}function ok(){return!1}function ri(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qh:ok,this.isPropagationStopped=ok,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qh)},persist:function(){},isPersistent:qh}),e}var rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V_=ri(rc),Zd=at({},rc,{view:0,detail:0}),W$=ri(Zd),$v,Fv,Lc,Tm=at({},Zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?($v=t.screenX-Lc.screenX,Fv=t.screenY-Lc.screenY):Fv=$v=0,Lc=t),$v)},movementY:function(t){return"movementY"in t?t.movementY:Fv}}),sk=ri(Tm),q$=at({},Tm,{dataTransfer:0}),G$=ri(q$),K$=at({},Zd,{relatedTarget:0}),Bv=ri(K$),Y$=at({},rc,{animationName:0,elapsedTime:0,pseudoElement:0}),Q$=ri(Y$),X$=at({},rc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J$=ri(X$),Z$=at({},rc,{data:0}),ak=ri(Z$),e5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n5[t])?!!e[t]:!1}function $_(){return i5}var r5=at({},Zd,{key:function(t){if(t.key){var e=e5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$_,charCode:function(t){return t.type==="keypress"?Sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o5=ri(r5),s5=at({},Tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lk=ri(s5),a5=at({},Zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$_}),l5=ri(a5),c5=at({},rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),u5=ri(c5),d5=at({},Tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h5=ri(d5),f5=[9,13,27,32],F_=Cr&&"CompositionEvent"in window,gu=null;Cr&&"documentMode"in document&&(gu=document.documentMode);var p5=Cr&&"TextEvent"in window&&!gu,KA=Cr&&(!F_||gu&&8<gu&&11>=gu),ck=" ",uk=!1;function YA(t,e){switch(t){case"keyup":return f5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function m5(t,e){switch(t){case"compositionend":return QA(e);case"keypress":return e.which!==32?null:(uk=!0,ck);case"textInput":return t=e.data,t===ck&&uk?null:t;default:return null}}function g5(t,e){if(qa)return t==="compositionend"||!F_&&YA(t,e)?(t=GA(),Tf=M_=so=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KA&&e.locale!=="ko"?null:e.data;default:return null}}var v5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v5[t.type]:e==="textarea"}function XA(t,e,n,i){CA(i),e=np(e,"onChange"),0<e.length&&(n=new V_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var vu=null,Hu=null;function y5(t){lR(t,0)}function Sm(t){var e=Ya(t);if(wA(e))return t}function b5(t,e){if(t==="change")return e}var JA=!1;if(Cr){var zv;if(Cr){var Uv="oninput"in document;if(!Uv){var hk=document.createElement("div");hk.setAttribute("oninput","return;"),Uv=typeof hk.oninput=="function"}zv=Uv}else zv=!1;JA=zv&&(!document.documentMode||9<document.documentMode)}function fk(){vu&&(vu.detachEvent("onpropertychange",ZA),Hu=vu=null)}function ZA(t){if(t.propertyName==="value"&&Sm(Hu)){var e=[];XA(e,Hu,t,P_(t)),DA(y5,e)}}function _5(t,e,n){t==="focusin"?(fk(),vu=e,Hu=n,vu.attachEvent("onpropertychange",ZA)):t==="focusout"&&fk()}function w5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sm(Hu)}function x5(t,e){if(t==="click")return Sm(e)}function E5(t,e){if(t==="input"||t==="change")return Sm(e)}function I5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ni=typeof Object.is=="function"?Object.is:I5;function Wu(t,e){if(Ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zy.call(e,r)||!Ni(t[r],e[r]))return!1}return!0}function pk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mk(t,e){var n=pk(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pk(n)}}function eR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tR(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Yf(t.document)}return e}function B_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k5(t){var e=tR(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eR(n.ownerDocument.documentElement,n)){if(i!==null&&B_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=mk(n,o);var s=mk(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var T5=Cr&&"documentMode"in document&&11>=document.documentMode,Ga=null,yb=null,yu=null,bb=!1;function gk(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bb||Ga==null||Ga!==Yf(i)||(i=Ga,"selectionStart"in i&&B_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),yu&&Wu(yu,i)||(yu=i,i=np(yb,"onSelect"),0<i.length&&(e=new V_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ga)))}function Gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},jv={},nR={};Cr&&(nR=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Cm(t){if(jv[t])return jv[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nR)return jv[t]=e[n];return t}var iR=Cm("animationend"),rR=Cm("animationiteration"),oR=Cm("animationstart"),sR=Cm("transitionend"),aR=new Map,vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){aR.set(t,e),aa(e,[t])}for(var Hv=0;Hv<vk.length;Hv++){var Wv=vk[Hv],S5=Wv.toLowerCase(),C5=Wv[0].toUpperCase()+Wv.slice(1);Ho(S5,"on"+C5)}Ho(iR,"onAnimationEnd");Ho(rR,"onAnimationIteration");Ho(oR,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(sR,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A5=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function yk(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,S$(i,e,void 0,t),t.currentTarget=null}function lR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;yk(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;yk(r,a,c),o=l}}}if(Xf)throw t=pb,Xf=!1,pb=null,t}function Ge(t,e){var n=e[Ib];n===void 0&&(n=e[Ib]=new Set);var i=t+"__bubble";n.has(i)||(cR(e,t,2,!1),n.add(i))}function qv(t,e,n){var i=0;e&&(i|=4),cR(n,t,i,e)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function qu(t){if(!t[Kh]){t[Kh]=!0,gA.forEach(function(n){n!=="selectionchange"&&(A5.has(n)||qv(n,!1,t),qv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kh]||(e[Kh]=!0,qv("selectionchange",!1,e))}}function cR(t,e,n,i){switch(qA(e)){case 1:var r=j$;break;case 4:r=H$;break;default:r=L_}n=r.bind(null,e,n,t),r=void 0,!fb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Gv(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=gs(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}DA(function(){var c=o,u=P_(n),d=[];e:{var h=aR.get(t);if(h!==void 0){var f=V_,p=t;switch(t){case"keypress":if(Sf(n)===0)break e;case"keydown":case"keyup":f=o5;break;case"focusin":p="focus",f=Bv;break;case"focusout":p="blur",f=Bv;break;case"beforeblur":case"afterblur":f=Bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=sk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=G$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=l5;break;case iR:case rR:case oR:f=Q$;break;case sR:f=u5;break;case"scroll":f=W$;break;case"wheel":f=h5;break;case"copy":case"cut":case"paste":f=J$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=lk}var g=(e&4)!==0,_=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,b;m!==null;){b=m;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,v!==null&&(x=Bu(m,v),x!=null&&g.push(Gu(m,x,b)))),_)break;m=m.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==db&&(p=n.relatedTarget||n.fromElement)&&(gs(p)||p[Ar]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?gs(p):null,p!==null&&(_=la(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=sk,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=lk,x="onPointerLeave",v="onPointerEnter",m="pointer"),_=f==null?h:Ya(f),b=p==null?h:Ya(p),h=new g(x,m+"leave",f,n,u),h.target=_,h.relatedTarget=b,x=null,gs(u)===c&&(g=new g(v,m+"enter",p,n,u),g.target=b,g.relatedTarget=_,x=g),_=x,f&&p)t:{for(g=f,v=p,m=0,b=g;b;b=Ca(b))m++;for(b=0,x=v;x;x=Ca(x))b++;for(;0<m-b;)g=Ca(g),m--;for(;0<b-m;)v=Ca(v),b--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ca(g),v=Ca(v)}g=null}else g=null;f!==null&&bk(d,h,f,g,!1),p!==null&&_!==null&&bk(d,_,p,g,!0)}}e:{if(h=c?Ya(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=b5;else if(dk(h))if(JA)C=E5;else{C=w5;var E=_5}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=x5);if(C&&(C=C(t,c))){XA(d,C,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&sb(h,"number",h.value)}switch(E=c?Ya(c):window,t){case"focusin":(dk(E)||E.contentEditable==="true")&&(Ga=E,yb=c,yu=null);break;case"focusout":yu=yb=Ga=null;break;case"mousedown":bb=!0;break;case"contextmenu":case"mouseup":case"dragend":bb=!1,gk(d,n,u);break;case"selectionchange":if(T5)break;case"keydown":case"keyup":gk(d,n,u)}var w;if(F_)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qa?YA(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(KA&&n.locale!=="ko"&&(qa||k!=="onCompositionStart"?k==="onCompositionEnd"&&qa&&(w=GA()):(so=u,M_="value"in so?so.value:so.textContent,qa=!0)),E=np(c,k),0<E.length&&(k=new ak(k,t,null,n,u),d.push({event:k,listeners:E}),w?k.data=w:(w=QA(n),w!==null&&(k.data=w)))),(w=p5?m5(t,n):g5(t,n))&&(c=np(c,"onBeforeInput"),0<c.length&&(u=new ak("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=w))}lR(d,e)})}function Gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function np(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Bu(t,n),o!=null&&i.unshift(Gu(t,o,r)),o=Bu(t,e),o!=null&&i.push(Gu(t,o,r))),t=t.return}return i}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bk(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Bu(n,o),l!=null&&s.unshift(Gu(n,l,a))):r||(l=Bu(n,o),l!=null&&s.push(Gu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var R5=/\r\n?/g,P5=/\u0000|\uFFFD/g;function _k(t){return(typeof t=="string"?t:""+t).replace(R5,"\n").replace(P5,"")}function Yh(t,e,n){if(e=_k(e),_k(t)!==e&&n)throw Error($(425))}function ip(){}var _b=null,wb=null;function xb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eb=typeof setTimeout=="function"?setTimeout:void 0,D5=typeof clearTimeout=="function"?clearTimeout:void 0,wk=typeof Promise=="function"?Promise:void 0,O5=typeof queueMicrotask=="function"?queueMicrotask:typeof wk<"u"?function(t){return wk.resolve(null).then(t).catch(N5)}:Eb;function N5(t){setTimeout(function(){throw t})}function Kv(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),ju(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ju(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oc=Math.random().toString(36).slice(2),Ui="__reactFiber$"+oc,Ku="__reactProps$"+oc,Ar="__reactContainer$"+oc,Ib="__reactEvents$"+oc,L5="__reactListeners$"+oc,M5="__reactHandles$"+oc;function gs(t){var e=t[Ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xk(t);t!==null;){if(n=t[Ui])return n;t=xk(t)}return e}t=n,n=t.parentNode}return null}function eh(t){return t=t[Ui]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Am(t){return t[Ku]||null}var kb=[],Qa=-1;function Wo(t){return{current:t}}function Xe(t){0>Qa||(t.current=kb[Qa],kb[Qa]=null,Qa--)}function qe(t,e){Qa++,kb[Qa]=t.current,t.current=e}var So={},pn=Wo(So),Fn=Wo(!1),Ls=So;function kl(t,e){var n=t.type.contextTypes;if(!n)return So;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bn(t){return t=t.childContextTypes,t!=null}function rp(){Xe(Fn),Xe(pn)}function Ek(t,e,n){if(pn.current!==So)throw Error($(168));qe(pn,e),qe(Fn,n)}function uR(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error($(108,_$(t)||"Unknown",r));return at({},n,i)}function op(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,Ls=pn.current,qe(pn,t),qe(Fn,Fn.current),!0}function Ik(t,e,n){var i=t.stateNode;if(!i)throw Error($(169));n?(t=uR(t,e,Ls),i.__reactInternalMemoizedMergedChildContext=t,Xe(Fn),Xe(pn),qe(pn,t)):Xe(Fn),qe(Fn,n)}var cr=null,Rm=!1,Yv=!1;function dR(t){cr===null?cr=[t]:cr.push(t)}function V5(t){Rm=!0,dR(t)}function qo(){if(!Yv&&cr!==null){Yv=!0;var t=0,e=$e;try{var n=cr;for($e=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}cr=null,Rm=!1}catch(r){throw cr!==null&&(cr=cr.slice(t+1)),MA(D_,qo),r}finally{$e=e,Yv=!1}}return null}var Xa=[],Ja=0,sp=null,ap=0,ui=[],di=0,Ms=null,fr=1,pr="";function rs(t,e){Xa[Ja++]=ap,Xa[Ja++]=sp,sp=t,ap=e}function hR(t,e,n){ui[di++]=fr,ui[di++]=pr,ui[di++]=Ms,Ms=t;var i=fr;t=pr;var r=32-Ri(i)-1;i&=~(1<<r),n+=1;var o=32-Ri(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,fr=1<<32-Ri(e)+r|n<<r|i,pr=o+t}else fr=1<<o|n<<r|i,pr=t}function z_(t){t.return!==null&&(rs(t,1),hR(t,1,0))}function U_(t){for(;t===sp;)sp=Xa[--Ja],Xa[Ja]=null,ap=Xa[--Ja],Xa[Ja]=null;for(;t===Ms;)Ms=ui[--di],ui[di]=null,pr=ui[--di],ui[di]=null,fr=ui[--di],ui[di]=null}var Xn=null,Yn=null,Ze=!1,Ii=null;function fR(t,e){var n=fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xn=t,Yn=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xn=t,Yn=null,!0):!1;default:return!1}}function Tb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sb(t){if(Ze){var e=Yn;if(e){var n=e;if(!kk(t,e)){if(Tb(t))throw Error($(418));e=mo(n.nextSibling);var i=Xn;e&&kk(t,e)?fR(i,n):(t.flags=t.flags&-4097|2,Ze=!1,Xn=t)}}else{if(Tb(t))throw Error($(418));t.flags=t.flags&-4097|2,Ze=!1,Xn=t}}}function Tk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function Qh(t){if(t!==Xn)return!1;if(!Ze)return Tk(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xb(t.type,t.memoizedProps)),e&&(e=Yn)){if(Tb(t))throw pR(),Error($(418));for(;e;)fR(t,e),e=mo(e.nextSibling)}if(Tk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Xn?mo(t.stateNode.nextSibling):null;return!0}function pR(){for(var t=Yn;t;)t=mo(t.nextSibling)}function Tl(){Yn=Xn=null,Ze=!1}function j_(t){Ii===null?Ii=[t]:Ii.push(t)}var $5=$r.ReactCurrentBatchConfig;function xi(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lp=Wo(null),cp=null,Za=null,H_=null;function W_(){H_=Za=cp=null}function q_(t){var e=lp.current;Xe(lp),t._currentValue=e}function Cb(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function cl(t,e){cp=t,H_=Za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function gi(t){var e=t._currentValue;if(H_!==t)if(t={context:t,memoizedValue:e,next:null},Za===null){if(cp===null)throw Error($(308));Za=t,cp.dependencies={lanes:0,firstContext:t}}else Za=Za.next=t;return e}var vs=null;function G_(t){vs===null?vs=[t]:vs.push(t)}function mR(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,G_(e)):(n.next=r.next,r.next=n),e.interleaved=n,Rr(t,i)}function Rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var eo=!1;function K_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Rr(t,n)}return r=i.interleaved,r===null?(e.next=e,G_(i)):(e.next=r.next,r.next=e),i.interleaved=e,Rr(t,n)}function Cf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,O_(t,n)}}function Sk(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function up(t,e,n,i){var r=t.updateQueue;eo=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=r.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=at({},d,h);break e;case 2:eo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);$s|=s,t.lanes=s,t.memoizedState=d}}function Ck(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error($(191,r));r.call(i)}}}var vR=new mA.Component().refs;function Ab(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pm={isMounted:function(t){return(t=t._reactInternals)?la(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=_n(),r=yo(t),o=br(i,r);o.payload=e,n!=null&&(o.callback=n),e=go(t,o,r),e!==null&&(Pi(e,t,r,i),Cf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=_n(),r=yo(t),o=br(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=go(t,o,r),e!==null&&(Pi(e,t,r,i),Cf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),i=yo(t),r=br(n,i);r.tag=2,e!=null&&(r.callback=e),e=go(t,r,i),e!==null&&(Pi(e,t,i,n),Cf(e,t,i))}};function Ak(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Wu(n,i)||!Wu(r,o):!0}function yR(t,e,n){var i=!1,r=So,o=e.contextType;return typeof o=="object"&&o!==null?o=gi(o):(r=Bn(e)?Ls:pn.current,i=e.contextTypes,o=(i=i!=null)?kl(t,r):So),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pm,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rk(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Pm.enqueueReplaceState(e,e.state,null)}function Rb(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=vR,K_(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=gi(o):(o=Bn(e)?Ls:pn.current,r.context=kl(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ab(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Pm.enqueueReplaceState(r,r.state,null),up(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Mc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var i=n.stateNode}if(!i)throw Error($(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===vR&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Xh(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pk(t){var e=t._init;return e(t._payload)}function bR(t){function e(v,m){if(t){var b=v.deletions;b===null?(v.deletions=[m],v.flags|=16):b.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function i(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function r(v,m){return v=bo(v,m),v.index=0,v.sibling=null,v}function o(v,m,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<m?(v.flags|=2,m):b):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,b,x){return m===null||m.tag!==6?(m=ny(b,v.mode,x),m.return=v,m):(m=r(m,b),m.return=v,m)}function l(v,m,b,x){var C=b.type;return C===Wa?u(v,m,b.props.children,x,b.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zr&&Pk(C)===m.type)?(x=r(m,b.props),x.ref=Mc(v,m,b),x.return=v,x):(x=Nf(b.type,b.key,b.props,null,v.mode,x),x.ref=Mc(v,m,b),x.return=v,x)}function c(v,m,b,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=iy(b,v.mode,x),m.return=v,m):(m=r(m,b.children||[]),m.return=v,m)}function u(v,m,b,x,C){return m===null||m.tag!==7?(m=As(b,v.mode,x,C),m.return=v,m):(m=r(m,b),m.return=v,m)}function d(v,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ny(""+m,v.mode,b),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bh:return b=Nf(m.type,m.key,m.props,null,v.mode,b),b.ref=Mc(v,null,m),b.return=v,b;case Ha:return m=iy(m,v.mode,b),m.return=v,m;case Zr:var x=m._init;return d(v,x(m._payload),b)}if(tu(m)||Pc(m))return m=As(m,v.mode,b,null),m.return=v,m;Xh(v,m)}return null}function h(v,m,b,x){var C=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(v,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:return b.key===C?l(v,m,b,x):null;case Ha:return b.key===C?c(v,m,b,x):null;case Zr:return C=b._init,h(v,m,C(b._payload),x)}if(tu(b)||Pc(b))return C!==null?null:u(v,m,b,x,null);Xh(v,b)}return null}function f(v,m,b,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(b)||null,a(m,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bh:return v=v.get(x.key===null?b:x.key)||null,l(m,v,x,C);case Ha:return v=v.get(x.key===null?b:x.key)||null,c(m,v,x,C);case Zr:var E=x._init;return f(v,m,b,E(x._payload),C)}if(tu(x)||Pc(x))return v=v.get(b)||null,u(m,v,x,C,null);Xh(m,x)}return null}function p(v,m,b,x){for(var C=null,E=null,w=m,k=m=0,F=null;w!==null&&k<b.length;k++){w.index>k?(F=w,w=null):F=w.sibling;var P=h(v,w,b[k],x);if(P===null){w===null&&(w=F);break}t&&w&&P.alternate===null&&e(v,w),m=o(P,m,k),E===null?C=P:E.sibling=P,E=P,w=F}if(k===b.length)return n(v,w),Ze&&rs(v,k),C;if(w===null){for(;k<b.length;k++)w=d(v,b[k],x),w!==null&&(m=o(w,m,k),E===null?C=w:E.sibling=w,E=w);return Ze&&rs(v,k),C}for(w=i(v,w);k<b.length;k++)F=f(w,v,k,b[k],x),F!==null&&(t&&F.alternate!==null&&w.delete(F.key===null?k:F.key),m=o(F,m,k),E===null?C=F:E.sibling=F,E=F);return t&&w.forEach(function(D){return e(v,D)}),Ze&&rs(v,k),C}function g(v,m,b,x){var C=Pc(b);if(typeof C!="function")throw Error($(150));if(b=C.call(b),b==null)throw Error($(151));for(var E=C=null,w=m,k=m=0,F=null,P=b.next();w!==null&&!P.done;k++,P=b.next()){w.index>k?(F=w,w=null):F=w.sibling;var D=h(v,w,P.value,x);if(D===null){w===null&&(w=F);break}t&&w&&D.alternate===null&&e(v,w),m=o(D,m,k),E===null?C=D:E.sibling=D,E=D,w=F}if(P.done)return n(v,w),Ze&&rs(v,k),C;if(w===null){for(;!P.done;k++,P=b.next())P=d(v,P.value,x),P!==null&&(m=o(P,m,k),E===null?C=P:E.sibling=P,E=P);return Ze&&rs(v,k),C}for(w=i(v,w);!P.done;k++,P=b.next())P=f(w,v,k,P.value,x),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?k:P.key),m=o(P,m,k),E===null?C=P:E.sibling=P,E=P);return t&&w.forEach(function(W){return e(v,W)}),Ze&&rs(v,k),C}function _(v,m,b,x){if(typeof b=="object"&&b!==null&&b.type===Wa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bh:e:{for(var C=b.key,E=m;E!==null;){if(E.key===C){if(C=b.type,C===Wa){if(E.tag===7){n(v,E.sibling),m=r(E,b.props.children),m.return=v,v=m;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zr&&Pk(C)===E.type){n(v,E.sibling),m=r(E,b.props),m.ref=Mc(v,E,b),m.return=v,v=m;break e}n(v,E);break}else e(v,E);E=E.sibling}b.type===Wa?(m=As(b.props.children,v.mode,x,b.key),m.return=v,v=m):(x=Nf(b.type,b.key,b.props,null,v.mode,x),x.ref=Mc(v,m,b),x.return=v,v=x)}return s(v);case Ha:e:{for(E=b.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){n(v,m.sibling),m=r(m,b.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=iy(b,v.mode,x),m.return=v,v=m}return s(v);case Zr:return E=b._init,_(v,m,E(b._payload),x)}if(tu(b))return p(v,m,b,x);if(Pc(b))return g(v,m,b,x);Xh(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(n(v,m.sibling),m=r(m,b),m.return=v,v=m):(n(v,m),m=ny(b,v.mode,x),m.return=v,v=m),s(v)):n(v,m)}return _}var Sl=bR(!0),_R=bR(!1),th={},tr=Wo(th),Yu=Wo(th),Qu=Wo(th);function ys(t){if(t===th)throw Error($(174));return t}function Y_(t,e){switch(qe(Qu,e),qe(Yu,t),qe(tr,th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lb(e,t)}Xe(tr),qe(tr,e)}function Cl(){Xe(tr),Xe(Yu),Xe(Qu)}function wR(t){ys(Qu.current);var e=ys(tr.current),n=lb(e,t.type);e!==n&&(qe(Yu,t),qe(tr,n))}function Q_(t){Yu.current===t&&(Xe(tr),Xe(Yu))}var it=Wo(0);function dp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qv=[];function X_(){for(var t=0;t<Qv.length;t++)Qv[t]._workInProgressVersionPrimary=null;Qv.length=0}var Af=$r.ReactCurrentDispatcher,Xv=$r.ReactCurrentBatchConfig,Vs=0,ot=null,Rt=null,Vt=null,hp=!1,bu=!1,Xu=0,F5=0;function sn(){throw Error($(321))}function J_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ni(t[n],e[n]))return!1;return!0}function Z_(t,e,n,i,r,o){if(Vs=o,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Af.current=t===null||t.memoizedState===null?j5:H5,t=n(i,r),bu){o=0;do{if(bu=!1,Xu=0,25<=o)throw Error($(301));o+=1,Vt=Rt=null,e.updateQueue=null,Af.current=W5,t=n(i,r)}while(bu)}if(Af.current=fp,e=Rt!==null&&Rt.next!==null,Vs=0,Vt=Rt=ot=null,hp=!1,e)throw Error($(300));return t}function ew(){var t=Xu!==0;return Xu=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ot.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function vi(){if(Rt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Vt===null?ot.memoizedState:Vt.next;if(e!==null)Vt=e,Rt=t;else{if(t===null)throw Error($(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?ot.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Ju(t,e){return typeof e=="function"?e(t):e}function Jv(t){var e=vi(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var i=Rt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Vs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,ot.lanes|=u,$s|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Ni(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,ot.lanes|=o,$s|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zv(t){var e=vi(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);Ni(o,e.memoizedState)||(Dn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function xR(){}function ER(t,e){var n=ot,i=vi(),r=e(),o=!Ni(i.memoizedState,r);if(o&&(i.memoizedState=r,Dn=!0),i=i.queue,tw(TR.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Zu(9,kR.bind(null,n,i,r,e),void 0,null),zt===null)throw Error($(349));Vs&30||IR(n,e,r)}return r}function IR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kR(t,e,n,i){e.value=n,e.getSnapshot=i,SR(e)&&CR(t)}function TR(t,e,n){return n(function(){SR(e)&&CR(t)})}function SR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ni(t,n)}catch(i){return!0}}function CR(t){var e=Rr(t,1);e!==null&&Pi(e,t,1,-1)}function Dk(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:t},e.queue=t,t=t.dispatch=U5.bind(null,ot,t),[e.memoizedState,t]}function Zu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function AR(){return vi().memoizedState}function Rf(t,e,n,i){var r=zi();ot.flags|=t,r.memoizedState=Zu(1|e,n,void 0,i===void 0?null:i)}function Dm(t,e,n,i){var r=vi();i=i===void 0?null:i;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,i!==null&&J_(i,s.deps)){r.memoizedState=Zu(e,n,o,i);return}}ot.flags|=t,r.memoizedState=Zu(1|e,n,o,i)}function Ok(t,e){return Rf(8390656,8,t,e)}function tw(t,e){return Dm(2048,8,t,e)}function RR(t,e){return Dm(4,2,t,e)}function PR(t,e){return Dm(4,4,t,e)}function DR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OR(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4,4,DR.bind(null,e,t),n)}function nw(){}function NR(t,e){var n=vi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&J_(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function LR(t,e){var n=vi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&J_(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function MR(t,e,n){return Vs&21?(Ni(n,e)||(n=FA(),ot.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function B5(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var i=Xv.transition;Xv.transition={};try{t(!1),e()}finally{$e=n,Xv.transition=i}}function VR(){return vi().memoizedState}function z5(t,e,n){var i=yo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},$R(t))FR(e,n);else if(n=mR(t,e,n,i),n!==null){var r=_n();Pi(n,t,i,r),BR(n,e,i)}}function U5(t,e,n){var i=yo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if($R(t))FR(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Ni(a,s)){var l=e.interleaved;l===null?(r.next=r,G_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}n=mR(t,e,r,i),n!==null&&(r=_n(),Pi(n,t,i,r),BR(n,e,i))}}function $R(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function FR(t,e){bu=hp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BR(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,O_(t,n)}}var fp={readContext:gi,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},j5={readContext:gi,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:gi,useEffect:Ok,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rf(4194308,4,DR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rf(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=zi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=z5.bind(null,ot,t),[i.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:Dk,useDebugValue:nw,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=Dk(!1),e=t[0];return t=B5.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ot,r=zi();if(Ze){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),zt===null)throw Error($(349));Vs&30||IR(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Ok(TR.bind(null,i,o,t),[t]),i.flags|=2048,Zu(9,kR.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=zi(),e=zt.identifierPrefix;if(Ze){var n=pr,i=fr;n=(i&~(1<<32-Ri(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},H5={readContext:gi,useCallback:NR,useContext:gi,useEffect:tw,useImperativeHandle:OR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:LR,useReducer:Jv,useRef:AR,useState:function(){return Jv(Ju)},useDebugValue:nw,useDeferredValue:function(t){var e=vi();return MR(e,Rt.memoizedState,t)},useTransition:function(){var t=Jv(Ju)[0],e=vi().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:ER,useId:VR,unstable_isNewReconciler:!1},W5={readContext:gi,useCallback:NR,useContext:gi,useEffect:tw,useImperativeHandle:OR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:LR,useReducer:Zv,useRef:AR,useState:function(){return Zv(Ju)},useDebugValue:nw,useDeferredValue:function(t){var e=vi();return Rt===null?e.memoizedState=t:MR(e,Rt.memoizedState,t)},useTransition:function(){var t=Zv(Ju)[0],e=vi().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:ER,useId:VR,unstable_isNewReconciler:!1};function Al(t,e){try{var n="",i=e;do n+=b$(i),i=i.return;while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r,digest:null}}function ey(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Pb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q5=typeof WeakMap=="function"?WeakMap:Map;function zR(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){mp||(mp=!0,zb=i),Pb(t,e)},n}function UR(t,e,n){n=br(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Pb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pb(t,e),typeof i!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Nk(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new q5;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=sF.bind(null,t,e,n),e.then(t,t))}function Lk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mk(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var G5=$r.ReactCurrentOwner,Dn=!1;function mn(t,e,n,i){e.child=t===null?_R(e,null,n,i):Sl(e,t.child,n,i)}function Vk(t,e,n,i,r){n=n.render;var o=e.ref;return cl(e,r),i=Z_(t,e,n,i,o,r),n=ew(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Pr(t,e,r)):(Ze&&n&&z_(e),e.flags|=1,mn(t,e,i,r),e.child)}function $k(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!uw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,jR(t,e,o,i,r)):(t=Nf(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wu,n(s,i)&&t.ref===e.ref)return Pr(t,e,r)}return e.flags|=1,t=bo(o,i),t.ref=e.ref,t.return=e,e.child=t}function jR(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Wu(o,i)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,Pr(t,e,r)}return Db(t,e,n,i,r)}function HR(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(tl,qn),qn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(tl,qn),qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,qe(tl,qn),qn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,qe(tl,qn),qn|=i;return mn(t,e,r,n),e.child}function WR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Db(t,e,n,i,r){var o=Bn(n)?Ls:pn.current;return o=kl(e,o),cl(e,r),n=Z_(t,e,n,i,o,r),i=ew(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Pr(t,e,r)):(Ze&&i&&z_(e),e.flags|=1,mn(t,e,n,r),e.child)}function Fk(t,e,n,i,r){if(Bn(n)){var o=!0;op(e)}else o=!1;if(cl(e,r),e.stateNode===null)Pf(t,e),yR(e,n,i),Rb(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=gi(c):(c=Bn(n)?Ls:pn.current,c=kl(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Rk(e,s,i,c),eo=!1;var h=e.memoizedState;s.state=h,up(e,i,s,r),l=e.memoizedState,a!==i||h!==l||Fn.current||eo?(typeof u=="function"&&(Ab(e,n,u,i),l=e.memoizedState),(a=eo||Ak(e,n,a,i,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,gR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=gi(l):(l=Bn(n)?Ls:pn.current,l=kl(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Rk(e,s,i,l),eo=!1,h=e.memoizedState,s.state=h,up(e,i,s,r);var p=e.memoizedState;a!==d||h!==p||Fn.current||eo?(typeof f=="function"&&(Ab(e,n,f,i),p=e.memoizedState),(c=eo||Ak(e,n,c,i,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Ob(t,e,n,i,o,r)}function Ob(t,e,n,i,r,o){WR(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&Ik(e,n,!1),Pr(t,e,o);i=e.stateNode,G5.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Sl(e,t.child,null,o),e.child=Sl(e,null,a,o)):mn(t,e,a,o),e.memoizedState=i.state,r&&Ik(e,n,!0),e.child}function qR(t){var e=t.stateNode;e.pendingContext?Ek(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ek(t,e.context,!1),Y_(t,e.containerInfo)}function Bk(t,e,n,i,r){return Tl(),j_(r),e.flags|=256,mn(t,e,n,i),e.child}var Nb={dehydrated:null,treeContext:null,retryLane:0};function Lb(t){return{baseLanes:t,cachePool:null,transitions:null}}function GR(t,e,n){var i=e.pendingProps,r=it.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qe(it,r&1),t===null)return Sb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Lm(s,i,0,null),t=As(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Lb(n),e.memoizedState=Nb,t):iw(e,s));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return K5(t,e,s,i,a,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=bo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=bo(a,o):(o=As(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?Lb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nb,i}return o=t.child,t=o.sibling,i=bo(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function iw(t,e){return e=Lm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jh(t,e,n,i){return i!==null&&j_(i),Sl(e,t.child,null,n),t=iw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K5(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=ey(Error($(422))),Jh(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Lm({mode:"visible",children:i.children},r,0,null),o=As(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Sl(e,t.child,null,s),e.child.memoizedState=Lb(s),e.memoizedState=Nb,o);if(!(e.mode&1))return Jh(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error($(419)),i=ey(o,i,void 0),Jh(t,e,s,i)}if(a=(s&t.childLanes)!==0,Dn||a){if(i=zt,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Rr(t,r),Pi(i,t,r,-1))}return cw(),i=ey(Error($(421))),Jh(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=aF.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Yn=mo(r.nextSibling),Xn=e,Ze=!0,Ii=null,t!==null&&(ui[di++]=fr,ui[di++]=pr,ui[di++]=Ms,fr=t.id,pr=t.overflow,Ms=e),e=iw(e,i.children),e.flags|=4096,e)}function zk(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cb(t.return,e,n)}function ty(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function KR(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(mn(t,e,i.children,n),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zk(t,n,e);else if(t.tag===19)zk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(qe(it,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&dp(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ty(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&dp(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ty(e,!0,n,null,o);break;case"together":ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=bo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y5(t,e,n){switch(e.tag){case 3:qR(e),Tl();break;case 5:wR(e);break;case 1:Bn(e.type)&&op(e);break;case 4:Y_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;qe(lp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(qe(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?GR(t,e,n):(qe(it,it.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);qe(it,it.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return KR(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qe(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,HR(t,e,n)}return Pr(t,e,n)}var YR,Mb,QR,XR;YR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mb=function(){};QR=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ys(tr.current);var o=null;switch(n){case"input":r=rb(t,r),i=rb(t,i),o=[];break;case"select":r=at({},r,{value:void 0}),i=at({},i,{value:void 0}),o=[];break;case"textarea":r=ab(t,r),i=ab(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ip)}cb(n,i);var s;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($u.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};XR=function(t,e,n,i){n!==i&&(e.flags|=4)};function Vc(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Q5(t,e,n){var i=e.pendingProps;switch(U_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Bn(e.type)&&rp(),an(e),null;case 3:return i=e.stateNode,Cl(),Xe(Fn),Xe(pn),X_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Qh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ii!==null&&(Hb(Ii),Ii=null))),Mb(t,e),an(e),null;case 5:Q_(e);var r=ys(Qu.current);if(n=e.type,t!==null&&e.stateNode!=null)QR(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error($(166));return an(e),null}if(t=ys(tr.current),Qh(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Ui]=e,i[Ku]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(r=0;r<iu.length;r++)Ge(iu[r],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":QI(i,o),Ge("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",i);break;case"textarea":JI(i,o),Ge("invalid",i)}cb(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Yh(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Yh(i.textContent,a,t),r=["children",""+a]):$u.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",i)}switch(n){case"input":zh(i),XI(i,o,!0);break;case"textarea":zh(i),ZI(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=ip)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[Ui]=e,t[Ku]=i,YR(t,e,!1,!1),e.stateNode=t;e:{switch(s=ub(n,i),n){case"dialog":Ge("cancel",t),Ge("close",t),r=i;break;case"iframe":case"object":case"embed":Ge("load",t),r=i;break;case"video":case"audio":for(r=0;r<iu.length;r++)Ge(iu[r],t);r=i;break;case"source":Ge("error",t),r=i;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),r=i;break;case"details":Ge("toggle",t),r=i;break;case"input":QI(t,i),r=rb(t,i),Ge("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=at({},i,{value:void 0}),Ge("invalid",t);break;case"textarea":JI(t,i),r=ab(t,i),Ge("invalid",t);break;default:r=i}cb(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?SA(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kA(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fu(t,l):typeof l=="number"&&Fu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($u.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",t):l!=null&&S_(t,o,l,s))}switch(n){case"input":zh(t),XI(t,i,!1);break;case"textarea":zh(t),ZI(t);break;case"option":i.value!=null&&t.setAttribute("value",""+To(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?ol(t,!!i.multiple,o,!1):i.defaultValue!=null&&ol(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ip)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)XR(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error($(166));if(n=ys(Qu.current),ys(tr.current),Qh(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ui]=e,(o=i.nodeValue!==n)&&(t=Xn,t!==null))switch(t.tag){case 3:Yh(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ui]=e,e.stateNode=i}return an(e),null;case 13:if(Xe(it),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Yn!==null&&e.mode&1&&!(e.flags&128))pR(),Tl(),e.flags|=98560,o=!1;else if(o=Qh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Ui]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),o=!1}else Ii!==null&&(Hb(Ii),Ii=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Dt===0&&(Dt=3):cw())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return Cl(),Mb(t,e),t===null&&qu(e.stateNode.containerInfo),an(e),null;case 10:return q_(e.type._context),an(e),null;case 17:return Bn(e.type)&&rp(),an(e),null;case 19:if(Xe(it),o=e.memoizedState,o===null)return an(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Vc(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=dp(t),s!==null){for(e.flags|=128,Vc(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&wt()>Rl&&(e.flags|=128,i=!0,Vc(o,!1),e.lanes=4194304)}else{if(!i)if(t=dp(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return an(e),null}else 2*wt()-o.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,i=!0,Vc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wt(),e.sibling=null,n=it.current,qe(it,i?n&1|2:n&1),e):(an(e),null);case 22:case 23:return lw(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?qn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function X5(t,e){switch(U_(e),e.tag){case 1:return Bn(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),Xe(Fn),Xe(pn),X_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q_(e),null;case 13:if(Xe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(it),null;case 4:return Cl(),null;case 10:return q_(e.type._context),null;case 22:case 23:return lw(),null;case 24:return null;default:return null}}var Zh=!1,un=!1,J5=typeof WeakSet=="function"?WeakSet:Set,Z=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){dt(t,e,i)}else n.current=null}function Vb(t,e,n){try{n()}catch(i){dt(t,e,i)}}var Uk=!1;function Z5(t,e){if(_b=ep,t=tR(),B_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=s+r),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=s),h===o&&++u===i&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wb={focusedElem:t,selectionRange:n},ep=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xi(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){dt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return p=Uk,Uk=!1,p}function _u(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Vb(e,n,o)}r=r.next}while(r!==i)}}function Om(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function $b(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JR(t){var e=t.alternate;e!==null&&(t.alternate=null,JR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[Ku],delete e[Ib],delete e[L5],delete e[M5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZR(t){return t.tag===5||t.tag===3||t.tag===4}function jk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ip));else if(i!==4&&(t=t.child,t!==null))for(Fb(t,e,n),t=t.sibling;t!==null;)Fb(t,e,n),t=t.sibling}function Bb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Bb(t,e,n),t=t.sibling;t!==null;)Bb(t,e,n),t=t.sibling}var Xt=null,Ei=!1;function Kr(t,e,n){for(n=n.child;n!==null;)eP(t,e,n),n=n.sibling}function eP(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(km,n)}catch(a){}switch(n.tag){case 5:un||el(n,e);case 6:var i=Xt,r=Ei;Xt=null,Kr(t,e,n),Xt=i,Ei=r,Xt!==null&&(Ei?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Ei?(t=Xt,n=n.stateNode,t.nodeType===8?Kv(t.parentNode,n):t.nodeType===1&&Kv(t,n),ju(t)):Kv(Xt,n.stateNode));break;case 4:i=Xt,r=Ei,Xt=n.stateNode.containerInfo,Ei=!0,Kr(t,e,n),Xt=i,Ei=r;break;case 0:case 11:case 14:case 15:if(!un&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vb(n,e,s),r=r.next}while(r!==i)}Kr(t,e,n);break;case 1:if(!un&&(el(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){dt(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(un=(i=un)||n.memoizedState!==null,Kr(t,e,n),un=i):Kr(t,e,n);break;default:Kr(t,e,n)}}function Hk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J5),e.forEach(function(i){var r=lF.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function _i(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Ei=!1;break e;case 3:Xt=a.stateNode.containerInfo,Ei=!0;break e;case 4:Xt=a.stateNode.containerInfo,Ei=!0;break e}a=a.return}if(Xt===null)throw Error($(160));eP(o,s,r),Xt=null,Ei=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){dt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tP(e,t),e=e.sibling}function tP(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_i(e,t),Bi(t),i&4){try{_u(3,t,t.return),Om(3,t)}catch(g){dt(t,t.return,g)}try{_u(5,t,t.return)}catch(g){dt(t,t.return,g)}}break;case 1:_i(e,t),Bi(t),i&512&&n!==null&&el(n,n.return);break;case 5:if(_i(e,t),Bi(t),i&512&&n!==null&&el(n,n.return),t.flags&32){var r=t.stateNode;try{Fu(r,"")}catch(g){dt(t,t.return,g)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&xA(r,o),ub(a,s);var c=ub(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?SA(r,d):u==="dangerouslySetInnerHTML"?kA(r,d):u==="children"?Fu(r,d):S_(r,u,d,c)}switch(a){case"input":ob(r,o);break;case"textarea":EA(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ol(r,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?ol(r,!!o.multiple,o.defaultValue,!0):ol(r,!!o.multiple,o.multiple?[]:"",!1))}r[Ku]=o}catch(g){dt(t,t.return,g)}}break;case 6:if(_i(e,t),Bi(t),i&4){if(t.stateNode===null)throw Error($(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(g){dt(t,t.return,g)}}break;case 3:if(_i(e,t),Bi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ju(e.containerInfo)}catch(g){dt(t,t.return,g)}break;case 4:_i(e,t),Bi(t);break;case 13:_i(e,t),Bi(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(sw=wt())),i&4&&Hk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(un=(c=un)||u,_i(e,t),un=c):_i(e,t),Bi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,f=h.child,h.tag){case 0:case 11:case 14:case 15:_u(4,h,h.return);break;case 1:el(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){dt(i,n,g)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){qk(d);continue}}f!==null?(f.return=h,Z=f):qk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TA("display",s))}catch(g){dt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){dt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_i(e,t),Bi(t),i&4&&Hk(t);break;case 21:break;default:_i(e,t),Bi(t)}}function Bi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZR(n)){var i=n;break e}n=n.return}throw Error($(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Fu(r,""),i.flags&=-33);var o=jk(t);Bb(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=jk(t);Fb(t,a,s);break;default:throw Error($(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eF(t,e,n){Z=t,nP(t)}function nP(t,e,n){for(var i=(t.mode&1)!==0;Z!==null;){var r=Z,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Zh;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||un;a=Zh;var c=un;if(Zh=s,(un=l)&&!c)for(Z=r;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?Gk(r):l!==null?(l.return=s,Z=l):Gk(r);for(;o!==null;)Z=o,nP(o),o=o.sibling;Z=r,Zh=a,un=c}Wk(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Z=o):Wk(t)}}function Wk(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Om(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!un)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:xi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ck(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ck(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ju(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}un||e.flags&512&&$b(e)}catch(h){dt(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function qk(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Gk(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Om(4,e)}catch(l){dt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){dt(e,r,l)}}var o=e.return;try{$b(e)}catch(l){dt(e,o,l)}break;case 5:var s=e.return;try{$b(e)}catch(l){dt(e,s,l)}}}catch(l){dt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var tF=Math.ceil,pp=$r.ReactCurrentDispatcher,rw=$r.ReactCurrentOwner,mi=$r.ReactCurrentBatchConfig,De=0,zt=null,St=null,tn=0,qn=0,tl=Wo(0),Dt=0,ed=null,$s=0,Nm=0,ow=0,wu=null,Pn=null,sw=0,Rl=1/0,lr=null,mp=!1,zb=null,vo=null,ef=!1,ao=null,gp=0,xu=0,Ub=null,Df=-1,Of=0;function _n(){return De&6?wt():Df!==-1?Df:Df=wt()}function yo(t){return t.mode&1?De&2&&tn!==0?tn&-tn:$5.transition!==null?(Of===0&&(Of=FA()),Of):(t=$e,t!==0||(t=window.event,t=t===void 0?16:qA(t.type)),t):1}function Pi(t,e,n,i){if(50<xu)throw xu=0,Ub=null,Error($(185));Jd(t,n,i),(!(De&2)||t!==zt)&&(t===zt&&(!(De&2)&&(Nm|=n),Dt===4&&no(t,tn)),zn(t,i),n===1&&De===0&&!(e.mode&1)&&(Rl=wt()+500,Rm&&qo()))}function zn(t,e){var n=t.callbackNode;$$(t,e);var i=Zf(t,t===zt?tn:0);if(i===0)n!==null&&nk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&nk(n),e===1)t.tag===0?V5(Kk.bind(null,t)):dR(Kk.bind(null,t)),O5(function(){!(De&6)&&qo()}),n=null;else{switch(BA(i)){case 1:n=D_;break;case 4:n=VA;break;case 16:n=Jf;break;case 536870912:n=$A;break;default:n=Jf}n=uP(n,iP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iP(t,e){if(Df=-1,Of=0,De&6)throw Error($(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var i=Zf(t,t===zt?tn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=vp(t,i);else{e=i;var r=De;De|=2;var o=oP();(zt!==t||tn!==e)&&(lr=null,Rl=wt()+500,Cs(t,e));do try{rF();break}catch(a){rP(t,a)}while(!0);W_(),pp.current=o,De=r,St!==null?e=0:(zt=null,tn=0,e=Dt)}if(e!==0){if(e===2&&(r=mb(t),r!==0&&(i=r,e=jb(t,r))),e===1)throw n=ed,Cs(t,0),no(t,i),zn(t,wt()),n;if(e===6)no(t,i);else{if(r=t.current.alternate,!(i&30)&&!nF(r)&&(e=vp(t,i),e===2&&(o=mb(t),o!==0&&(i=o,e=jb(t,o))),e===1))throw n=ed,Cs(t,0),no(t,i),zn(t,wt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error($(345));case 2:os(t,Pn,lr);break;case 3:if(no(t,i),(i&130023424)===i&&(e=sw+500-wt(),10<e)){if(Zf(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){_n(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Eb(os.bind(null,t,Pn,lr),e);break}os(t,Pn,lr);break;case 4:if(no(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Ri(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=wt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tF(i/1960))-i,10<i){t.timeoutHandle=Eb(os.bind(null,t,Pn,lr),i);break}os(t,Pn,lr);break;case 5:os(t,Pn,lr);break;default:throw Error($(329))}}}return zn(t,wt()),t.callbackNode===n?iP.bind(null,t):null}function jb(t,e){var n=wu;return t.current.memoizedState.isDehydrated&&(Cs(t,e).flags|=256),t=vp(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&Hb(e)),t}function Hb(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function nF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ni(o(),r))return!1}catch(s){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~ow,e&=~Nm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ri(e),i=1<<n;t[n]=-1,e&=~i}}function Kk(t){if(De&6)throw Error($(327));ul();var e=Zf(t,0);if(!(e&1))return zn(t,wt()),null;var n=vp(t,e);if(t.tag!==0&&n===2){var i=mb(t);i!==0&&(e=i,n=jb(t,i))}if(n===1)throw n=ed,Cs(t,0),no(t,e),zn(t,wt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Pn,lr),zn(t,wt()),null}function aw(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Rl=wt()+500,Rm&&qo())}}function Fs(t){ao!==null&&ao.tag===0&&!(De&6)&&ul();var e=De;De|=1;var n=mi.transition,i=$e;try{if(mi.transition=null,$e=1,t)return t()}finally{$e=i,mi.transition=n,De=e,!(De&6)&&qo()}}function lw(){qn=tl.current,Xe(tl)}function Cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D5(n)),St!==null)for(n=St.return;n!==null;){var i=n;switch(U_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&rp();break;case 3:Cl(),Xe(Fn),Xe(pn),X_();break;case 5:Q_(i);break;case 4:Cl();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:q_(i.type._context);break;case 22:case 23:lw()}n=n.return}if(zt=t,St=t=bo(t.current,null),tn=qn=e,Dt=0,ed=null,ow=Nm=$s=0,Pn=wu=null,vs!==null){for(e=0;e<vs.length;e++)if(n=vs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}vs=null}return t}function rP(t,e){do{var n=St;try{if(W_(),Af.current=fp,hp){for(var i=ot.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}hp=!1}if(Vs=0,Vt=Rt=ot=null,bu=!1,Xu=0,rw.current=null,n===null||n.return===null){Dt=1,ed=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Lk(s);if(f!==null){f.flags&=-257,Mk(f,s,a,o,e),f.mode&1&&Nk(o,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Nk(o,c,e),cw();break e}l=Error($(426))}}else if(Ze&&a.mode&1){var _=Lk(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Mk(_,s,a,o,e),j_(Al(l,a));break e}}o=l=Al(l,a),Dt!==4&&(Dt=2),wu===null?wu=[o]:wu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=zR(o,l,e);Sk(o,v);break e;case 1:a=l;var m=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vo===null||!vo.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=UR(o,a,e);Sk(o,x);break e}}o=o.return}while(o!==null)}aP(n)}catch(C){e=C,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function oP(){var t=pp.current;return pp.current=fp,t===null?fp:t}function cw(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||!($s&268435455)&&!(Nm&268435455)||no(zt,tn)}function vp(t,e){var n=De;De|=2;var i=oP();(zt!==t||tn!==e)&&(lr=null,Cs(t,e));do try{iF();break}catch(r){rP(t,r)}while(!0);if(W_(),De=n,pp.current=i,St!==null)throw Error($(261));return zt=null,tn=0,Dt}function iF(){for(;St!==null;)sP(St)}function rF(){for(;St!==null&&!A$();)sP(St)}function sP(t){var e=cP(t.alternate,t,qn);t.memoizedProps=t.pendingProps,e===null?aP(t):St=e,rw.current=null}function aP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X5(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,St=null;return}}else if(n=Q5(n,e,qn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Dt===0&&(Dt=5)}function os(t,e,n){var i=$e,r=mi.transition;try{mi.transition=null,$e=1,oF(t,e,n,i)}finally{mi.transition=r,$e=i}return null}function oF(t,e,n,i){do ul();while(ao!==null);if(De&6)throw Error($(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(F$(t,o),t===zt&&(St=zt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ef||(ef=!0,uP(Jf,function(){return ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var s=$e;$e=1;var a=De;De|=4,rw.current=null,Z5(t,n),tP(n,t),k5(wb),ep=!!_b,wb=_b=null,t.current=n,eF(n),R$(),De=a,$e=s,mi.transition=o}else t.current=n;if(ef&&(ef=!1,ao=t,gp=r),o=t.pendingLanes,o===0&&(vo=null),O$(n.stateNode),zn(t,wt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(mp)throw mp=!1,t=zb,zb=null,t;return gp&1&&t.tag!==0&&ul(),o=t.pendingLanes,o&1?t===Ub?xu++:(xu=0,Ub=t):xu=0,qo(),null}function ul(){if(ao!==null){var t=BA(gp),e=mi.transition,n=$e;try{if(mi.transition=null,$e=16>t?16:t,ao===null)var i=!1;else{if(t=ao,ao=null,gp=0,De&6)throw Error($(331));var r=De;for(De|=4,Z=t.current;Z!==null;){var o=Z,s=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:_u(8,u,o)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,f=u.return;if(JR(u),u===c){Z=null;break}if(h!==null){h.return=f,Z=h;break}Z=f}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}Z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Z=s;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_u(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Z=v;break e}Z=o.return}}var m=t.current;for(Z=m;Z!==null;){s=Z;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Z=b;else e:for(s=m;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Om(9,a)}}catch(C){dt(a,a.return,C)}if(a===s){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(De=r,qo(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(km,t)}catch(C){}i=!0}return i}finally{$e=n,mi.transition=e}}return!1}function Yk(t,e,n){e=Al(n,e),e=zR(t,e,1),t=go(t,e,1),e=_n(),t!==null&&(Jd(t,1,e),zn(t,e))}function dt(t,e,n){if(t.tag===3)Yk(t,t,n);else for(;e!==null;){if(e.tag===3){Yk(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vo===null||!vo.has(i))){t=Al(n,t),t=UR(e,t,1),e=go(e,t,1),t=_n(),e!==null&&(Jd(e,1,t),zn(e,t));break}}e=e.return}}function sF(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(tn&n)===n&&(Dt===4||Dt===3&&(tn&130023424)===tn&&500>wt()-sw?Cs(t,0):ow|=n),zn(t,e)}function lP(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var n=_n();t=Rr(t,e),t!==null&&(Jd(t,e,n),zn(t,n))}function aF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lP(t,n)}function lF(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error($(314))}i!==null&&i.delete(e),lP(t,n)}var cP;cP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,Y5(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,Ze&&e.flags&1048576&&hR(e,ap,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Pf(t,e),t=e.pendingProps;var r=kl(e,pn.current);cl(e,n),r=Z_(null,e,i,t,r,n);var o=ew();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(i)?(o=!0,op(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,K_(e),r.updater=Pm,e.stateNode=r,r._reactInternals=e,Rb(e,i,t,n),e=Ob(null,e,i,!0,o,n)):(e.tag=0,Ze&&o&&z_(e),mn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Pf(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=uF(i),t=xi(i,t),r){case 0:e=Db(null,e,i,t,n);break e;case 1:e=Fk(null,e,i,t,n);break e;case 11:e=Vk(null,e,i,t,n);break e;case 14:e=$k(null,e,i,xi(i.type,t),n);break e}throw Error($(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xi(i,r),Db(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xi(i,r),Fk(t,e,i,r,n);case 3:e:{if(qR(e),t===null)throw Error($(387));i=e.pendingProps,o=e.memoizedState,r=o.element,gR(t,e),up(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Al(Error($(423)),e),e=Bk(t,e,i,n,r);break e}else if(i!==r){r=Al(Error($(424)),e),e=Bk(t,e,i,n,r);break e}else for(Yn=mo(e.stateNode.containerInfo.firstChild),Xn=e,Ze=!0,Ii=null,n=_R(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),i===r){e=Pr(t,e,n);break e}mn(t,e,i,n)}e=e.child}return e;case 5:return wR(e),t===null&&Sb(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,xb(i,r)?s=null:o!==null&&xb(i,o)&&(e.flags|=32),WR(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&Sb(e),null;case 13:return GR(t,e,n);case 4:return Y_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Sl(e,null,i,n):mn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xi(i,r),Vk(t,e,i,r,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,qe(lp,i._currentValue),i._currentValue=s,o!==null)if(Ni(o.value,s)){if(o.children===r.children&&!Fn.current){e=Pr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=br(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cb(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cb(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,cl(e,n),r=gi(r),i=i(r),e.flags|=1,mn(t,e,i,n),e.child;case 14:return i=e.type,r=xi(i,e.pendingProps),r=xi(i.type,r),$k(t,e,i,r,n);case 15:return jR(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xi(i,r),Pf(t,e),e.tag=1,Bn(i)?(t=!0,op(e)):t=!1,cl(e,n),yR(e,i,r),Rb(e,i,r,n),Ob(null,e,i,!0,t,n);case 19:return KR(t,e,n);case 22:return HR(t,e,n)}throw Error($(156,e.tag))};function uP(t,e){return MA(t,e)}function cF(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,e,n,i){return new cF(t,e,n,i)}function uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uF(t){if(typeof t=="function")return uw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A_)return 11;if(t===R_)return 14}return 2}function bo(t,e){var n=t.alternate;return n===null?(n=fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nf(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")uw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wa:return As(n.children,r,o,e);case C_:s=8,r|=8;break;case eb:return t=fi(12,n,e,r|2),t.elementType=eb,t.lanes=o,t;case tb:return t=fi(13,n,e,r),t.elementType=tb,t.lanes=o,t;case nb:return t=fi(19,n,e,r),t.elementType=nb,t.lanes=o,t;case bA:return Lm(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vA:s=10;break e;case yA:s=9;break e;case A_:s=11;break e;case R_:s=14;break e;case Zr:s=16,i=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=fi(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function As(t,e,n,i){return t=fi(7,t,i,e),t.lanes=n,t}function Lm(t,e,n,i){return t=fi(22,t,i,e),t.elementType=bA,t.lanes=n,t.stateNode={isHidden:!1},t}function ny(t,e,n){return t=fi(6,t,null,e),t.lanes=n,t}function iy(t,e,n){return e=fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dF(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function dw(t,e,n,i,r,o,s,a,l){return t=new dF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},K_(o),t}function hF(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function dP(t){if(!t)return So;t=t._reactInternals;e:{if(la(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Bn(n))return uR(t,n,e)}return e}function hP(t,e,n,i,r,o,s,a,l){return t=dw(n,i,!0,t,r,o,s,a,l),t.context=dP(null),n=t.current,i=_n(),r=yo(n),o=br(i,r),o.callback=e!=null?e:null,go(n,o,r),t.current.lanes=r,Jd(t,r,i),zn(t,i),t}function Mm(t,e,n,i){var r=e.current,o=_n(),s=yo(r);return n=dP(n),e.context===null?e.context=n:e.pendingContext=n,e=br(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=go(r,e,s),t!==null&&(Pi(t,r,s,o),Cf(t,r,s)),s}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hw(t,e){Qk(t,e),(t=t.alternate)&&Qk(t,e)}function fF(){return null}var fP=typeof reportError=="function"?reportError:function(t){console.error(t)};function fw(t){this._internalRoot=t}Vm.prototype.render=fw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Mm(t,e,null,null)};Vm.prototype.unmount=fw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Mm(null,t,null,null)}),e[Ar]=null}};function Vm(t){this._internalRoot=t}Vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=jA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&WA(t)}};function pw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xk(){}function pF(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=yp(s);o.call(c)}}var s=hP(e,i,t,0,null,!1,!1,"",Xk);return t._reactRootContainer=s,t[Ar]=s.current,qu(t.nodeType===8?t.parentNode:t),Fs(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=yp(l);a.call(c)}}var l=dw(t,0,!1,null,null,!1,!1,"",Xk);return t._reactRootContainer=l,t[Ar]=l.current,qu(t.nodeType===8?t.parentNode:t),Fs(function(){Mm(e,l,n,i)}),l}function Fm(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=yp(s);a.call(l)}}Mm(e,s,t,r)}else s=pF(n,e,t,r,i);return yp(s)}zA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nu(e.pendingLanes);n!==0&&(O_(e,n|1),zn(e,wt()),!(De&6)&&(Rl=wt()+500,qo()))}break;case 13:Fs(function(){var i=Rr(t,1);if(i!==null){var r=_n();Pi(i,t,1,r)}}),hw(t,1)}};N_=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var n=_n();Pi(e,t,134217728,n)}hw(t,134217728)}};UA=function(t){if(t.tag===13){var e=yo(t),n=Rr(t,e);if(n!==null){var i=_n();Pi(n,t,e,i)}hw(t,e)}};jA=function(){return $e};HA=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};hb=function(t,e,n){switch(e){case"input":if(ob(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Am(i);if(!r)throw Error($(90));wA(i),ob(i,r)}}}break;case"textarea":EA(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};RA=aw;PA=Fs;var mF={usingClientEntryPoint:!1,Events:[eh,Ya,Am,CA,AA,aw]},$c={findFiberByHostInstance:gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gF={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NA(t),t===null?null:t.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||fF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{km=tf.inject(gF),er=tf}catch(t){}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mF;ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pw(e))throw Error($(200));return hF(t,e,null,n)};ii.createRoot=function(t,e){if(!pw(t))throw Error($(299));var n=!1,i="",r=fP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=dw(t,1,!1,null,null,n,!1,i,r),t[Ar]=e.current,qu(t.nodeType===8?t.parentNode:t),new fw(e)};ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=NA(e),t=t===null?null:t.stateNode,t};ii.flushSync=function(t){return Fs(t)};ii.hydrate=function(t,e,n){if(!$m(e))throw Error($(200));return Fm(null,t,e,!0,n)};ii.hydrateRoot=function(t,e,n){if(!pw(t))throw Error($(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=fP;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=hP(e,null,t,1,n!=null?n:null,r,!1,o,s),t[Ar]=e.current,qu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Vm(e)};ii.render=function(t,e,n){if(!$m(e))throw Error($(200));return Fm(null,t,e,!1,n)};ii.unmountComponentAtNode=function(t){if(!$m(t))throw Error($(40));return t._reactRootContainer?(Fs(function(){Fm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};ii.unstable_batchedUpdates=aw;ii.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!$m(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Fm(t,e,n,!1,i)};ii.version="18.2.0-next-9e3b772b8-20220608";function pP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pP)}catch(t){console.error(t)}}pP(),hA.exports=ii;var mw=hA.exports;const vF=Qd(mw);var mP,Jk=mw;mP=Jk.createRoot,Jk.hydrateRoot;function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Wb(t,e)}function Co(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wb(t,e)}var gP={exports:{}},yF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bF=yF,_F=bF;function vP(){}function yP(){}yP.resetWarningCache=vP;var wF=function(){function t(i,r,o,s,a,l){if(l!==_F){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yP,resetWarningCache:vP};return n.PropTypes=n,n};gP.exports=wF();var xF=gP.exports;const Zk=Qd(xF);function jn(){return jn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jn.apply(this,arguments)}function nf(t){return t.charAt(0)==="/"}function ry(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function EF(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&nf(t),o=e&&nf(e),s=r||o;if(t&&nf(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?ry(i,u):d===".."?(ry(i,u),c++):c&&(ry(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");s&&i[0]!==""&&(!i[0]||!nf(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function e1(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Lf(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(r,o){return Lf(r,e[o])});if(typeof t=="object"||typeof e=="object"){var n=e1(t),i=e1(e);return n!==t||i!==e?Lf(n,i):Object.keys(Object.assign({},t,e)).every(function(r){return Lf(t[r],e[r])})}return!1}var IF=!0,oy="Invariant failed";function ca(t,e){if(!t){if(IF)throw new Error(oy);var n=typeof e=="function"?e():e,i=n?"".concat(oy,": ").concat(n):oy;throw new Error(i)}}function Eu(t){return t.charAt(0)==="/"?t:"/"+t}function t1(t){return t.charAt(0)==="/"?t.substr(1):t}function kF(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function bP(t,e){return kF(t,e)?t.substr(e.length):t}function _P(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function TF(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function ci(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function On(t,e,n,i){var r;typeof t=="string"?(r=TF(t),r.state=e):(r=jn({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=EF(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function SF(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Lf(t.state,e.state)}function gw(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:o}}var wP=!!(typeof window<"u"&&window.document&&window.document.createElement);function xP(t,e){e(window.confirm(t))}function CF(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function AF(){return window.navigator.userAgent.indexOf("Trident")===-1}function RF(){return window.navigator.userAgent.indexOf("Firefox")===-1}function PF(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var n1="popstate",i1="hashchange";function r1(){try{return window.history.state||{}}catch(t){return{}}}function DF(t){t===void 0&&(t={}),wP||ca(!1);var e=window.history,n=CF(),i=!AF(),r=t,o=r.forceRefresh,s=o===void 0?!1:o,a=r.getUserConfirmation,l=a===void 0?xP:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?_P(Eu(t.basename)):"";function h(V){var N=V||{},H=N.key,X=N.state,pe=window.location,me=pe.pathname,bt=pe.search,Se=pe.hash,_t=me+bt+Se;return d&&(_t=bP(_t,d)),On(_t,X,H)}function f(){return Math.random().toString(36).substr(2,u)}var p=gw();function g(V){jn(R,V),R.length=e.length,p.notifyListeners(R.location,R.action)}function _(V){PF(V)||b(h(V.state))}function v(){b(h(r1()))}var m=!1;function b(V){if(m)m=!1,g();else{var N="POP";p.confirmTransitionTo(V,N,l,function(H){H?g({action:N,location:V}):x(V)})}}function x(V){var N=R.location,H=E.indexOf(N.key);H===-1&&(H=0);var X=E.indexOf(V.key);X===-1&&(X=0);var pe=H-X;pe&&(m=!0,P(pe))}var C=h(r1()),E=[C.key];function w(V){return d+ci(V)}function k(V,N){var H="PUSH",X=On(V,N,f(),R.location);p.confirmTransitionTo(X,H,l,function(pe){if(pe){var me=w(X),bt=X.key,Se=X.state;if(n)if(e.pushState({key:bt,state:Se},null,me),s)window.location.href=me;else{var _t=E.indexOf(R.location.key),Wn=E.slice(0,_t+1);Wn.push(X.key),E=Wn,g({action:H,location:X})}else window.location.href=me}})}function F(V,N){var H="REPLACE",X=On(V,N,f(),R.location);p.confirmTransitionTo(X,H,l,function(pe){if(pe){var me=w(X),bt=X.key,Se=X.state;if(n)if(e.replaceState({key:bt,state:Se},null,me),s)window.location.replace(me);else{var _t=E.indexOf(R.location.key);_t!==-1&&(E[_t]=X.key),g({action:H,location:X})}else window.location.replace(me)}})}function P(V){e.go(V)}function D(){P(-1)}function W(){P(1)}var ue=0;function ke(V){ue+=V,ue===1&&V===1?(window.addEventListener(n1,_),i&&window.addEventListener(i1,v)):ue===0&&(window.removeEventListener(n1,_),i&&window.removeEventListener(i1,v))}var ae=!1;function Le(V){V===void 0&&(V=!1);var N=p.setPrompt(V);return ae||(ke(1),ae=!0),function(){return ae&&(ae=!1,ke(-1)),N()}}function ve(V){var N=p.appendListener(V);return ke(1),function(){ke(-1),N()}}var R={length:e.length,action:"POP",location:C,createHref:w,push:k,replace:F,go:P,goBack:D,goForward:W,block:Le,listen:ve};return R}var o1="hashchange",OF={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+t1(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:t1,decodePath:Eu},slash:{encodePath:Eu,decodePath:Eu}};function EP(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Fc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function NF(t){window.location.hash=t}function sy(t){window.location.replace(EP(window.location.href)+"#"+t)}function LF(t){t===void 0&&(t={}),wP||ca(!1);var e=window.history;RF();var n=t,i=n.getUserConfirmation,r=i===void 0?xP:i,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?_P(Eu(t.basename)):"",l=OF[s],c=l.encodePath,u=l.decodePath;function d(){var N=u(Fc());return a&&(N=bP(N,a)),On(N)}var h=gw();function f(N){jn(V,N),V.length=e.length,h.notifyListeners(V.location,V.action)}var p=!1,g=null;function _(N,H){return N.pathname===H.pathname&&N.search===H.search&&N.hash===H.hash}function v(){var N=Fc(),H=c(N);if(N!==H)sy(H);else{var X=d(),pe=V.location;if(!p&&_(pe,X)||g===ci(X))return;g=null,m(X)}}function m(N){if(p)p=!1,f();else{var H="POP";h.confirmTransitionTo(N,H,r,function(X){X?f({action:H,location:N}):b(N)})}}function b(N){var H=V.location,X=w.lastIndexOf(ci(H));X===-1&&(X=0);var pe=w.lastIndexOf(ci(N));pe===-1&&(pe=0);var me=X-pe;me&&(p=!0,D(me))}var x=Fc(),C=c(x);x!==C&&sy(C);var E=d(),w=[ci(E)];function k(N){var H=document.querySelector("base"),X="";return H&&H.getAttribute("href")&&(X=EP(window.location.href)),X+"#"+c(a+ci(N))}function F(N,H){var X="PUSH",pe=On(N,void 0,void 0,V.location);h.confirmTransitionTo(pe,X,r,function(me){if(me){var bt=ci(pe),Se=c(a+bt),_t=Fc()!==Se;if(_t){g=bt,NF(Se);var Wn=w.lastIndexOf(ci(V.location)),Ia=w.slice(0,Wn+1);Ia.push(bt),w=Ia,f({action:X,location:pe})}else f()}})}function P(N,H){var X="REPLACE",pe=On(N,void 0,void 0,V.location);h.confirmTransitionTo(pe,X,r,function(me){if(me){var bt=ci(pe),Se=c(a+bt),_t=Fc()!==Se;_t&&(g=bt,sy(Se));var Wn=w.indexOf(ci(V.location));Wn!==-1&&(w[Wn]=bt),f({action:X,location:pe})}})}function D(N){e.go(N)}function W(){D(-1)}function ue(){D(1)}var ke=0;function ae(N){ke+=N,ke===1&&N===1?window.addEventListener(o1,v):ke===0&&window.removeEventListener(o1,v)}var Le=!1;function ve(N){N===void 0&&(N=!1);var H=h.setPrompt(N);return Le||(ae(1),Le=!0),function(){return Le&&(Le=!1,ae(-1)),H()}}function R(N){var H=h.appendListener(N);return ae(1),function(){ae(-1),H()}}var V={length:e.length,action:"POP",location:E,createHref:k,push:F,replace:P,go:D,goBack:W,goForward:ue,block:ve,listen:R};return V}function s1(t,e,n){return Math.min(Math.max(t,e),n)}function MF(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=gw();function u(k){jn(w,k),w.length=w.entries.length,c.notifyListeners(w.location,w.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=s1(s,0,r.length-1),f=r.map(function(k){return typeof k=="string"?On(k,void 0,d()):On(k,void 0,k.key||d())}),p=ci;function g(k,F){var P="PUSH",D=On(k,F,d(),w.location);c.confirmTransitionTo(D,P,n,function(W){if(W){var ue=w.index,ke=ue+1,ae=w.entries.slice(0);ae.length>ke?ae.splice(ke,ae.length-ke,D):ae.push(D),u({action:P,location:D,index:ke,entries:ae})}})}function _(k,F){var P="REPLACE",D=On(k,F,d(),w.location);c.confirmTransitionTo(D,P,n,function(W){W&&(w.entries[w.index]=D,u({action:P,location:D}))})}function v(k){var F=s1(w.index+k,0,w.entries.length-1),P="POP",D=w.entries[F];c.confirmTransitionTo(D,P,n,function(W){W?u({action:P,location:D,index:F}):u()})}function m(){v(-1)}function b(){v(1)}function x(k){var F=w.index+k;return F>=0&&F<w.entries.length}function C(k){return k===void 0&&(k=!1),c.setPrompt(k)}function E(k){return c.appendListener(k)}var w={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:g,replace:_,go:v,goBack:m,goForward:b,canGo:x,block:C,listen:E};return w}var sc={exports:{}},VF=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},bp=VF;sc.exports=TP;sc.exports.parse=vw;sc.exports.compile=FF;sc.exports.tokensToFunction=IP;sc.exports.tokensToRegExp=kP;var $F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function vw(t,e){for(var n=[],i=0,r=0,o="",s=e&&e.delimiter||"/",a;(a=$F.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(r,u),r=u+l.length,c){o+=c[1];continue}var d=t[r],h=a[2],f=a[3],p=a[4],g=a[5],_=a[6],v=a[7];o&&(n.push(o),o="");var m=h!=null&&d!=null&&d!==h,b=_==="+"||_==="*",x=_==="?"||_==="*",C=a[2]||s,E=p||g;n.push({name:f||i++,prefix:h||"",delimiter:C,optional:x,repeat:b,partial:m,asterisk:!!v,pattern:E?UF(E):v?".*":"[^"+Mf(C)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&n.push(o),n}function FF(t,e){return IP(vw(t,e),e)}function BF(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function zF(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function IP(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",bw(e)));return function(r,o){for(var s="",a=r||{},l=o||{},c=l.pretty?BF:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(bp(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!n[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");s+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?zF(h):c(h),!n[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');s+=d.prefix+f}return s}}function Mf(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function UF(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function yw(t,e){return t.keys=e,t}function bw(t){return t&&t.sensitive?"":"i"}function jF(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return yw(t,e)}function HF(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(TP(t[r],e,n).source);var o=new RegExp("(?:"+i.join("|")+")",bw(n));return yw(o,e)}function WF(t,e,n){return kP(vw(t,n),e,n)}function kP(t,e,n){bp(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=Mf(a);else{var l=Mf(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Mf(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),r?o+="$":o+=i&&d?"":"(?="+u+"|$)",yw(new RegExp("^"+o,bw(n)),e)}function TP(t,e,n){return bp(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?jF(t,e):bp(t)?HF(t,e,n):WF(t,e,n)}var qF=sc.exports;const SP=Qd(qF);var Ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=typeof Symbol=="function"&&Symbol.for,_w=qt?Symbol.for("react.element"):60103,ww=qt?Symbol.for("react.portal"):60106,Bm=qt?Symbol.for("react.fragment"):60107,zm=qt?Symbol.for("react.strict_mode"):60108,Um=qt?Symbol.for("react.profiler"):60114,jm=qt?Symbol.for("react.provider"):60109,Hm=qt?Symbol.for("react.context"):60110,xw=qt?Symbol.for("react.async_mode"):60111,Wm=qt?Symbol.for("react.concurrent_mode"):60111,qm=qt?Symbol.for("react.forward_ref"):60112,Gm=qt?Symbol.for("react.suspense"):60113,GF=qt?Symbol.for("react.suspense_list"):60120,Km=qt?Symbol.for("react.memo"):60115,Ym=qt?Symbol.for("react.lazy"):60116,KF=qt?Symbol.for("react.block"):60121,YF=qt?Symbol.for("react.fundamental"):60117,QF=qt?Symbol.for("react.responder"):60118,XF=qt?Symbol.for("react.scope"):60119;function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _w:switch(t=t.type,t){case xw:case Wm:case Bm:case Um:case zm:case Gm:return t;default:switch(t=t&&t.$$typeof,t){case Hm:case qm:case Ym:case Km:case jm:return t;default:return e}}case ww:return e}}}function CP(t){return oi(t)===Wm}Ue.AsyncMode=xw;Ue.ConcurrentMode=Wm;Ue.ContextConsumer=Hm;Ue.ContextProvider=jm;Ue.Element=_w;Ue.ForwardRef=qm;Ue.Fragment=Bm;Ue.Lazy=Ym;Ue.Memo=Km;Ue.Portal=ww;Ue.Profiler=Um;Ue.StrictMode=zm;Ue.Suspense=Gm;Ue.isAsyncMode=function(t){return CP(t)||oi(t)===xw};Ue.isConcurrentMode=CP;Ue.isContextConsumer=function(t){return oi(t)===Hm};Ue.isContextProvider=function(t){return oi(t)===jm};Ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_w};Ue.isForwardRef=function(t){return oi(t)===qm};Ue.isFragment=function(t){return oi(t)===Bm};Ue.isLazy=function(t){return oi(t)===Ym};Ue.isMemo=function(t){return oi(t)===Km};Ue.isPortal=function(t){return oi(t)===ww};Ue.isProfiler=function(t){return oi(t)===Um};Ue.isStrictMode=function(t){return oi(t)===zm};Ue.isSuspense=function(t){return oi(t)===Gm};Ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bm||t===Wm||t===Um||t===zm||t===Gm||t===GF||typeof t=="object"&&t!==null&&(t.$$typeof===Ym||t.$$typeof===Km||t.$$typeof===jm||t.$$typeof===Hm||t.$$typeof===qm||t.$$typeof===YF||t.$$typeof===QF||t.$$typeof===XF||t.$$typeof===KF)};Ue.typeOf=oi;function AP(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var RP={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,Ew=Gt?Symbol.for("react.element"):60103,Iw=Gt?Symbol.for("react.portal"):60106,Qm=Gt?Symbol.for("react.fragment"):60107,Xm=Gt?Symbol.for("react.strict_mode"):60108,Jm=Gt?Symbol.for("react.profiler"):60114,Zm=Gt?Symbol.for("react.provider"):60109,eg=Gt?Symbol.for("react.context"):60110,kw=Gt?Symbol.for("react.async_mode"):60111,tg=Gt?Symbol.for("react.concurrent_mode"):60111,ng=Gt?Symbol.for("react.forward_ref"):60112,ig=Gt?Symbol.for("react.suspense"):60113,JF=Gt?Symbol.for("react.suspense_list"):60120,rg=Gt?Symbol.for("react.memo"):60115,og=Gt?Symbol.for("react.lazy"):60116,ZF=Gt?Symbol.for("react.block"):60121,e6=Gt?Symbol.for("react.fundamental"):60117,t6=Gt?Symbol.for("react.responder"):60118,n6=Gt?Symbol.for("react.scope"):60119;function si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case kw:case tg:case Qm:case Jm:case Xm:case ig:return t;default:switch(t=t&&t.$$typeof,t){case eg:case ng:case og:case rg:case Zm:return t;default:return e}}case Iw:return e}}}function PP(t){return si(t)===tg}Be.AsyncMode=kw;Be.ConcurrentMode=tg;Be.ContextConsumer=eg;Be.ContextProvider=Zm;Be.Element=Ew;Be.ForwardRef=ng;Be.Fragment=Qm;Be.Lazy=og;Be.Memo=rg;Be.Portal=Iw;Be.Profiler=Jm;Be.StrictMode=Xm;Be.Suspense=ig;Be.isAsyncMode=function(t){return PP(t)||si(t)===kw};Be.isConcurrentMode=PP;Be.isContextConsumer=function(t){return si(t)===eg};Be.isContextProvider=function(t){return si(t)===Zm};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};Be.isForwardRef=function(t){return si(t)===ng};Be.isFragment=function(t){return si(t)===Qm};Be.isLazy=function(t){return si(t)===og};Be.isMemo=function(t){return si(t)===rg};Be.isPortal=function(t){return si(t)===Iw};Be.isProfiler=function(t){return si(t)===Jm};Be.isStrictMode=function(t){return si(t)===Xm};Be.isSuspense=function(t){return si(t)===ig};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qm||t===tg||t===Jm||t===Xm||t===ig||t===JF||typeof t=="object"&&t!==null&&(t.$$typeof===og||t.$$typeof===rg||t.$$typeof===Zm||t.$$typeof===eg||t.$$typeof===ng||t.$$typeof===e6||t.$$typeof===t6||t.$$typeof===n6||t.$$typeof===ZF)};Be.typeOf=si;RP.exports=Be;var i6=RP.exports,Tw=i6,r6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Sw={};Sw[Tw.ForwardRef]=s6;Sw[Tw.Memo]=DP;function a1(t){return Tw.isMemo(t)?DP:Sw[t.$$typeof]||r6}var a6=Object.defineProperty,l6=Object.getOwnPropertyNames,l1=Object.getOwnPropertySymbols,c6=Object.getOwnPropertyDescriptor,u6=Object.getPrototypeOf,c1=Object.prototype;function OP(t,e,n){if(typeof e!="string"){if(c1){var i=u6(e);i&&i!==c1&&OP(t,i,n)}var r=l6(e);l1&&(r=r.concat(l1(e)));for(var o=a1(t),s=a1(e),a=0;a<r.length;++a){var l=r[a];if(!o6[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=c6(e,l);try{a6(t,l,c)}catch(u){}}}}return t}var d6=OP;const h6=Qd(d6);var ay=1073741823,u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function f6(){var t="__global_unique_id__";return u1[t]=(u1[t]||0)+1}function p6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function m6(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(o){return o(t,r)})}}}function g6(t){return Array.isArray(t)?t[0]:t}function v6(t,e){var n,i,r="__create-react-context-"+f6()+"__",o=function(a){Co(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=m6(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;p6(h,f)?p=0:(p=typeof e=="function"?e(h,f):ay,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(O.Component);o.childContextTypes=(n={},n[r]=Zk.object.isRequired,n);var s=function(a){Co(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,g){var _=u.observedBits|0;_&g&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?ay:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?ay:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return g6(this.props.children)(this.state.value)},l}(O.Component);return s.contextTypes=(i={},i[r]=Zk.object,i),{Provider:o,Consumer:s}}var y6=O.createContext||v6,NP=function(e){var n=y6();return n.displayName=e,n},LP=NP("Router-History"),Pl=NP("Router"),nh=function(t){Co(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(o){r._pendingLocation=o})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){r._isMounted&&r.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return O.createElement(Pl.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},O.createElement(LP.Provider,{children:this.props.children||null,value:this.props.history}))},e}(O.Component);O.Component;var b6=function(t){Co(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(O.Component),ly={},_6=1e4,d1=0;function w6(t){if(ly[t])return ly[t];var e=SP.compile(t);return d1<_6&&(ly[t]=e,d1++),e}function h1(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:w6(t)(e,{pretty:!0})}function MP(t){var e=t.computedMatch,n=t.to,i=t.push,r=i===void 0?!1:i;return O.createElement(Pl.Consumer,null,function(o){o||ca(!1);var s=o.history,a=o.staticContext,l=r?s.push:s.replace,c=On(e?typeof n=="string"?h1(n,e.params):jn({},n,{pathname:h1(n.pathname,e.params)}):n);return a?(l(c),null):O.createElement(b6,{onMount:function(){l(c)},onUpdate:function(d,h){var f=On(h.to);SF(f,jn({},c,{key:f.key}))||l(c)},to:n})})}var f1={},x6=1e4,p1=0;function E6(t,e){var n=""+e.end+e.strict+e.sensitive,i=f1[n]||(f1[n]={});if(i[t])return i[t];var r=[],o=SP(t,r,e),s={regexp:o,keys:r};return p1<x6&&(i[t]=s,p1++),s}function Cw(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,o=r===void 0?!1:r,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=E6(h,{end:o,strict:a,sensitive:c}),p=f.regexp,g=f.keys,_=p.exec(t);if(!_)return null;var v=_[0],m=_.slice(1),b=t===v;return o&&!b?null:{path:h,url:h==="/"&&v===""?"/":v,isExact:b,params:g.reduce(function(x,C,E){return x[C.name]=m[E],x},{})}},null)}function I6(t){return O.Children.count(t)===0}var dr=function(t){Co(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return O.createElement(Pl.Consumer,null,function(o){o||ca(!1);var s=r.props.location||o.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?Cw(s.pathname,r.props):o.match,l=jn({},o,{location:s,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&I6(u)&&(u=null),O.createElement(Pl.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?O.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(O.Component);function Aw(t){return t.charAt(0)==="/"?t:"/"+t}function k6(t,e){return t?jn({},e,{pathname:Aw(t)+e.pathname}):e}function T6(t,e){if(!t)return e;var n=Aw(t);return e.pathname.indexOf(n)!==0?e:jn({},e,{pathname:e.pathname.substr(n.length)})}function m1(t){return typeof t=="string"?t:ci(t)}function cy(t){return function(){ca(!1)}}function g1(){}O.Component;O.Component;function S6(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(r){var o=r.wrappedComponentRef,s=AP(r,["wrappedComponentRef"]);return O.createElement(Pl.Consumer,null,function(a){return a||ca(!1),O.createElement(t,jn({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,h6(n,t)}var C6=O.useContext;function sg(){return C6(LP)}const A6="modulepreload",R6=function(t){return"/"+t},v1={},ki=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=R6(o),o in v1)return;v1[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(o,'"]').concat(a)))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":A6,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(o))))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},io={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1};let Ma,qb,td,VP=!1,_p=!1,Rw=!1,Gn=!1,y1=null,Gb=!1;const P6={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},$P=t=>{const e=new URL(t,jt.$resourcesUrl$);return e.origin!==rh.location.origin?e.href:e.pathname},Bs=(t,e="")=>()=>{},D6="slot-fb{display:contents}slot-fb[hidden]{display:none}",b1="http://www.w3.org/1999/xlink",_1={},O6="http://www.w3.org/2000/svg",N6="http://www.w3.org/1999/xhtml",L6=t=>t!=null,Pw=t=>(t=typeof t,t==="object"||t==="function");function M6(t){var e,n,i;return(i=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const I=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!Pw(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?wp(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,$6);const u=wp(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},wp=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Re={},V6=t=>t&&t.$tag$===Re,$6={forEach:(t,e)=>t.map(w1).forEach(e),map:(t,e)=>t.map(w1).map(e).map(F6)},w1=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),F6=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),I(t.vtag,n,...t.vchildren||[])}const e=wp(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},B6=t=>QP.map(e=>e(t)).find(e=>!!e),z6=t=>QP.push(t),U6=t=>ua(t).$modeName$,j6=(t,e)=>t!=null&&!Pw(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,H6=t=>t,ee=(t,e,n)=>{const i=H6(t);return{emit:r=>W6(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},W6=(t,e,n)=>{const i=jt.ce(e,n);return t.dispatchEvent(i),i},x1=new WeakMap,q6=(t,e,n)=>{let i=Ep.get(t);b3&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Ep.set(t,i)},G6=(t,e,n)=>{var i;const r=FP(e,n),o=Ep.get(r);if(t=t.nodeType===11?t:Di,o)if(typeof o=="string"){t=t.head||t;let s=x1.get(t),a;if(s||x1.set(t,s=new Set),!s.has(r)){{a=Di.createElement("style"),a.innerHTML=o;const l=(i=jt.$nonce$)!==null&&i!==void 0?i:M6(Di);l!=null&&a.setAttribute("nonce",l),t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=D6),s&&s.add(r)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,o]);return r},K6=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=Bs("attachStyles",e.$tagName$),o=G6(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},FP=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),E1=(t,e,n,i,r,o)=>{if(n!==i){let s=C1(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=I1(n),u=I1(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):C1(rh,a)?e=a.slice(2):e=a[2]+e.slice(3),n||i){const l=e.endsWith(BP);e=e.replace(Q6,""),n&&jt.rel(t,e,n,l),i&&jt.ael(t,e,i,l)}}else{const l=Pw(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(b1,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(b1,e,i):t.setAttribute(e,i))}}},Y6=/\s/,I1=t=>t?t.split(Y6):[],BP="Capture",Q6=new RegExp(BP+"$"),zP=(t,e,n,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||_1,s=e.$attrs$||_1;for(i in o)i in s||E1(r,i,o[i],void 0,n,e.$flags$);for(i in s)E1(r,i,o[i],s[i],n,e.$flags$)},xp=(t,e,n,i)=>{const r=e.$children$[n];let o=0,s,a,l;if(VP||(Rw=!0,r.$tag$==="slot"&&(Ma&&i.classList.add(Ma+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)s=r.$elm$=Di.createTextNode(r.$text$);else if(r.$flags$&1)s=r.$elm$=Di.createTextNode("");else{if(Gn||(Gn=r.$tag$==="svg"),s=r.$elm$=Di.createElementNS(Gn?O6:N6,r.$flags$&2?"slot-fb":r.$tag$),Gn&&r.$tag$==="foreignObject"&&(Gn=!1),zP(null,r,Gn),L6(Ma)&&s["s-si"]!==Ma&&s.classList.add(s["s-si"]=Ma),r.$children$)for(o=0;o<r.$children$.length;++o)a=xp(t,r,o,s),a&&s.appendChild(a);r.$tag$==="svg"?Gn=!1:s.tagName==="foreignObject"&&(Gn=!0)}return s["s-hn"]=td,r.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=qb,s["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===r.$tag$&&t.$elm$&&nd(t.$elm$,!1)),s},nd=(t,e)=>{jt.$flags$|=1;const n=t.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==td&&r["s-ol"]&&(HP(r).insertBefore(r,Dw(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,Rw=!0),e&&nd(r,e)}jt.$flags$&=-2},UP=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===td&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=xp(null,n,r,t),a&&(i[r].$elm$=a,s.insertBefore(a,Dw(e))))},jP=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const o=r.$elm$;GP(r),o&&(_p=!0,o["s-ol"]?o["s-ol"].remove():nd(o,!0),o.remove())}}},X6=(t,e,n,i,r=!1)=>{let o=0,s=0,a=0,l=0,c=e.length-1,u=e[0],d=e[c],h=i.length-1,f=i[0],p=i[h],g,_;for(;o<=c&&s<=h;)if(u==null)u=e[++o];else if(d==null)d=e[--c];else if(f==null)f=i[++s];else if(p==null)p=i[--h];else if(rf(u,f,r))Va(u,f,r),u=e[++o],f=i[++s];else if(rf(d,p,r))Va(d,p,r),d=e[--c],p=i[--h];else if(rf(u,p,r))(u.$tag$==="slot"||p.$tag$==="slot")&&nd(u.$elm$.parentNode,!1),Va(u,p,r),t.insertBefore(u.$elm$,d.$elm$.nextSibling),u=e[++o],p=i[--h];else if(rf(d,f,r))(u.$tag$==="slot"||p.$tag$==="slot")&&nd(d.$elm$.parentNode,!1),Va(d,f,r),t.insertBefore(d.$elm$,u.$elm$),d=e[--c],f=i[++s];else{for(a=-1,l=o;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===f.$key$){a=l;break}a>=0?(_=e[a],_.$tag$!==f.$tag$?g=xp(e&&e[s],n,a,t):(Va(_,f,r),e[a]=void 0,g=_.$elm$),f=i[++s]):(g=xp(e&&e[s],n,s,t),f=i[++s]),g&&HP(u.$elm$).insertBefore(g,Dw(u.$elm$))}o>c?UP(t,i[h+1]==null?null:i[h+1].$elm$,n,i,s,h):s>h&&jP(e,o,c)},rf=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,Dw=t=>t&&t["s-ol"]||t,HP=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Va=(t,e,n=!1)=>{const i=e.$elm$=t.$elm$,r=t.$children$,o=e.$children$,s=e.$tag$,a=e.$text$;let l;a===null?(Gn=s==="svg"?!0:s==="foreignObject"?!1:Gn,s==="slot"||zP(t,e,Gn),r!==null&&o!==null?X6(i,r,e,o,n):o!==null?(t.$text$!==null&&(i.textContent=""),UP(i,null,e,o,0,o.length-1)):r!==null&&jP(r,0,r.length-1),Gn&&s==="svg"&&(Gn=!1)):(l=i["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(i.data=a)},WP=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const r of e)if(r!==n){if(r["s-hn"]!==n["s-hn"]||i!==""){if(r.nodeType===1&&(i===r.getAttribute("slot")||i===r["s-sn"])){n.hidden=!0;break}}else if(r.nodeType===1||r.nodeType===3&&r.textContent.trim()!==""){n.hidden=!0;break}}}WP(n)}},ur=[],qP=t=>{let e,n,i;for(const r of t.childNodes){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const o=r["s-sn"];for(i=n.length-1;i>=0;i--)if(e=n[i],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"]&&!io.experimentalSlotFixes)if(k1(e,o)){let s=ur.find(a=>a.$nodeToRelocate$===e);_p=!0,e["s-sn"]=e["s-sn"]||o,s?(s.$nodeToRelocate$["s-sh"]=r["s-hn"],s.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],ur.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&ur.map(a=>{k1(a.$nodeToRelocate$,e["s-sn"])&&(s=ur.find(l=>l.$nodeToRelocate$===e),s&&!a.$slotRefNode$&&(a.$slotRefNode$=s.$slotRefNode$))})}else ur.some(s=>s.$nodeToRelocate$===e)||ur.push({$nodeToRelocate$:e})}r.nodeType===1&&qP(r)}},k1=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",GP=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(GP)},J6=(t,e,n=!1)=>{var i,r,o,s,a;const l=t.$hostElement$,c=t.$cmpMeta$,u=t.$vnode$||wp(null,null),d=V6(e)?e:I(null,null,e);if(td=l.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(([h,f])=>d.$attrs$[f]=l[h])),n&&d.$attrs$)for(const h of Object.keys(d.$attrs$))l.hasAttribute(h)&&!["key","ref","style","class"].includes(h)&&(d.$attrs$[h]=l[h]);d.$tag$=null,d.$flags$|=4,t.$vnode$=d,d.$elm$=u.$elm$=l.shadowRoot||l,Ma=l["s-sc"],qb=l["s-cr"],VP=(c.$flags$&1)!==0,_p=!1,Va(u,d,n);{if(jt.$flags$|=1,Rw){qP(d.$elm$);for(const h of ur){const f=h.$nodeToRelocate$;if(!f["s-ol"]){const p=Di.createTextNode("");p["s-nr"]=f,f.parentNode.insertBefore(f["s-ol"]=p,f)}}for(const h of ur){const f=h.$nodeToRelocate$,p=h.$slotRefNode$;if(p){const g=p.parentNode;let _=p.nextSibling;{let v=(i=f["s-ol"])===null||i===void 0?void 0:i.previousSibling;for(;v;){let m=(r=v["s-nr"])!==null&&r!==void 0?r:null;if(m&&m["s-sn"]===f["s-sn"]&&g===m.parentNode&&(m=m.nextSibling,!m||!m["s-nr"])){_=m;break}v=v.previousSibling}}(!_&&g!==f.parentNode||f.nextSibling!==_)&&f!==_&&(!f["s-hn"]&&f["s-ol"]&&(f["s-hn"]=f["s-ol"].parentNode.nodeName),g.insertBefore(f,_),f.nodeType===1&&(f.hidden=(o=f["s-ih"])!==null&&o!==void 0?o:!1))}else f.nodeType===1&&(n&&(f["s-ih"]=(s=f.hidden)!==null&&s!==void 0?s:!1),f.hidden=!0)}}_p&&WP(d.$elm$),jt.$flags$&=-2,ur.length=0}if(io.experimentalScopedSlotChanges&&c.$flags$&2)for(const h of d.$elm$.childNodes)h["s-hn"]!==td&&!h["s-sh"]&&(n&&h["s-ih"]==null&&(h["s-ih"]=(a=h.hidden)!==null&&a!==void 0?a:!1),h.hidden=!0);qb=void 0},Z6=(t,e)=>{},Ow=(t,e)=>(t.$flags$|=16,Z6(t,t.$ancestorComponent$),ir(()=>e3(t,e))),e3=(t,e)=>{const n=t.$hostElement$,i=Bs("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;let o;return e?o=dl(r,"componentWillLoad"):o=dl(r,"componentWillUpdate"),o=T1(o,()=>dl(r,"componentWillRender")),i(),T1(o,()=>n3(t,r,e))},T1=(t,e)=>t3(t)?t.then(e):e(),t3=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",n3=async(t,e,n)=>{const i=t.$hostElement$,r=Bs("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&K6(t);const o=Bs("render",t.$cmpMeta$.$tagName$);i3(t,e,i,n),o(),r(),r3(t)},i3=(t,e,n,i)=>{try{y1=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(io.hasRenderFn||io.reflect)&&(io.vdomRender||io.reflect)&&(io.hydrateServerSide||J6(t,e,i))}catch(l){ih(l,t.$hostElement$)}return y1=null,null},r3=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Bs("postUpdate",e),r=n;t.$ancestorComponent$,dl(r,"componentDidRender"),t.$flags$&64?(dl(r,"componentDidUpdate"),i()):(t.$flags$|=64,dl(r,"componentDidLoad"),i())},Dl=t=>{{const e=ua(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&Ow(e,!1),n}},dl=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){ih(i)}},o3=(t,e)=>ua(t).$instanceValues$.get(e),s3=(t,e,n,i)=>{const r=ua(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=j6(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){ih(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;Ow(r,!1)}}}},a3=(t,e,n)=>{var i;const r=t.prototype;if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const o=Object.entries(e.$members$);o.map(([s,[a]])=>{(a&31||a&32)&&Object.defineProperty(r,s,{get(){return o3(this,s)},set(l){s3(this,s,l,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(a,l,c){jt.jmp(()=>{var u;const d=s.get(a);if(this.hasOwnProperty(d))c=this[d],delete this[d];else{if(r.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==c)return;if(d==null){const h=ua(this),f=h==null?void 0:h.$flags$;if(f&&!(f&8)&&f&128&&c!==l){const g=this,_=(u=e.$watchers$)===null||u===void 0?void 0:u[a];_==null||_.forEach(v=>{g[v]!=null&&g[v].call(g,c,l,a)})}return}}this[d]=c===null&&typeof this[d]=="boolean"?!1:c})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!==null&&i!==void 0?i:{}),...o.filter(([a,l])=>l[0]&15).map(([a,l])=>{var c;const u=l[1]||a;return s.set(u,a),l[0]&512&&((c=e.$attrsToReflect$)===null||c===void 0||c.push([a,u])),u})]))}}return t},l3=async(t,e,n,i)=>{let r;if(!(e.$flags$&32)&&(e.$flags$|=32,r=t.constructor,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),r.style)){let s=r.style;typeof s!="string"&&(s=s[e.$modeName$=B6(t)]);const a=FP(n,e.$modeName$);if(!Ep.has(a)){const l=Bs("registerStyles",n.$tagName$);q6(a,s,!!(n.$flags$&1)),l()}}e.$ancestorComponent$,Ow(e,!0)},S1=t=>{},c3=t=>{if(!(jt.$flags$&1)){const e=ua(t),n=e.$cmpMeta$,i=Bs("connectedCallback",n.$tagName$);e.$flags$&1?(KP(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?S1(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>S1(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&u3(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),l3(t,e,n)),i()}},u3=t=>{const e=t["s-cr"]=Di.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},d3=async t=>{if(!(jt.$flags$&1)){const e=ua(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},Pe=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){m3(this,n)},connectedCallback(){c3(this),i&&i.call(this)},disconnectedCallback(){d3(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,a3(t,n)},KP=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=f3(t,r),l=h3(e,s),c=p3(r);jt.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>jt.rel(a,o,l,c))})},h3=(t,e)=>n=>{try{io.lazyLoad||t.$hostElement$[e](n)}catch(i){ih(i)}},f3=(t,e)=>e&4?Di:e&8?rh:e&16?Di.body:t,p3=t=>v3?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,YP=new WeakMap,ua=t=>YP.get(t),m3=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return KP(t,n,e.$listeners$),YP.set(t,n)},C1=(t,e)=>e in t,ih=(t,e)=>(0,console.error)(t,e),Ep=new Map,QP=[],rh=typeof window<"u"?window:{},Di=rh.document||{head:{}},Te=rh.HTMLElement||class{},jt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},g3=t=>{Object.assign(jt,t)},v3=(()=>{let t=!1;try{Di.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),y3=t=>Promise.resolve(t),b3=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Kb=[],XP=[],JP=(t,e)=>n=>{t.push(n),Gb||(Gb=!0,e&&jt.$flags$&4?_3(Yb):jt.raf(Yb))},A1=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){ih(n)}t.length=0},Yb=()=>{A1(Kb),A1(XP),(Gb=Kb.length>0)&&jt.raf(Yb)},_3=t=>y3().then(t),id=JP(Kb,!1),ir=JP(XP,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Me=typeof window<"u"?window:void 0,_o=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ao=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Tt(()=>e(t))},Ip=t=>t.componentOnReady!==void 0,da=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},w3=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ac=(t,e)=>{let n=w3;return e&&e.length>0&&(n=n.filter(i=>!e.includes(i))),da(t,n)},x3=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_ael");if(a)return a(t,e,n,i);if(s._ael)return s._ael(t,e,n,i)}}return t.addEventListener(e,n,i)},E3=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_rel");if(a)return a(t,e,n,i);if(s._rel)return s._rel(t,e,n,i)}}return t.removeEventListener(e,n,i)},ei=(t,e=t)=>t.shadowRoot||e,Tt=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),I3=t=>!!t.shadowRoot&&!!t.attachShadow,ZP=t=>{const e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},k3=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},zs=(t,e,n)=>Math.max(t,Math.min(e,n)),Nt=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},zre=t=>t.timeStamp||Date.now(),Ure=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},R1=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(t,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},T3=(t,e)=>{const n=t._original||t;return{_original:t,emit:S3(n.emit.bind(n),e)}},S3=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},eD=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let uy;const C3=t=>(t.forEach(e=>{for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(n==="easing"){const r="animation-timing-function";e[r]=i,delete e[n]}else{const r=A3(n);r!==n&&(e[r]=i,delete e[n])}}}),t),A3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nw=t=>{if(uy===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;uy=!e&&n?"-webkit-":""}return uy},Je=(t,e,n)=>{const i=e.startsWith("animation")?Nw(t):"";t.style.setProperty(i+e,n)},wi=(t,e)=>{const n=e.startsWith("animation")?Nw(t):"";t.style.removeProperty(n+e)},R3=(t,e)=>{let n;const i={passive:!0},r=()=>{n&&n()},o=s=>{t===s.target&&(r(),e(s))};return t&&(t.addEventListener("webkitAnimationEnd",o,i),t.addEventListener("animationend",o,i),n=()=>{t.removeEventListener("webkitAnimationEnd",o,i),t.removeEventListener("animationend",o,i)}),r},P3=(t=[])=>t.map(e=>{const n=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push("".concat(r,": ").concat(e[r],";"));return"".concat(n*100,"% { ").concat(i.join(" ")," }")}).join(" "),P1=[],D3=t=>{let e=P1.indexOf(t);return e<0&&(e=P1.push(t)-1),"ion-animation-".concat(e)},O3=t=>{const e=t.getRootNode!==void 0?t.getRootNode():t;return e.head||e},N3=(t,e,n)=>{var i;const r=O3(n),o=Nw(n),s=r.querySelector("#"+t);if(s)return s;const a=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=t,a.textContent="@".concat(o,"keyframes ").concat(t," { ").concat(e," } @").concat(o,"keyframes ").concat(t,"-alt { ").concat(e," }"),r.appendChild(a),a},of=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},oe=t=>{let e,n,i,r,o,s,a=[],l=[],c=[],u=!1,d,h={},f=[],p=[],g={},_=0,v=!1,m=!1,b,x,C,E,w=!0,k=!1,F=!0,P,D,W=!1;const ue=t,ke=[],ae=[],Le=[],ve=[],R=[],V=[],N=[],H=[],X=[],pe=[],me=[],bt=typeof AnimationEffect=="function"||Me!==void 0&&typeof Me.AnimationEffect=="function",Se=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&bt,_t=100,Wn=()=>me,Ia=S=>(R.forEach(U=>{U.destroy(S)}),ge(S),ve.length=0,R.length=0,a.length=0,c4(),u=!1,F=!0,D),ge=S=>{LI(),S&&MI()},$h=()=>{v=!1,m=!1,F=!0,x=void 0,C=void 0,E=void 0,_=0,k=!1,w=!0,W=!1},Av=()=>_!==0&&!W,es=(S,U)=>{const J=U.findIndex(He=>He.c===S);J>-1&&U.splice(J,1)},NI=(S,U)=>(Le.push({c:S,o:U}),D),Rv=(S,U)=>((U!=null&&U.oneTimeCallback?ae:ke).push({c:S,o:U}),D),c4=()=>(ke.length=0,ae.length=0,D),LI=()=>{if(Se)me.forEach(S=>{S.cancel()}),me.length=0;else{const S=ve.slice();Tt(()=>{S.forEach(U=>{wi(U,"animation-name"),wi(U,"animation-duration"),wi(U,"animation-timing-function"),wi(U,"animation-iteration-count"),wi(U,"animation-delay"),wi(U,"animation-play-state"),wi(U,"animation-fill-mode"),wi(U,"animation-direction")})})}},MI=()=>{V.forEach(S=>{S!=null&&S.parentNode&&S.parentNode.removeChild(S)}),V.length=0},u4=S=>(N.push(S),D),d4=S=>(H.push(S),D),h4=S=>(X.push(S),D),f4=S=>(pe.push(S),D),p4=S=>(l=of(l,S),D),m4=S=>(c=of(c,S),D),g4=(S={})=>(h=S,D),v4=(S=[])=>{for(const U of S)h[U]="";return D},y4=S=>(f=of(f,S),D),b4=S=>(p=of(p,S),D),_4=(S={})=>(g=S,D),w4=(S=[])=>{for(const U of S)g[U]="";return D},Cc=()=>o!==void 0?o:d?d.getFill():"both",ka=()=>x!==void 0?x:s!==void 0?s:d?d.getDirection():"normal",Ac=()=>v?"linear":i!==void 0?i:d?d.getEasing():"linear",bi=()=>m?0:C!==void 0?C:n!==void 0?n:d?d.getDuration():0,Gr=()=>r!==void 0?r:d?d.getIterations():1,Ta=()=>E!==void 0?E:e!==void 0?e:d?d.getDelay():0,x4=()=>a,E4=S=>(s=S,ai(!0),D),I4=S=>(o=S,ai(!0),D),k4=S=>(e=S,ai(!0),D),T4=S=>(i=S,ai(!0),D),S4=S=>(!Se&&S===0&&(S=1),n=S,ai(!0),D),C4=S=>(r=S,ai(!0),D),A4=S=>(d=S,D),R4=S=>{if(S!=null)if(S.nodeType===1)ve.push(S);else if(S.length>=0)for(let U=0;U<S.length;U++)ve.push(S[U]);else console.error("Invalid addElement value");return D},P4=S=>{if(S!=null)if(Array.isArray(S))for(const U of S)U.parent(D),R.push(U);else S.parent(D),R.push(S);return D},D4=S=>{const U=a!==S;return a=S,U&&O4(a),D},O4=S=>{Se?Wn().forEach(U=>{const J=U.effect;if(J.setKeyframes)J.setKeyframes(S);else{const He=new KeyframeEffect(J.target,S,J.getTiming());U.effect=He}}):VI()},N4=()=>{N.forEach(He=>He()),H.forEach(He=>He());const S=l,U=c,J=h;ve.forEach(He=>{const At=He.classList;S.forEach(li=>At.add(li)),U.forEach(li=>At.remove(li));for(const li in J)J.hasOwnProperty(li)&&Je(He,li,J[li])})},L4=()=>{Pv(),X.forEach(At=>At()),pe.forEach(At=>At());const S=w?1:0,U=f,J=p,He=g;ve.forEach(At=>{const li=At.classList;U.forEach(ts=>li.add(ts)),J.forEach(ts=>li.remove(ts));for(const ts in He)He.hasOwnProperty(ts)&&Je(At,ts,He[ts])}),C=void 0,x=void 0,E=void 0,ke.forEach(At=>At.c(S,D)),ae.forEach(At=>At.c(S,D)),ae.length=0,F=!0,w&&(k=!0),w=!0},Sa=()=>{_!==0&&(_--,_===0&&(L4(),d&&d.animationFinish()))},VI=(S=!0)=>{MI();const U=C3(a);ve.forEach(J=>{if(U.length>0){const He=P3(U);P=t!==void 0?t:D3(He);const At=N3(P,He,J);V.push(At),Je(J,"animation-duration","".concat(bi(),"ms")),Je(J,"animation-timing-function",Ac()),Je(J,"animation-delay","".concat(Ta(),"ms")),Je(J,"animation-fill-mode",Cc()),Je(J,"animation-direction",ka());const li=Gr()===1/0?"infinite":Gr().toString();Je(J,"animation-iteration-count",li),Je(J,"animation-play-state","paused"),S&&Je(J,"animation-name","".concat(At.id,"-alt")),Tt(()=>{Je(J,"animation-name",At.id||null)})}})},M4=()=>{ve.forEach(S=>{const U=S.animate(a,{id:ue,delay:Ta(),duration:bi(),easing:Ac(),iterations:Gr(),fill:Cc(),direction:ka()});U.pause(),me.push(U)}),me.length>0&&(me[0].onfinish=()=>{Sa()})},$I=(S=!0)=>{N4(),a.length>0&&(Se?M4():VI(S)),u=!0},Rc=S=>{if(S=Math.min(Math.max(S,0),.9999),Se)me.forEach(U=>{U.currentTime=U.effect.getComputedTiming().delay+bi()*S,U.pause()});else{const U="-".concat(bi()*S,"ms");ve.forEach(J=>{a.length>0&&(Je(J,"animation-delay",U),Je(J,"animation-play-state","paused"))})}},FI=S=>{me.forEach(U=>{U.effect.updateTiming({delay:Ta(),duration:bi(),easing:Ac(),iterations:Gr(),fill:Cc(),direction:ka()})}),S!==void 0&&Rc(S)},BI=(S=!0,U)=>{Tt(()=>{ve.forEach(J=>{Je(J,"animation-name",P||null),Je(J,"animation-duration","".concat(bi(),"ms")),Je(J,"animation-timing-function",Ac()),Je(J,"animation-delay",U!==void 0?"-".concat(U*bi(),"ms"):"".concat(Ta(),"ms")),Je(J,"animation-fill-mode",Cc()||null),Je(J,"animation-direction",ka()||null);const He=Gr()===1/0?"infinite":Gr().toString();Je(J,"animation-iteration-count",He),S&&Je(J,"animation-name","".concat(P,"-alt")),Tt(()=>{Je(J,"animation-name",P||null)})})})},ai=(S=!1,U=!0,J)=>(S&&R.forEach(He=>{He.update(S,U,J)}),Se?FI(J):BI(U,J),D),V4=(S=!1,U)=>(R.forEach(J=>{J.progressStart(S,U)}),zI(),v=S,u||$I(),ai(!1,!0,U),D),$4=S=>(R.forEach(U=>{U.progressStep(S)}),Rc(S),D),F4=(S,U,J)=>(v=!1,R.forEach(He=>{He.progressEnd(S,U,J)}),J!==void 0&&(C=J),k=!1,w=!0,S===0?(x=ka()==="reverse"?"normal":"reverse",x==="reverse"&&(w=!1),Se?(ai(),Rc(1-U)):(E=(1-U)*bi()*-1,ai(!1,!1))):S===1&&(Se?(ai(),Rc(U)):(E=U*bi()*-1,ai(!1,!1))),S!==void 0&&!d&&UI(),D),zI=()=>{u&&(Se?me.forEach(S=>{S.pause()}):ve.forEach(S=>{Je(S,"animation-play-state","paused")}),W=!0)},B4=()=>(R.forEach(S=>{S.pause()}),zI(),D),z4=()=>{b=void 0,Sa()},Pv=()=>{b&&clearTimeout(b)},U4=()=>{if(Pv(),Tt(()=>{ve.forEach(S=>{a.length>0&&Je(S,"animation-play-state","running")})}),a.length===0||ve.length===0)Sa();else{const S=Ta()||0,U=bi()||0,J=Gr()||1;isFinite(J)&&(b=setTimeout(z4,S+U*J+_t)),R3(ve[0],()=>{Pv(),Tt(()=>{j4(),Tt(Sa)})})}},j4=()=>{ve.forEach(S=>{wi(S,"animation-duration"),wi(S,"animation-delay"),wi(S,"animation-play-state")})},H4=()=>{me.forEach(S=>{S.play()}),(a.length===0||ve.length===0)&&Sa()},W4=()=>{Se?(Rc(0),FI()):BI()},UI=S=>new Promise(U=>{S!=null&&S.sync&&(m=!0,Rv(()=>m=!1,{oneTimeCallback:!0})),u||$I(),k&&(W4(),k=!1),F&&(_=R.length+1,F=!1);const J=()=>{es(He,ae),U()},He=()=>{es(J,Le),U()};Rv(He,{oneTimeCallback:!0}),NI(J,{oneTimeCallback:!0}),R.forEach(At=>{At.play()}),Se?H4():U4(),W=!1}),q4=()=>{R.forEach(S=>{S.stop()}),u&&(LI(),u=!1),$h(),Le.forEach(S=>S.c(0,D)),Le.length=0},jI=(S,U)=>{const J=a[0];return J!==void 0&&(J.offset===void 0||J.offset===0)?J[S]=U:a=[{offset:0,[S]:U},...a],D};return D={parentAnimation:d,elements:ve,childAnimations:R,id:ue,animationFinish:Sa,from:jI,to:(S,U)=>{const J=a[a.length-1];return J!==void 0&&(J.offset===void 0||J.offset===1)?J[S]=U:a=[...a,{offset:1,[S]:U}],D},fromTo:(S,U,J)=>jI(S,U).to(S,J),parent:A4,play:UI,pause:B4,stop:q4,destroy:Ia,keyframes:D4,addAnimation:P4,addElement:R4,update:ai,fill:I4,direction:E4,iterations:C4,duration:S4,easing:T4,delay:k4,getWebAnimations:Wn,getKeyframes:x4,getFill:Cc,getDirection:ka,getDelay:Ta,getIterations:Gr,getEasing:Ac,getDuration:bi,afterAddRead:h4,afterAddWrite:f4,afterClearStyles:w4,afterStyles:_4,afterRemoveClass:b4,afterAddClass:y4,beforeAddRead:u4,beforeAddWrite:d4,beforeClearStyles:v4,beforeStyles:g4,beforeRemoveClass:m4,beforeAddClass:p4,onFinish:Rv,isRunning:Av,progressStart:V4,progressStep:$4,progressEnd:F4}},L3="ionViewWillEnter",M3="ionViewDidEnter",tD="ionViewWillLeave",nD="ionViewDidLeave",dy="ionViewWillUnload",V3=()=>ki(()=>import("./ios.transition-ZTFhwaLh.js"),__vite__mapDeps([])),$3=()=>ki(()=>import("./md.transition-4PF6tyKz.js"),__vite__mapDeps([])),iD=t=>new Promise((e,n)=>{ir(()=>{F3(t),B3(t).then(i=>{i.animation&&i.animation.destroy(),D1(t),e(i)},i=>{D1(t),n(i)})})}),F3=t=>{const e=t.enteringEl,n=t.leavingEl;G3(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Qb(e,!1),e.style.setProperty("pointer-events","none"),n&&(Qb(n,!1),n.style.setProperty("pointer-events","none"))},B3=async t=>{const e=await z3(t);return e&&P6.isBrowser?U3(e,t):j3(t)},D1=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},z3=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await V3()).iosTransitionAnimation:(await $3()).mdTransitionAnimation,U3=async(t,e)=>{await rD(e,!0);const n=t(e.baseEl,e);oD(e.enteringEl,e.leavingEl);const i=await W3(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&sD(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},j3=async t=>{const e=t.enteringEl,n=t.leavingEl;return await rD(t,!1),oD(e,n),sD(e,n),{hasCompleted:!0}},rD=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([kp(t.enteringEl),kp(t.leavingEl)]),await H3(t.viewIsReady,t.enteringEl)},H3=async(t,e)=>{t&&await t(e)},W3=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(o=>r(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},oD=(t,e)=>{hr(e,tD),hr(t,L3)},sD=(t,e)=>{hr(t,M3),hr(e,nD)},hr=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},q3=()=>new Promise(t=>Tt(()=>Tt(()=>t()))),kp=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Tt(i));return}await Promise.all(Array.from(e.children).map(kp))}},Qb=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},G3=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},jre=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Us=(t,e,n,i,r)=>Y3(t[1],e[1],n[1],i[1],r).map(o=>K3(t[0],e[0],n[0],i[0],o)),K3=(t,e,n,i,r)=>{const o=3*e*Math.pow(r-1,2),s=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(o+r*s)-a},Y3=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,X3(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),Q3=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},X3=(t,e,n,i)=>{if(t===0)return Q3(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(o/2,2)+Math.pow(r/3,3);if(s===0)return[Math.pow(o/2,1/2)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class J3{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new Z3(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new eB(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const r=this.requestedStart;let o=-1e4;if(r.forEach(s=>{o=Math.max(o,s)}),o===i){this.capturedId=n,r.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return r.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(O1)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(O1)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class Z3{constructor(e,n,i,r,o){this.id=n,this.name=i,this.disableScroll=o,this.priority=r*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class eB{constructor(e,n,i,r){this.id=n,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const O1="backdrop-no-scroll",ag=new J3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ns=(t,e,n,i)=>{const r=tB(t)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let o,s;return t.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),t[o](e,n,r),()=>{t[s](e,n,r)}},tB=t=>{if(sf===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{sf=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){sf=!1}return!!sf};let sf;const nB=2e3,iB=(t,e,n,i,r)=>{let o,s,a,l,c,u,d,h=0;const f=E=>{h=Date.now()+nB,e(E)&&(!s&&n&&(s=ns(t,"touchmove",n,r)),a||(a=ns(E.target,"touchend",g,r)),l||(l=ns(E.target,"touchcancel",g,r)))},p=E=>{h>Date.now()||e(E)&&(!u&&n&&(u=ns(N1(t),"mousemove",n,r)),d||(d=ns(N1(t),"mouseup",_,r)))},g=E=>{v(),i&&i(E)},_=E=>{m(),i&&i(E)},v=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},m=()=>{u&&u(),d&&d(),u=d=void 0},b=()=>{v(),m()},x=(E=!0)=>{E?(o||(o=ns(t,"touchstart",f,r)),c||(c=ns(t,"mousedown",p,r))):(o&&o(),c&&c(),o=c=void 0,b())};return{enable:x,stop:b,destroy:()=>{x(!1),i=n=e=void 0}}},N1=t=>t instanceof Document?t:t.ownerDocument,rB=(t,e,n)=>{const i=n*(Math.PI/180),r=t==="x",o=Math.cos(i),s=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-a,p=h-l,g=f*f+p*p;if(g<s)return!1;const _=Math.sqrt(g),v=(r?f:p)/_;return v>o?u=1:v<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},lg=t=>{let e=!1,n=!1,i=!0,r=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,p=o.blurOnStart,g={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},_=rB(o.direction,o.threshold,o.maxAngle),v=ag.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),m=W=>{const ue=lD(W);return n||!i||(aD(W,g),g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime=ue,g.velocityX=g.velocityY=g.deltaX=g.deltaY=0,g.event=W,s&&s(g)===!1)||(v.release(),!v.start())?!1:(n=!0,h===0?C():(_.start(g.startX,g.startY),!0))},b=W=>{if(e){!r&&i&&(r=!0,hy(g,W),requestAnimationFrame(x));return}hy(g,W),_.detect(g.currentX,g.currentY)&&(!_.isGesture()||!C())&&D()},x=()=>{e&&(r=!1,d&&d(g))},C=()=>v.capture()?(e=!0,i=!1,g.startX=g.currentX,g.startY=g.currentY,g.startTime=g.currentTime,a?a(g).then(w):w(),!0):!1,E=()=>{if(typeof document<"u"){const W=document.activeElement;W!=null&&W.blur&&W.blur()}},w=()=>{p&&E(),l&&l(g),i=!0},k=()=>{e=!1,n=!1,r=!1,i=!0,v.release()},F=W=>{const ue=e,ke=i;if(k(),!!ke){if(hy(g,W),ue){c&&c(g);return}u&&u(g)}},P=iB(o.el,m,b,F,{capture:!1,passive:f}),D=()=>{k(),P.stop(),u&&u(g)};return{enable(W=!0){W||(e&&F(void 0),k()),P.enable(W)},destroy(){v.destroy(),P.destroy()}}},hy=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,r=t.currentTime;aD(e,t);const o=t.currentX,s=t.currentY,l=(t.currentTime=lD(e))-r;if(l>0&&l<100){const c=(o-n)/l,u=(s-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},aD=(t,e)=>{let n=0,i=0;if(t){const r=t.changedTouches;if(r&&r.length>0){const o=r[0];n=o.clientX,i=o.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},lD=t=>t.timeStamp||Date.now(),oB=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:ag,createGesture:lg},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class sB{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const _e=new sB,aB=t=>{try{const e=t.sessionStorage.getItem(cD);return e!==null?JSON.parse(e):{}}catch(e){return{}}},lB=(t,e)=>{try{t.sessionStorage.setItem(cD,JSON.stringify(e))}catch(n){return}},cB=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>uB(n,L1)).map(([n,i])=>[n.slice(L1.length),i]).forEach(([n,i])=>{e[n]=i}),e},uB=(t,e)=>t.substr(0,e.length)===e,L1="ionic:",cD="ionic-persist-config",dB=t=>uD(t),lo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),dB(t).includes(e)),uD=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=hB(t),e.forEach(n=>t.document.documentElement.classList.add("plt-".concat(n)))),e},hB=t=>{const e=_e.get("platform");return Object.keys(M1).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):M1[n](t)})},fB=t=>cg(t)&&!hD(t),Lw=t=>!!(js(t,/iPad/i)||js(t,/Macintosh/i)&&cg(t)),pB=t=>js(t,/iPhone/i),mB=t=>js(t,/iPhone|iPod/i)||Lw(t),dD=t=>js(t,/android|sink/i),gB=t=>dD(t)&&!js(t,/mobile/i),vB=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},yB=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return Lw(t)||gB(t)||i>460&&i<820&&r>780&&r<1400},cg=t=>xB(t,"(any-pointer:coarse)"),bB=t=>!cg(t),hD=t=>fD(t)||pD(t),fD=t=>!!(t.cordova||t.phonegap||t.PhoneGap),pD=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},_B=t=>js(t,/electron/i),wB=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},js=(t,e)=>e.test(t.navigator.userAgent),xB=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},M1={ipad:Lw,iphone:pB,ios:mB,android:dD,phablet:vB,tablet:yB,cordova:fD,capacitor:pD,electron:_B,pwa:wB,mobile:cg,mobileweb:fB,desktop:bB,hybrid:hD};let $a;const re=t=>t&&U6(t)||$a,EB=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},r={};t._ael&&(r.ael=t._ael),t._rel&&(r.rel=t._rel),t._ce&&(r.ce=t._ce),g3(r);const o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aB(n)),{persistConfig:!1}),i.config),cB(n)),t);_e.reset(o),_e.getBoolean("persistConfig")&&lB(n,o),uD(n),i.config=_e,i.mode=$a=_e.get("mode",e.documentElement.getAttribute("mode")||(lo(n,"ios")?"ios":"md")),_e.set("mode",$a),e.documentElement.setAttribute("mode",$a),e.documentElement.classList.add($a),_e.getBoolean("_testing")&&_e.set("animated",!1);const s=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);z6(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;s(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return $a})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mD=t=>{try{if(t instanceof SB)return t.value;if(!IB()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,TB.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Jb(c);for(let d=0;d<u.length;d++)Xb(u[d])}});const i=Jb(e);for(let s=0;s<i.length;s++)Xb(i[s]);const r=document.createElement("div");r.appendChild(e);const o=r.querySelector("div");return o!==null?o.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},Xb=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),r=i.name;if(!kB.includes(r.toLowerCase())){t.removeAttribute(r);continue}const o=i.value,s=t[r];(o!=null&&o.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(r)}const e=Jb(t);for(let n=0;n<e.length;n++)Xb(e[n])},Jb=t=>t.children!=null?t.children:t.childNodes,IB=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},kB=["class","id","href","src","name","slot"],TB=["script","style","iframe","meta","link","object","embed"];class SB{constructor(e){this.value=e}}const gD=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wn=(t,e)=>e.closest(t)!==null,kn=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(t)]:!0},e):e,CB=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],ug=t=>{const e={};return CB(t).forEach(n=>e[n]=!0),e},AB=/^[a-z][a-z0-9+\-.]*:/,dg=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!AB.test(t)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ol=()=>_e.get("experimentalCloseWatcher",!1)&&Me!==void 0&&"CloseWatcher"in Me,RB=()=>{document.addEventListener("backbutton",()=>{})},PB=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let i=0,r=[];const o=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){r.push({priority:l,handler:c,id:i++})}}});t.dispatchEvent(o);const s=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){console.error(c)}},a=()=>{if(r.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,r=r.filter(c=>c.id!==l.id),s(l).then(()=>e=!1)}};a()};if(Ol()){let i;const r=()=>{i==null||i.destroy(),i=new Me.CloseWatcher,i.onclose=()=>{n(),r()}};r()}else t.addEventListener("backbutton",n)},vD=100,yD=99,DB=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:yD,OVERLAY_BACK_BUTTON_PRIORITY:vD,blockHardwareBackButton:RB,shoudUseCloseWatcher:Ol,startHardwareBackButton:PB},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rt=(t,...e)=>console.warn("[Ionic Warning]: ".concat(t),...e),bD=(t,...e)=>console.error("[Ionic Error]: ".concat(t),...e),OB=(t,...e)=>console.error("<".concat(t.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mw=t=>oe().duration(t?400:300),NB=t=>{let e,n;const i=t.width+8,r=oe(),o=oe();t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),r.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));const a=re(t)==="ios",l=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,l),Mw(a).addAnimation([r,o])},LB=t=>{let e,n;const i=re(t),r=t.width;t.isEndSide?(e=-r+"px",n=r+"px"):(e=r+"px",n=-r+"px");const o=oe().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),s=oe().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=oe().addElement(t.backdropEl).fromTo("opacity",.01,.32);return Mw(i==="ios").addAnimation([o,s,a])},MB=t=>{const e=re(t),n=t.width*(t.isEndSide?-1:1)+"px",i=oe().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return Mw(e==="ios").addAnimation(i)},VB=()=>{const t=new Map,e=[],n=async w=>{const k=await c(w,!0);return k?k.open():!1},i=async w=>{const k=await(w!==void 0?c(w,!0):u());return k!==void 0?k.close():!1},r=async w=>{const k=await c(w,!0);return k?k.toggle():!1},o=async(w,k)=>{const F=await c(k);return F&&(F.disabled=!w),F},s=async(w,k)=>{const F=await c(k);return F&&(F.swipeGesture=w),F},a=async w=>{if(w!=null){const k=await c(w);return k!==void 0&&k.isOpen()}else return await u()!==void 0},l=async w=>{const k=await c(w);return k?!k.disabled:!1},c=async(w,k=!1)=>{if(await E(),w==="start"||w==="end"){const P=e.filter(W=>W.side===w&&!W.disabled);if(P.length>=1)return P.length>1&&k&&rt('menuController queried for a menu on the "'.concat(w,'" side, but ').concat(P.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),P.map(W=>W.el)),P[0].el;const D=e.filter(W=>W.side===w);if(D.length>=1)return D.length>1&&k&&rt('menuController queried for a menu on the "'.concat(w,'" side, but ').concat(D.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),D.map(W=>W.el)),D[0].el}else if(w!=null)return C(P=>P.menuId===w);const F=C(P=>!P.disabled);return F||(e.length>0?e[0].el:void 0)},u=async()=>(await E(),m()),d=async()=>(await E(),b()),h=async()=>(await E(),x()),f=(w,k)=>{t.set(w,k)},p=w=>{e.indexOf(w)<0&&e.push(w)},g=w=>{const k=e.indexOf(w);k>-1&&e.splice(k,1)},_=async(w,k,F)=>{if(x())return!1;if(k){const P=await u();P&&w.el!==P&&await P.setOpen(!1,!1)}return w._setOpen(k,F)},v=(w,k)=>{const F=t.get(w);if(!F)throw new Error("animation not registered");return F(k)},m=()=>C(w=>w._isOpen),b=()=>e.map(w=>w.el),x=()=>e.some(w=>w.isAnimating),C=w=>{const k=e.find(w);if(k!==void 0)return k.el},E=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(w=>new Promise(k=>Ao(w,k))));return f("reveal",MB),f("push",LB),f("overlay",NB),_o==null||_o.addEventListener("ionBackButton",w=>{const k=m();k&&w.detail.register(yD,()=>k.close())}),{registerAnimation:f,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:s,isAnimating:h,isOpen:a,enable:o,toggle:r,close:i,open:n,_getOpenSync:m,_createAnimation:v,_register:p,_unregister:g,_setOpen:_}},cs=VB();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vw=async(t,e,n,i,r,o)=>{var s;if(t)return t.attachViewToDom(e,n,r,i);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ao(a,l)),a},_D=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},wD=()=>{let t,e;return{attachViewToDom:async(r,o,s={},a=[])=>{var l,c;t=r;let u;if(o){const h=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(f=>h.classList.add(f)),Object.assign(h,s),t.appendChild(h),u=h,await new Promise(f=>Ao(h,f))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(u=t.children[0]).classList.contains("ion-delegate-host")){const f=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");f.classList.add("ion-delegate-host"),a.forEach(p=>f.classList.add(p)),f.append(...t.children),t.appendChild(f),u=f}const d=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),d.appendChild(t),u!=null?u:t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Zb=0,$B=0;const Tp=new WeakMap,$w=t=>{typeof document<"u"&&zB(document);const e=Zb++;t.overlayIndex=e},Fw=t=>(t.hasAttribute("id")||(t.id="ion-overlay-".concat(++$B)),t.id),rd='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',V1=(t,e)=>{let n=t.querySelector(rd);const i=n==null?void 0:n.shadowRoot;i&&(n=i.querySelector(rd)||n),n?k3(n):e.focus()},FB=t=>t.classList.contains("overlay-hidden"),$1=(t,e)=>{const n=Array.from(t.querySelectorAll(rd));let i=n.length>0?n[n.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(rd)||i),i?i.focus():e.focus()},BB=(t,e)=>{const n=Sp(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=t.target;if(!n||!i||n.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(n===i)n.lastFocus=void 0;else{const s=ei(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===s.querySelector("ion-backdrop"))n.lastFocus=i;else{const l=n.lastFocus;V1(a,n),l===e.activeElement&&$1(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(i))n.lastFocus=i;else{const s=n.lastFocus;V1(n,n),s===e.activeElement&&$1(n,n),n.lastFocus=e.activeElement}};n.shadowRoot?o():r()},zB=t=>{Zb===0&&(Zb=1,t.addEventListener("focus",e=>{BB(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=Sp(t);n!=null&&n.backdropDismiss&&e.detail.register(vD,()=>{n.dismiss(void 0,od)})}),Ol()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=Sp(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,od)}}))},UB=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),xD=(t,e)=>UB(t,e).filter(n=>!FB(n)),Sp=(t,e,n)=>{const i=xD(t,e);return n===void 0?i[i.length-1]:i.find(r=>r.id===n)},ED=(t=!1)=>{const n=HB(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},Bw=async(t,e,n,i,r)=>{var o,s;if(t.presented)return;ED(!0),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=re(t),l=t.enterAnimation?t.enterAnimation:_e.get(e,a==="ios"?n:i);await ID(t,l,t.el,r)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&jB(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus()},jB=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(rd)||e),await t.onDidDismiss(),e.focus()},zw=async(t,e,n,i,r,o,s)=>{var a,l;if(!t.presented)return!1;_o!==void 0&&xD(_o).length===1&&ED(!1),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const c=re(t),u=t.leaveAnimation?t.leaveAnimation:_e.get(i,c==="ios"?r:o);n!==hl&&await ID(t,u,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),Tp.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(c){console.error(c)}return t.el.remove(),!0},HB=t=>t.querySelector("ion-app")||t.body,ID=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const r=t.el,o=e(r,i);(!t.animated||!_e.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Tp.get(t)||[];return Tp.set(t,[...s,o]),await o.play(),!0},Nl=(t,e)=>{let n;const i=new Promise(r=>n=r);return WB(t,e,r=>{n(r.detail)}),i},WB=(t,e,n)=>{const i=r=>{E3(t,e,i),n(r)};x3(t,e,i)},e0=t=>t==="cancel"||t===od,qB=t=>t(),GB=(t,e)=>{if(typeof t=="function")return _e.get("_zoneGate",qB)(()=>{try{return t(e)}catch(i){throw i}})},od="backdrop",hl="gesture",kD=39,TD=t=>{let e=!1,n;const i=wD(),r=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Uw=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,r)=>{e();const o=r!==void 0?document.getElementById(r):null;if(!o){rt('A trigger element with the ID "'.concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,i)},removeClickListener:e}};function Ct(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const F1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",KB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",B1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",z1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",YB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",QB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let fy;const XB=()=>{if(typeof window>"u")return new Map;if(!fy){const t=window;t.Ionicons=t.Ionicons||{},fy=t.Ionicons.map=t.Ionicons.map||new Map}return fy},JB=t=>{let e=py(t.src);return e||(e=SD(t.name,t.icon,t.mode,t.ios,t.md),e?ZB(e,t):t.icon&&(e=py(t.icon),e||(e=py(t.icon[t.mode]),e))?e:null)},ZB=(t,e)=>{const n=XB().get(t);if(n)return n;try{return $P("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},SD=(t,e,n,i,r)=>(n=(n&&af(n))==="ios"?"ios":"md",i&&n==="ios"?t=af(i):r&&n==="md"?t=af(r):(!t&&e&&!CD(e)&&(t=e),Cp(t)&&(t=af(t))),!Cp(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),py=t=>Cp(t)&&(t=t.trim(),CD(t))?t:null,CD=t=>t.length>0&&/(\/|\.)/.test(t),Cp=t=>typeof t=="string",af=t=>t.toLowerCase(),ez=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},tz=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",nz=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),AD(n))return e.innerHTML}return""},AD=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Cp(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!AD(t.childNodes[e]))return!1}return!0},iz=t=>t.startsWith("data:image/svg+xml"),rz=t=>t.indexOf(";utf8,")!==-1,bs=new Map,U1=new Map;let my;const oz=(t,e)=>{let n=U1.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(iz(t)&&rz(t)){my||(my=new DOMParser);const r=my.parseFromString(t,"text/html").querySelector("svg");return r&&bs.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=nz(r)),bs.set(t,r||"")});bs.set(t,"")}),U1.set(t,n);else return bs.set(t,""),Promise.resolve();return n},sz=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",az=sz,lz=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=cz(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=ez(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=JB(this);e&&(bs.has(e)?this.svgContent=bs.get(e):oz(e,this.sanitize).then(()=>this.svgContent=bs.get(e)),this.didLoadIcon=!0)}this.iconName=SD(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return I(Re,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},uz(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&tz(r)})},i),this.svgContent?I("div",{class:"icon-inner",innerHTML:this.svgContent}):I("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return az}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),cz=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",uz=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function jw(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,lz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dz=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",hz=dz,fz=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",pz=fz,mz=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=ee(this,"ionBackdropTap",7),this.blocker=ag.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=re(this);return I(Re,{key:"b2adb9dabef01fa49388d67d9e8a4a370931f633",tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:hz,md:pz}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Hw(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,mz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gz=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",vz=gz,yz=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",bz=yz,_z=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=re(this);return I(Re,{key:"52c0c5535f5688a481746fe8fd92b6c02941526f",class:{[e]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:vz,md:bz}}},[34,"ion-buttons",{collapse:[4]}]);function wz(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,_z);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xz=wz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ez="ion-card-content{display:block;position:relative}.card-content-ios{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:20px;padding-bottom:20px;font-size:1rem;line-height:1.4}.card-content-ios h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-ios h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-ios h3,.card-content-ios h4,.card-content-ios h5,.card-content-ios h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-ios p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem}ion-card-header+.card-content-ios{padding-top:0}",Iz=Ez,kz="ion-card-content{display:block;position:relative}.card-content-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:13px;padding-bottom:13px;font-size:0.875rem;line-height:1.5}.card-content-md h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.card-content-md h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.card-content-md h3,.card-content-md h4,.card-content-md h5,.card-content-md h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal}.card-content-md p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:1.5}ion-card-header+.card-content-md{padding-top:0}",Tz=kz,Sz=Pe(class extends Te{constructor(){super(),this.__registerHost()}render(){const e=re(this);return I(Re,{key:"d4da147bb0b0b14684b54d37d04ba5a8f7a7d71d",class:{[e]:!0,["card-content-".concat(e)]:!0}})}static get style(){return{ios:Iz,md:Tz}}},[32,"ion-card-content"]);function Cz(){if(typeof customElements>"u")return;["ion-card-content"].forEach(e=>{switch(e){case"ion-card-content":customElements.get(e)||customElements.define(e,Sz);break}})}const Az=Cz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rz=t=>{const e=t;let n;return{hasLegacyControl:()=>{if(n===void 0){const r=e.label!==void 0||Pz(e),o=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,s=ZP(e);n=e.legacy===!0||!r&&!o&&s!==null}return n}}},Pz=t=>!!(Dz.includes(t.tagName)&&t.querySelector('[slot="label"]')!==null||Oz.includes(t.tagName)&&t.textContent!==""),Dz=["ION-INPUT","ION-TEXTAREA","ION-SELECT","ION-RANGE"],Oz=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nz=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",Lz=Nz,Mz=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{id(()=>{const r=this.el.getBoundingClientRect(),o=r.width,s=r.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),c=this.unbounded?l:a+$z,u=Math.floor(l*Fz),d=c/u;let h=e-r.left,f=n-r.top;this.unbounded&&(h=o*.5,f=s*.5);const p=h-u*.5,g=f-u*.5,_=o*.5-h,v=s*.5-f;ir(()=>{const m=document.createElement("div");m.classList.add("ripple-effect");const b=m.style;b.top=g+"px",b.left=p+"px",b.width=b.height=u+"px",b.setProperty("--final-scale","".concat(d)),b.setProperty("--translate-end","".concat(_,"px, ").concat(v,"px")),(this.el.shadowRoot||this.el).appendChild(m),setTimeout(()=>{i(()=>{Vz(m)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=re(this);return I(Re,{key:"a9ff1956627908ee4071002ca018eaa80f87cd59",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return Lz}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Vz=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},$z=10,Fz=.5;function Ww(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,Mz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bz={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},zz=t=>{if(t===void 0||t==="")return!0;if(window.matchMedia){const e=Bz[t];return window.matchMedia(e).matches}return!1},Uz=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",jz=Uz,lf=typeof window<"u"?window:void 0,j1=lf&&!!(lf.CSS&&lf.CSS.supports&&lf.CSS.supports("--a: 0")),Hz=["","xs","sm","md","lg","xl"],Wz=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){Dl(this)}getColumns(e){let n;for(const i of Hz){const r=zz(i),o=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&o!==void 0&&(n=o)}return n}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const n=e==="auto"?"auto":j1?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(n),width:"".concat(n),"max-width":"".concat(n)}}calculatePosition(e,n){const i=this.getColumns(e);if(!i)return;const r=j1?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[n]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",n=re(this);return I(Re,{key:"c186972dd12d10a4600975c326f20666fed96abf",class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},I("slot",{key:"54cc8bd92f94cfd30d9f3e8e59e0f0dc38abfd63"}))}static get style(){return jz}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function qz(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,Wz);break}})}const Gz=qz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kz=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yz=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',Qz=Yz,Xz=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=ee(this,"ionScrollStart",7),this.ionScroll=ee(this,"ionScroll",7),this.ionScrollEnd=ee(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Ip(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Ip(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=re(this);return e===void 0?n==="ios"&&lo("ios"):e}resize(){this.fullscreen?id(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Dl(this))}readDimensions(){const e=Zz(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Dl(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,id(r=>{this.queued=!1,this.detail.event=e,e9(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ao(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ao(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,n+r.scrollTop,i)}async scrollToPoint(e,n,i=0){const r=await this.getScrollElement();if(i<32){n!=null&&(r.scrollTop=n),e!=null&&(r.scrollLeft=e);return}let o,s=0;const a=new Promise(f=>o=f),l=r.scrollTop,c=r.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-s)/i)-1,g=Math.pow(p,3)+1;u!==0&&(r.scrollTop=Math.floor(g*u+l)),d!==0&&(r.scrollLeft=Math.floor(g*d+c)),g<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{s=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:n,scrollY:i,el:r}=this,o=Kz(r)?"rtl":"ltr",s=re(this),a=this.shouldForceOverscroll(),l=s==="ios",c=e?"main":"div";return this.resize(),I(Re,{key:"65d85e1f7f85876a76eec79addc4bd9f697a5d84",class:kn(this.color,{[s]:!0,"content-sizing":wn("ion-popover",this.el),overscroll:a,["content-".concat(o)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},I("div",{key:"e2ac474a62cbc864772c497469100436f41289ff",ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),I(c,{key:"567a4bc2bcb13adfd987b088f95ac4b20b789f2c",class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},I("slot",{key:"13909f87dd9f49bf1664ad95038499da376b9480"})),l?I("div",{class:"transition-effect"},I("div",{class:"transition-cover"}),I("div",{class:"transition-shadow"})):null,I("slot",{key:"05b56c139e203cfd1e3dd08054e99328e97e9243",name:"fixed"}))}get el(){return this}static get style(){return Qz}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),Jz=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},Zz=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||Jz(t)},e9=(t,e,n,i)=>{const r=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-r)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function t9(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,Xz);break}})}const n9=t9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const i9=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',r9=i9,o9=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',s9=o9,a9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ee(this,"ionFocus",7),this.ionBlur=ee(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;this.type==="button"?dg(this.href,e,this.routerDirection,this.routerAnimation):I3(n)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:n}=this;if(n!==null&&e.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=ac(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);return n?n instanceof HTMLFormElement?n:(rt('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(rt('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(rt('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=re(this),{buttonType:n,type:i,disabled:r,rel:o,target:s,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,g=a===void 0&&this.inItem?"small":a,_=l===void 0?"button":"a",v=_==="button"?{type:i}:{download:this.download,href:l,rel:o,target:s};let m=this.fill;return m==null&&(m=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),I(Re,{key:"8533314504b286ec10e26722f93376d86a7ca1c9",onClick:this.handleClick,"aria-disabled":r?"true":null,class:kn(c,{[e]:!0,[n]:!0,["".concat(n,"-").concat(u)]:u!==void 0,["".concat(n,"-").concat(g)]:g!==void 0,["".concat(n,"-").concat(h)]:h!==void 0,["".concat(n,"-").concat(m)]:!0,["".concat(n,"-strong")]:f,"in-toolbar":wn("ion-toolbar",this.el),"in-toolbar-color":wn("ion-toolbar[color]",this.el),"in-buttons":wn("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},I(_,Object.assign({key:"79bf020fdac0c2ceb2b05547b3e5a9a11e60abb4"},v,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},p),I("span",{key:"109481ba86102647023b746b054b2718d3c9d92a",class:"button-inner"},I("slot",{key:"f824ddd9f988b9bd33136555b16aa790d9291b49",name:"icon-only"}),I("slot",{key:"d614f4e430792c5f93be4b3a8c57a826d74b9cfd",name:"start"}),I("slot",{key:"95d00c8a980c31cc7f84732f51a17a0cd285a7cb"}),I("slot",{key:"a228ff52cbe04dc9d2e22bb66611ecc96d130e6f",name:"end"})),e==="md"&&I("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:r9,md:s9}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]},void 0,{disabled:["disabledChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l9=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',c9=l9,u9=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:1rem;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline:dir(rtl)) .item-highlight{left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid:dir(rtl)){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round:dir(rtl)){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',d9=u9,h9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=F1,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}buttonChanged(){this.focusable=this.isFocusable()}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);o[l]||(s=!0),r[l]=!0}}),!s&&Object.keys(r).length!==Object.keys(o).length&&(s=!0),s&&(this.itemStyles.set(n,r),Dl(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=da(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:n,counterFormatter:i,fill:r,shape:o}=this;e.querySelector('[slot="helper"]')!==null&&rt('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&rt('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),n===!0&&rt('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&rt('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&rt('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),o!==void 0&&rt('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Tt(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var n,i;const{counter:r,counterFormatter:o,defaultCounterFormatter:s}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(o===void 0)this.counterString=s(a,e.maxlength);else try{this.counterString=o(a,e.maxlength)}catch(l){bD("Exception in provided `counterFormatter`.",l),this.counterString=s(a,e.maxlength)}}}defaultCounterFormatter(e,n){return"".concat(e," / ").concat(n)}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled])")[0]}render(){const{counterString:e,detail:n,detailIcon:i,download:r,fill:o,labelColorStyles:s,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:f,routerDirection:p,inheritedAriaAttributes:g,multipleInputs:_}=this,v={},m=re(this),b=this.isClickable(),x=this.canActivate(),C=b?c===void 0?"button":"a":"div",E=C==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h};let w={};const k=this.getFirstInteractive();(b||k!==void 0&&!_)&&(w={onClick:ue=>{if(b&&dg(c,ue,p,f),k!==void 0&&!_){const ae=ue.composedPath()[0];ue.isTrusted&&this.el.shadowRoot.contains(ae)&&k.click()}}});const F=n!==void 0?n:m==="ios"&&b;this.itemStyles.forEach(ue=>{Object.assign(v,ue)});const P=l||v["item-interactive-disabled"]?"true":null,D=o||"none",W=wn("ion-list",this.el)&&!wn("ion-radio-group",this.el);return I(Re,{key:"941d21ee0c46e9fbc566469708579f8871d19c73","aria-disabled":P,class:Object.assign(Object.assign(Object.assign({},v),s),kn(this.color,{item:!0,[m]:!0,"item-lines-default":a===void 0,["item-lines-".concat(a)]:a!==void 0,["item-fill-".concat(D)]:!0,["item-shape-".concat(d)]:d!==void 0,"item-has-interactive-control":k!==void 0,"item-disabled":l,"in-list":W,"item-multiple-inputs":this.multipleInputs,"ion-activatable":x,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:W?"listitem":null},I(C,Object.assign({key:"f0be78f964215caea21b54ffac6c2b2988967f7d"},E,g,{class:"item-native",part:"native",disabled:l},w),I("slot",{key:"255e76ba8f6b5c2d75103dcd787908132f1a84a4",name:"start"}),I("div",{key:"1dee3e342b4fc1703500a545e90ad681582c1292",class:"item-inner"},I("div",{key:"045c1cf4f03687f41147144c9c714ec426b81829",class:"input-wrapper"},I("slot",{key:"4f1edcce6cc918e521bb98e70602dfee2b492428"})),I("slot",{key:"2dd468bc4bed5e5dab4372133bcbf4a472e417a3",name:"end"}),F&&I("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===F1}),I("div",{key:"116b9c332c6e28f0eb9cb513c36aa3ac5ada17d0",class:"item-inner-highlight"})),x&&m==="md"&&I("ion-ripple-effect",null),I("div",{key:"0bd92b2e3039c34b5d01d9361941af360d68a335",class:"item-highlight"})),I("div",{key:"9287c851c10b8438c787b34a2bf6d76c87af3c15",class:"item-bottom"},I("slot",{key:"7db1f90077bbc63f3adbf873e0b1721e131d8d8d",name:"error"}),I("slot",{key:"6e90f564af916893a6a9fe6fe30dee15655a554e",name:"helper"}),e&&I("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:c9,md:d9}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f9=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-ios-h,.item-legacy .sc-ion-label-ios-h{white-space:nowrap;overflow:hidden}.item.sc-ion-label-ios-h:not(.item-input):not(.item-legacy),.item:not(.item-input):not(.item-legacy) .sc-ion-label-ios-h{-ms-flex-positive:1;flex-grow:1}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",p9=f9,m9='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-md-h,.item-legacy .sc-ion-label-md-h{white-space:nowrap;overflow:hidden}.item.sc-ion-label-md-h:not(.item-input):not(.item-legacy),.item:not(.item-input):not(.item-legacy) .sc-ion-label-md-h{-ms-flex-positive:1;flex-grow:1}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',g9=m9,v9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.ionColor=ee(this,"ionColor",7),this.ionStyle=ee(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const e=this.position,n=re(this);return I(Re,{key:"813192a6460057c6d1e42f50f3f257bee2f550d8",class:kn(this.color,{[n]:!0,"in-item-color":wn("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:p9,md:g9}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function y9(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,v9);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const t0=()=>{if(Me!==void 0)return Me.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hg=()=>{let t;return{lock:async()=>{const n=t;let i;return t=new Promise(r=>i=r),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const b9=":host{position:absolute;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:999}:host(.fab-horizontal-center){left:0px;right:0px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}:host(.fab-horizontal-start){left:calc(10px + var(--ion-safe-area-left, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-start),:host-context([dir=rtl]).fab-horizontal-start{right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-start:dir(rtl)){right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}}:host(.fab-horizontal-end){right:calc(10px + var(--ion-safe-area-right, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-end),:host-context([dir=rtl]).fab-horizontal-end{left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-end:dir(rtl)){left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}}:host(.fab-vertical-top){top:10px}:host(.fab-vertical-top.fab-edge){top:0}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-top:calc((-100% + 16px) / 2)}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-top:calc(50% + 10px)}:host(.fab-vertical-bottom){bottom:10px}:host(.fab-vertical-bottom.fab-edge){bottom:0}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-bottom:calc((-100% + 16px) / 2)}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-bottom:calc(50% + 10px)}:host(.fab-vertical-center){top:0px;bottom:0px;margin-top:auto;margin-bottom:auto}",_9=b9,w9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.horizontal=void 0,this.vertical=void 0,this.edge=!1,this.activated=!1}activatedChanged(){const e=this.activated,n=this.getFab();n&&(n.activated=e),Array.from(this.el.querySelectorAll("ion-fab-list")).forEach(i=>{i.activated=e})}componentDidLoad(){this.activated&&this.activatedChanged()}async close(){this.activated=!1}getFab(){return this.el.querySelector("ion-fab-button")}async toggle(){!!this.el.querySelector("ion-fab-list")&&(this.activated=!this.activated)}render(){const{horizontal:e,vertical:n,edge:i}=this,r=re(this);return I(Re,{key:"eb7470763cfaadd229036fe4e04913cb4a0551c7",class:{[r]:!0,["fab-horizontal-".concat(e)]:e!==void 0,["fab-vertical-".concat(n)]:n!==void 0,"fab-edge":i}},I("slot",{key:"daf53f8c644db866f69d41401dba7a2791c37ac3"}))}get el(){return this}static get watchers(){return{activated:["activatedChanged"]}}static get style(){return _9}},[1,"ion-fab",{horizontal:[1],vertical:[1],edge:[4],activated:[1028],close:[64],toggle:[64]},void 0,{activated:["activatedChanged"]}]);function x9(){if(typeof customElements>"u")return;["ion-fab"].forEach(e=>{switch(e){case"ion-fab":customElements.get(e)||customElements.define(e,w9);break}})}const E9=x9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const I9="ION-CONTENT",RD="ion-content",PD=".ion-content-scroll-host",DD="".concat(RD,", ").concat(PD),Hs=t=>t.tagName===I9,H1=async t=>Hs(t)?(await new Promise(e=>Ao(t,e)),t.getScrollElement()):t,n0=t=>{const e=t.querySelector(PD);return e||t.querySelector(DD)},k9=t=>t.closest(DD),toe=(t,e)=>Hs(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),noe=(t,e,n,i)=>Hs(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),i0=t=>OB(t,RD),W1=t=>{if(Hs(t)){const e=t,n=e.scrollY;return e.scrollY=!1,n}else return t.style.setProperty("overflow","hidden"),!0},T9=(t,e)=>{Hs(t)?t.scrollY=e:t.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var r0;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(r0||(r0={}));var o0;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(o0||(o0={}));const OD={getEngine(){const t=t0();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==r0.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ND=t=>{if(_o===void 0||t===o0.None||t===void 0)return null;const e=_o.querySelector("ion-app");return e!=null?e:_o.body},q1=t=>{const e=ND(t);return e===null?0:e.clientHeight},S9=async t=>{let e,n,i,r;const o=async()=>{const u=await OD.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=q1(d)),i=!0,s(i,d)},n=()=>{i=!1,s(i,d)},Me==null||Me.addEventListener("keyboardWillShow",e),Me==null||Me.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===q1(u))return;const d=ND(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===r&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{Me==null||Me.removeEventListener("keyboardWillShow",e),Me==null||Me.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const C9=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",A9=C9,R9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=re(this);return I(Re,{key:"03a8975bb9320192033219fc9e06fe7afa4fae4a",class:{[e]:!0,"grid-fixed":this.fixed}},I("slot",{key:"8d95abb4614e73a46a274668c13fe7c7f011c537"}))}static get style(){return A9}},[1,"ion-grid",{fixed:[4]}]);function P9(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,R9);break}})}const D9=P9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const O9="all 0.2s ease-in-out",G1=t=>{const e=document.querySelector("".concat(t,".ion-cloned-element"));if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},K1=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},N9=(t,e,n)=>{id(()=>{const i=t.scrollTop,r=zs(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&ir(()=>{V9(e.toolbars,r)})})},qw=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},L9=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;qw(e.el,i===1?void 0:i)},M9=(t,e,n,i)=>{ir(()=>{const r=i.scrollTop;L9(t,e,r);const o=t[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,c=a===0&&l===0,u=Math.abs(s.left-o.boundingClientRect.left),d=Math.abs(s.right-o.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(ru(e,!1),ru(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&r>0&&(ru(e),ru(n,!1),qw(e.el)))})},ru=(t,e=!0)=>{const n=t.el;e?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},V9=(t=[],e=1,n=!1)=>{t.forEach(i=>{const r=i.ionTitleEl,o=i.innerTitleEl;!r||r.size!=="large"||(o.style.transition=n?O9:"",o.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},Y1=(t,e,n)=>{id(()=>{const i=t.scrollTop,r=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&i<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const s=i-o,l=zs(0,s/10,1);ir(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},$9="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header:not(.header-collapse-main):has(~ion-content ion-header[collapse=condense],~ion-content ion-header.header-collapse-condense){opacity:0}",F9=$9,B9="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",z9=B9,U9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await H1(e);this.contentScrollCallback=()=>{Y1(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),Y1(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=ac(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(re(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",r=n==="fade";if(this.destroyCollapsibleHeader(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?n0(o):null;ir(()=>{const a=G1("ion-title");a.size="large",G1("ion-back-button")}),await this.setupCondenseHeader(s,o)}else if(r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?n0(o):null;if(!s){i0(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){i0(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await H1(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=K1(this.collapsibleMainHeader),o=K1(this.el);if(!r||!o)return;ru(r,!1),qw(r.el,0);const s=a=>{M9(a,r,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{N9(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),ir(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=re(this),r=this.collapse||"none",o=wn("ion-menu",this.el)?"none":"banner";return I(Re,Object.assign({key:"a33e7e1818cb4718ae36b8bcfa811c4138b85fac",role:o,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&e&&I("div",{class:"header-background"}),I("slot",{key:"7e2fa75034f7422a3dc5691e9b3c25393e16c0ca"}))}get el(){return this}static get style(){return{ios:F9,md:z9}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function j9(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,U9);break}})}const H9=j9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W9=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",q9=W9,G9=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=ee(this,"ionImgWillLoad",7),this.ionImgDidLoad=ee(this,"ionImgDidLoad",7),this.ionError=ee(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=da(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:i,loadError:r,inheritedAttributes:o}=this,{draggable:s}=o;return I(Re,{key:"1983ddd575d8f870f249d37a3897dbcc110bf4d7",class:re(this)},I("img",{key:"f2ba013804f6ed9e5dadb08c75e47c0f844e67f3",decoding:"async",src:e,alt:n,onLoad:i,onError:r,part:"image",draggable:K9(s)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return q9}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),K9=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function Y9(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,G9);break}})}const Q9=Y9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X9={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i="".concat(t*e/n-t,"ms"),r=2*Math.PI*e/n;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,r="".concat(t*i-t,"ms"),o=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(o),"%"),left:"".concat(32*Math.cos(o),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i="rotate(".concat(360/n*e+(e<n/2?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(t*e/n-t,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},Q1=X9,J9=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",Z9=J9,eU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||_e.get("spinner"),n=re(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=re(n),r=n.getName(),o=(e=Q1[r])!==null&&e!==void 0?e:Q1.lines,s=typeof n.duration=="number"&&n.duration>10?n.duration:o.dur,a=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)a.push(tU(o,s,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)a.push(nU(o,s,l,o.lines));return I(Re,{key:"47cd6cd98e36e5b99fbe263a6a102610cae240c3",class:kn(n.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":n.paused||_e.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:s+"ms"}:{}},a)}static get style(){return Z9}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),tU=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",I("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},I("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},nU=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",I("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},I("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function iU(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,eU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rU=(t,e,n)=>{let i;const r=()=>!(e()===void 0||t.label!==void 0||n()===null),o=()=>{r()&&Tt(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&Me!==void 0&&"IntersectionObserver"in Me){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(s(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:o,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oU=(t,e,n)=>{let i,r;if(Me!==void 0&&"MutationObserver"in Me){const l=Array.isArray(e)?e:[e];i=new MutationObserver(c=>{for(const u of c)for(const d of u.addedNodes)if(d.nodeType===Node.ELEMENT_NODE&&l.includes(d.slot)){n(),Tt(()=>o(d));return}}),i.observe(t,{childList:!0})}const o=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:s}},sU=(t,e,n)=>{const i=t==null?0:t.toString().length,r=aU(i,e);if(n===void 0)return r;try{return n(i,e)}catch(o){return bD("Exception in provided `counterFormatter`.",o),r}},aU=(t,e)=>"".concat(t," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lU=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.legacy-input.sc-ion-input-ios-h{pointer-events:none}.has-focus.legacy-input.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.legacy-input.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.legacy-input.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",cU=lU,uU=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.sc-ion-input-md-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.legacy-input.sc-ion-input-md-h{pointer-events:none}.has-focus.legacy-input.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.legacy-input.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.legacy-input.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h:dir(rtl) .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h:dir(rtl) .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h:dir(rtl) .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h:dir(rtl) .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",dU=uU,hU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.ionInput=ee(this,"ionInput",7),this.ionChange=ee(this,"ionChange",7),this.ionBlur=ee(this,"ionBlur",7),this.ionFocus=ee(this,"ionFocus",7),this.ionStyle=ee(this,"ionStyle",7),this.inputId="ion-input-".concat(fU++),this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:T3(e,n)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},ac(this.el)),da(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=Rz(e),this.slotMutationController=oU(e,["label","start","end"],()=>Dl(this)),this.notchController=rU(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ao(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled,legacy:!!this.legacy})}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(e)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n}=this;return[I("div",{class:"helper-text"},e),I("div",{class:"error-text"},n)]}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return I("div",{class:"counter"},sU(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return I("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return I("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?I("slot",{name:"label"}):I("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return re(this)==="md"&&this.fill==="outline"?[I("div",{class:"input-outline-container"},I("div",{class:"input-outline-start"}),I("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},I("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),I("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:n,readonly:i,shape:r,inputId:o,labelPlacement:s,el:a,hasFocus:l}=this,c=re(this),u=this.getValue(),d=wn("ion-item",this.el),h=c==="md"&&n!=="outline"&&!d,f=this.hasValue(),p=a.querySelector('[slot="start"], [slot="end"]')!==null,g=s==="stacked"||s==="floating"&&(f||l||p);return I(Re,{class:kn(this.color,{[c]:!0,"has-value":f,"has-focus":l,"label-floating":g,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(s)]:!0,"in-item":d,"in-item-color":wn("ion-item.ion-color",this.el),"input-disabled":e})},I("label",{class:"input-wrapper",htmlFor:o},this.renderLabelContainer(),I("div",{class:"native-wrapper"},I("slot",{name:"start"}),I("input",Object.assign({class:"native-input",ref:_=>this.nativeInput=_,id:o,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:u,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&I("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:_=>{_.preventDefault()},onClick:this.clearTextInput},I("ion-icon",{"aria-hidden":"true",icon:c==="ios"?B1:z1})),I("slot",{name:"end"})),h&&I("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(rt('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&rt('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const e=re(this),n=this.getValue(),i=this.inputId+"-lbl",r=ZP(this.el);return r&&(r.id=i),I(Re,{"aria-disabled":this.disabled?"true":null,class:kn(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":wn("ion-item.ion-color",this.el)})},I("input",Object.assign({class:"native-input",ref:o=>this.nativeInput=o,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:n,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&I("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:o=>{o.preventDefault()},onClick:this.clearTextInput},I("ion-icon",{"aria-hidden":"true",icon:e==="ios"?B1:z1})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:cU,md:dU}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}]);let fU=0;function pU(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,hU);break;case"ion-icon":customElements.get(e)||jw();break}})}const mU=pU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gU=y9,vU=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",yU=vU,bU=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",_U=bU,wU="cubic-bezier(0.32,0.72,0,1)",xU="cubic-bezier(0.0,0.0,0.2,1)",EU="cubic-bezier(1, 0, 0.68, 0.28)",IU="cubic-bezier(0.4, 0, 0.6, 1)",X1='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',kU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=ee(this,"ionWillOpen",7),this.ionWillClose=ee(this,"ionWillClose",7),this.ionDidOpen=ee(this,"ionDidOpen",7),this.ionDidClose=ee(this,"ionDidClose",7),this.ionMenuChange=ee(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=ag.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=Sp(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const i=this.contentEl;i&&(n!==void 0&&i.classList.remove("menu-content-".concat(n)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=R1(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=_e.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),cs._register(this),this.menuChanged(),this.gesture=(await ki(()=>Promise.resolve().then(()=>oB),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=ac(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),cs._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const{target:n}=e,i=this.el.closest("ion-split-pane");n===i&&(this.isPaneVisible=e.detail.isPane(this.el),this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close())}onKeydown(e){e.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0){return this.setOpen(!1,e)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0){return cs._setOpen(this,e,n)}focusFirstDescendant(){const{el:e}=this,n=e.querySelector(X1);n?n.focus():e.focus()}focusLastDescendant(){const{el:e}=this,n=Array.from(e.querySelectorAll(X1)),i=n.length>0?n[n.length-1]:null;i?i.focus():e.focus()}trapKeyboardFocus(e,n){const i=e.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===n.activeElement&&this.focusLastDescendant()))}async _setOpen(e,n=!0){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=R1(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await cs._createAnimation(this.type,this);_e.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,n){const i=!e,r=re(this),o=r==="ios"?wU:xU,s=r==="ios"?EU:IU,a=this.animation.direction(i?"reverse":"normal").easing(i?s:o);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:cs._getOpenSync()?!1:TU(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}const i=J1(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}const n=this._isOpen,i=this.isEndSide,r=J1(e.deltaX,n,i),o=this.width,s=r/o,a=e.velocityX,l=o/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=n?i?c:u:i?u:c;let h=!n&&d;n&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let f=d?.001:-.001;const p=s<0?.01:s;f+=Us([0,0],[.4,0],[.6,1],[1,1],zs(0,p,.9999))[0]||0;const g=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h),{oneTimeCallback:!0}).progressEnd(g?1:0,this._isOpen?1-f:f,300)}beforeAnimation(e){Nt(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(Z1),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(eT),this.contentEl&&(this.contentEl.classList.add(tT),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(e){var n;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(this.ionDidOpen.emit(),((n=document.activeElement)===null||n===void 0?void 0:n.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(Z1),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(tT),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(eT),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1))}render(){const{type:e,disabled:n,isPaneVisible:i,inheritedAttributes:r,side:o}=this,s=re(this);return I(Re,{key:"be7145625a30951e5cc26646f6121ee4fa4c910f",onKeyDown:Ol()?null:this.onKeydown,role:"navigation","aria-label":r["aria-label"]||"menu",class:{[s]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!n,["menu-side-".concat(o)]:!0,"menu-pane-visible":i}},I("div",{key:"ecd6e0641ed67691db270190801f7be365a2d121",class:"menu-inner",part:"container",ref:a=>this.menuInnerEl=a},I("slot",{key:"aea3780e259f2b3ea84697a509bb7f13fa9531e9"})),I("ion-backdrop",{key:"be3253506a34c4c00eb1814621c674196b72db46",ref:a=>this.backdropEl=a,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:yU,md:_U}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),J1=(t,e,n)=>Math.max(0,e!==n?-t:t),TU=(t,e,n,i)=>n?e>=t.innerWidth-i:e<=i,Z1="show-menu",eT="show-backdrop",tT="menu-content-open";function SU(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,kU);break;case"ion-backdrop":customElements.get(e)||Hw();break}})}const CU=SU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AU=async t=>{const e=await cs.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RU=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',PU=RU,DU=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',OU=DU,NU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>cs.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=ac(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await AU(this.menu)}render(){const{color:e,disabled:n,inheritedAttributes:i}=this,r=re(this),o=_e.get("menuIcon",r==="ios"?YB:QB),s=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return I(Re,{key:"2fd7130b8d28695162f7efebbd2131e5e9e4f330",onClick:this.onClick,"aria-disabled":n?"true":null,"aria-hidden":s?"true":null,class:kn(e,{[r]:!0,button:!0,"menu-button-hidden":s,"menu-button-disabled":n,"in-toolbar":wn("ion-toolbar",this.el),"in-toolbar-color":wn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},I("button",Object.assign({key:"fa6b1fb9291df812b04065b4b0ebdfd28e5217eb"},a,{disabled:n,class:"button-native",part:"native","aria-label":l}),I("span",{key:"88106a08070ebff7457c581301efe649829aded2",class:"button-inner"},I("slot",{key:"e3edfb89e5705b2c08c66f3d3452457667de3657"},I("ion-icon",{key:"24678e9c3bb2f1f3db113a2ae0ec93e407a7de0c",part:"icon",icon:o,mode:r,lazy:!1,"aria-hidden":"true"}))),r==="md"&&I("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:PU,md:OU}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function LU(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,NU);break;case"ion-icon":customElements.get(e)||jw();break;case"ion-ripple-effect":customElements.get(e)||Ww();break}})}const MU=LU,LD=1,MD=2,Ap=3;class s0{constructor(e,n){this.component=e,this.params=n,this.state=LD}async init(e){if(this.state=MD,!this.element){const n=this.component;this.element=await Vw(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Nt(this.state!==Ap,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Ap}}const nT=(t,e,n)=>!t||t.component!==e?!1:eD(t.params,n),iT=(t,e)=>t?t instanceof s0?t:new s0(t,e):null,VU=t=>t.map(e=>e instanceof s0?e:"component"in e?iT(e.component,e.componentProps===null?void 0:e.componentProps):iT(e,void 0)).filter(e=>e!==null),$U=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",FU=$U,BU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ee(this,"ionNavWillLoad",7),this.ionNavWillChange=ee(this,"ionNavWillChange",3),this.ionNavDidChange=ee(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=re(this);this.swipeGesture=_e.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await ki(()=>import("./swipe-back-UiqrZa3V.js"),__vite__mapDeps([]))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)hr(e.element,dy),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,o){return this.insertPages(e,[{component:n,componentProps:i}],r,o)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const o=this.getActiveSync();if(nT(o,e,n))return Promise.resolve({changed:!1,element:o.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>nT(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const o=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===LD&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;r?o=await this.transition(i,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){Nt(e.removeStart!==void 0,"removeView needs removeStart"),Nt(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const s=e.insertViews;if(!s)return;Nt(s.length>0,"length can not be zero");const a=VU(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Ap)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const o=this.views,s=r+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<r||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var r,o,s;Nt(n||e,"Both leavingView and enteringView are null"),Nt(i.resolve,"resolve must be valid"),Nt(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){Nt(c>=0,"removeStart can not be negative"),Nt(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==n&&d.push(p)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(Nt(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=i.insertStart;for(const p of l)this.insertViewAt(p,f),f++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)hr(f.element,tD),hr(f.element,nD),hr(f.element,dy);for(const f of d)this.destroyView(f)}}async transition(e,n,i){const r=i.opts,o=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,s=re(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&_e.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||_e.get("navAnimation")}),{hasCompleted:u}=await iD(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const o=e?n:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(Nt(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(Nt(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){Nt(e.state===MD||e.state===Ap,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);Nt(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const o=n[r],s=o.element;s&&(r>i?(hr(s,dy),this.destroyView(o)):r<i&&Qb(s,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Us([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Us([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return I("slot",{key:"654286a8a7ef03d4a22497eb51e781a9a8979774"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return FU}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function zU(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,BU);break}})}const UU=zU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jU=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",HU=jU,WU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return I(Re,{key:"de94b93c001a93b2a88bcb8e959f421fd5ad4a65",class:re(this)},I("slot",{key:"41fa951758d3644bb77d80002caf6e25a79393ce"}))}static get style(){return HU}},[1,"ion-row"]);function qU(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,WU);break}})}const GU=qU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KU=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}::slotted(ion-menu.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width);min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.split-pane-visible) ::slotted(.split-pane-side),:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.split-pane-visible) ::slotted(.split-pane-main){-ms-flex:1;flex:1;overflow:hidden}:host(.split-pane-visible) ::slotted(.split-pane-side:not(ion-menu)),:host(.split-pane-visible) ::slotted(ion-menu.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host(.split-pane-visible) ::slotted(.split-pane-side){-ms-flex-order:-1;order:-1}:host(.split-pane-visible) ::slotted(.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host{--border:0.55px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--side-min-width:270px;--side-max-width:28%}:host(.split-pane-visible) ::slotted(.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.split-pane-visible) ::slotted(.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}",YU=KU,QU=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}::slotted(ion-menu.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width);min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.split-pane-visible) ::slotted(.split-pane-side),:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.split-pane-visible) ::slotted(.split-pane-main){-ms-flex:1;flex:1;overflow:hidden}:host(.split-pane-visible) ::slotted(.split-pane-side:not(ion-menu)),:host(.split-pane-visible) ::slotted(ion-menu.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host(.split-pane-visible) ::slotted(.split-pane-side){-ms-flex-order:-1;order:-1}:host(.split-pane-visible) ::slotted(.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host{--border:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--side-min-width:270px;--side-max-width:28%}:host(.split-pane-visible) ::slotted(.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.split-pane-visible) ::slotted(.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}",XU=QU,rT="split-pane-main",a0="split-pane-side",oT={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},JU=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionSplitPaneVisible=ee(this,"ionSplitPaneVisible",7),this.visible=!1,this.contentId=void 0,this.disabled=!1,this.when=oT.lg}visibleChanged(e){const n={visible:e,isPane:this.isPane.bind(this)};this.ionSplitPaneVisible.emit(n)}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-split-pane"),this.styleChildren(),this.updateState()}disconnectedCallback(){this.rmL&&(this.rmL(),this.rmL=void 0)}updateState(){if(this.rmL&&(this.rmL(),this.rmL=void 0),this.disabled){this.visible=!1;return}const e=this.when;if(typeof e=="boolean"){this.visible=e;return}const n=oT[e]||e;if(n.length===0){this.visible=!1;return}const i=o=>{this.visible=o.matches},r=window.matchMedia(n);r.addListener(i),this.rmL=()=>r.removeListener(i),this.visible=r.matches}isPane(e){return this.visible?e.parentElement===this.el&&e.classList.contains(a0):!1}styleChildren(){const e=this.contentId,n=this.el.children,i=this.el.childElementCount;let r=!1;for(let o=0;o<i;o++){const s=n[o],a=e!==void 0&&s.id===e;if(a){if(r){console.warn("split pane cannot have more than one main node");return}r=!0}ZU(s,a)}r||console.warn("split pane does not have a specified main node")}render(){const e=re(this);return I(Re,{key:"3efe241375d23ae12c47927aa1fc1f3f4b4e5807",class:{[e]:!0,["split-pane-".concat(e)]:!0,"split-pane-visible":this.visible}},I("slot",{key:"d5c94319658e2291dcc356e6ed7a9abc1a48a8b9"}))}get el(){return this}static get watchers(){return{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}}static get style(){return{ios:YU,md:XU}}},[33,"ion-split-pane",{contentId:[513,"content-id"],disabled:[4],when:[8],visible:[32]},void 0,{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}]),ZU=(t,e)=>{let n,i;e?(n=rT,i=a0):(n=a0,i=rT);const r=t.classList;r.add(n),r.remove(i)};function ej(){if(typeof customElements>"u")return;["ion-split-pane"].forEach(e=>{switch(e){case"ion-split-pane":customElements.get(e)||customElements.define(e,JU);break}})}const tj=ej;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nj=":host(.ion-color){color:var(--ion-color-base)}",ij=nj,rj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=re(this);return I(Re,{key:"8922ebdd7486c9cb9f9b547a49e5be2261df4ba1",class:kn(this.color,{[e]:!0})},I("slot",{key:"164cbd0f81a00adfac04f544524e905f721c121c"}))}static get style(){return ij}},[1,"ion-text",{color:[513]}]);function oj(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,rj);break}})}const sj=oj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aj=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",lj=aj,cj=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",uj=cj,dj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=ee(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=re(this),n=this.getSize();return I(Re,{key:"b68a272a33ec81d282629a569676f64d3215a0c7",class:kn(this.color,{[e]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},I("div",{key:"9069816a14e6e358695c5bd465787cf297c761bc",class:"toolbar-title"},I("slot",{key:"8894bd04f2292b54050ee864abb5396deadf9874"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:lj,md:uj}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function hj(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,dj);break}})}const fj=hj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pj=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",mj=pj,gj=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",vj=gj,yj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(o=>o.slot==="end")||i.find(o=>o.slot==="primary")||i.find(o=>o.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==o[l]&&(s=!0),c&&(r[l]=!0)}),s&&(this.childrenStyles.set(n,r),Dl(this))}render(){const e=re(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),I(Re,{key:"afac0f08f3981483c072984ce047df5dc9cc1e99",class:Object.assign(Object.assign({},n),kn(this.color,{[e]:!0,"in-toolbar":wn("ion-toolbar",this.el)}))},I("div",{key:"30d4f1d0ec01cc646398301b5f7d469391eb35d2",class:"toolbar-background"}),I("div",{key:"175d1f283e670b57a9bf8fd2a8c5e7d0da749aa8",class:"toolbar-container"},I("slot",{key:"4853b18092737b32b5995457536fa5a7fc2816ef",name:"start"}),I("slot",{key:"6eb4921200aad02d7977d134edad6cff2aad91ad",name:"secondary"}),I("div",{key:"024e0339c74c4b9a886d49e96723243719643dc2",class:"toolbar-content"},I("slot",{key:"b6452c84692fedd6efe33ac67907d01253b76f8f"})),I("slot",{key:"636e56eeaa318ce45a9c3854a30b8eb2819a33e0",name:"primary"}),I("slot",{key:"a45c19b93dca3719d75bd4d99acc49de87137a7d",name:"end"})))}get el(){return this}static get style(){return{ios:mj,md:vj}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function bj(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,yj);break}})}const _j=bj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wj=a9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xj=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, #666666)));-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:0.875rem;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",Ej=xj,Ij=":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, #737373)));-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:0.875rem;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}",kj=Ij,Tj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAriaAttributes={},this.color=void 0,this.button=!1,this.type="button",this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0}componentWillLoad(){this.inheritedAriaAttributes=da(this.el,["aria-label"])}isClickable(){return this.href!==void 0||this.button}renderCard(e){const n=this.isClickable();if(!n)return[I("slot",null)];const{href:i,routerAnimation:r,routerDirection:o,inheritedAriaAttributes:s}=this,a=n?i===void 0?"button":"a":"div",l=a==="button"?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return I(a,Object.assign({},l,s,{class:"card-native",part:"native",disabled:this.disabled,onClick:c=>dg(i,c,o,r)}),I("slot",null),n&&e==="md"&&I("ion-ripple-effect",null))}render(){const e=re(this);return I(Re,{key:"9e35c114ce466623024b94dd6797118ad027417d",class:kn(this.color,{[e]:!0,"card-disabled":this.disabled,"ion-activatable":this.isClickable()})},this.renderCard(e))}get el(){return this}static get style(){return{ios:Ej,md:kj}}},[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]),Sj=Tj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cj=':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}.close-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #3880ff);--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59);--close-icon-font-size:28px}:host(.ion-activated){--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transform:scale(1.1);--transition:0.2s transform ease-out}::slotted(ion-icon){font-size:28px}:host(.fab-button-in-list){--background:var(--ion-color-light, #f4f5f8);--background-activated:var(--ion-color-light-shade, #d7d8da);--background-focused:var(--background-activated);--background-hover:var(--ion-color-light-tint, #f5f6f9);--color:var(--ion-color-light-contrast, #000);--color-activated:var(--ion-color-light-contrast, #000);--color-focused:var(--color-activated);--transition:transform 200ms ease 10ms, opacity 200ms ease 10ms}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}:host(.ion-color.ion-focused) .button-native,:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after,:host(.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent){--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.9);--background-hover:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.8);--background-focused:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.82);--backdrop-filter:saturate(180%) blur(20px)}:host(.fab-button-translucent-in-list){--background:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.9);--background-hover:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.8);--background-focused:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.82)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){@media (any-hover: hover){:host(.fab-button-translucent.ion-color:hover) .button-native{background:rgba(var(--ion-color-base-rgb), 0.8)}}:host(.ion-color.fab-button-translucent) .button-native{background:rgba(var(--ion-color-base-rgb), 0.9)}:host(.ion-color.ion-focused.fab-button-translucent) .button-native,:host(.ion-color.ion-activated.fab-button-translucent) .button-native{background:var(--ion-color-base)}}',Aj=Cj,Rj=':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}.close-icon{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #3880ff);--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1), background-color 280ms cubic-bezier(0.4, 0, 0.2, 1), color 280ms cubic-bezier(0.4, 0, 0.2, 1), opacity 15ms linear 30ms, transform 270ms cubic-bezier(0, 0, 0.2, 1) 0ms;--close-icon-font-size:24px}:host(.ion-activated){--box-shadow:0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12)}::slotted(ion-icon){font-size:24px}:host(.fab-button-in-list){--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-activated:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-focused:var(--color-activated);--background:var(--ion-color-light, #f4f5f8);--background-activated:transparent;--background-focused:var(--ion-color-light-shade, #d7d8da);--background-hover:var(--ion-color-light-tint, #f5f6f9)}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native::after{background:transparent}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}}',Pj=Rj,Dj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=ee(this,"ionFocus",7),this.ionBlur=ee(this,"ionBlur",7),this.fab=null,this.inheritedAttributes={},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.onClick=()=>{const{fab:e}=this;e&&e.toggle()},this.color=void 0,this.activated=!1,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.target=void 0,this.show=!1,this.translucent=!1,this.type="button",this.size=void 0,this.closeIcon=KB}connectedCallback(){this.fab=this.el.closest("ion-fab")}componentWillLoad(){this.inheritedAttributes=ac(this.el)}render(){const{el:e,disabled:n,color:i,href:r,activated:o,show:s,translucent:a,size:l,inheritedAttributes:c}=this,u=wn("ion-fab-list",e),d=re(this),h=r===void 0?"button":"a",f=h==="button"?{type:this.type}:{download:this.download,href:r,rel:this.rel,target:this.target};return I(Re,{key:"78f11aaac39bf0fcb25b64885ee61619223e4241",onClick:this.onClick,"aria-disabled":n?"true":null,class:kn(i,{[d]:!0,"fab-button-in-list":u,"fab-button-translucent-in-list":u&&a,"fab-button-close-active":o,"fab-button-show":s,"fab-button-disabled":n,"fab-button-translucent":a,"ion-activatable":!0,"ion-focusable":!0,["fab-button-".concat(l)]:l!==void 0})},I(h,Object.assign({key:"a29b5eff122006d463ef3e10e1abe8378de07dc5"},f,{class:"button-native",part:"native",disabled:n,onFocus:this.onFocus,onBlur:this.onBlur,onClick:p=>dg(r,p,this.routerDirection,this.routerAnimation)},c),I("ion-icon",{key:"e554c978fd9825eec9ca958f5b481f662ed6daa4","aria-hidden":"true",icon:this.closeIcon,part:"close-icon",class:"close-icon",lazy:!1}),I("span",{key:"d7dd93e93343767d223800899f0fd4c405845023",class:"button-inner"},I("slot",{key:"dd5df0945385480e7551e24117d136cd6b231638"})),d==="md"&&I("ion-ripple-effect",null)))}get el(){return this}static get style(){return{ios:Aj,md:Pj}}},[33,"ion-fab-button",{color:[513],activated:[4],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1],show:[4],translucent:[4],type:[1],size:[1],closeIcon:[1,"close-icon"]}]),Oj=Dj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nj=h9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Lj=t=>{const e=oe(),n=oe(),i=oe();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Mj=t=>{const e=oe(),n=oe(),i=oe();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Vj=t=>{const e=oe(),n=oe(),i=oe();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},$j=t=>{const e=oe(),n=oe(),i=oe();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},Fj=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:0.875rem}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",Bj=Fj,zj=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:0.875rem}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",Uj=zj,jj=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.didPresent=ee(this,"ionLoadingDidPresent",7),this.willPresent=ee(this,"ionLoadingWillPresent",7),this.willDismiss=ee(this,"ionLoadingWillDismiss",7),this.didDismiss=ee(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=ee(this,"didPresent",7),this.willPresentShorthand=ee(this,"willPresent",7),this.willDismissShorthand=ee(this,"willDismiss",7),this.didDismissShorthand=ee(this,"didDismiss",7),this.delegateController=TD(this),this.lockController=hg(),this.triggerController=Uw(),this.customHTMLEnabled=_e.get("innerHTMLTemplatesEnabled",gD),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,od)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){$w(this.el),this.triggerChanged()}componentWillLoad(){if(this.spinner===void 0){const e=re(this);this.spinner=_e.get("loadingSpinner",_e.get("spinner",e==="ios"?"lines":"crescent"))}Fw(this.el)}componentDidLoad(){this.isOpen===!0&&Tt(()=>this.present()),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom(),await Bw(this,"loadingEnter",Lj,Vj),this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),e()}async dismiss(e,n){const i=await this.lockController.lock();this.durationTimeout&&clearTimeout(this.durationTimeout);const r=await zw(this,e,n,"loadingLeave",Mj,$j);return r&&this.delegateController.removeViewFromDom(),i(),r}onDidDismiss(){return Nl(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return Nl(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?I("div",{class:"loading-content",id:e,innerHTML:mD(i)}):I("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:n,htmlAttributes:i,overlayIndex:r}=this,o=re(this),s="loading-".concat(r,"-msg");return I(Re,Object.assign({key:"81295894ca6e047124918420f2483c092ebf91b9",role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?s:null,tabindex:"-1"},i,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},ug(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),I("ion-backdrop",{key:"db9fbd946cf3eb03c3a70f2e71c49ab233df1879",visible:this.showBackdrop,tappable:this.backdropDismiss}),I("div",{key:"d27b03de0b450c0668d4b4077d76bc5b283f03cf",tabindex:"0"}),I("div",{key:"7112719ddd487365c1e36fc4dec32aac888dbb52",class:"loading-wrapper ion-overlay-wrapper"},n&&I("div",{class:"loading-spinner"},I("ion-spinner",{name:n,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(s)),I("div",{key:"5715dd7dae209ae58e5557cb60f3ae514752b822",tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:Bj,md:Uj}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]);function Hj(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,jj);break;case"ion-backdrop":customElements.get(e)||Hw();break;case"ion-spinner":customElements.get(e)||iU();break}})}const Wj=Hj;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */function qj(t,e,n,i){let r;if(n==="md"?r=t==="top"?8:-8:r=t==="top"?10:-10,e&&Me){Gj(e,i);const o=e.getBoundingClientRect();return t==="top"?r+=o.bottom:t==="bottom"&&(r-=Me.innerHeight-o.top),{top:"".concat(r,"px"),bottom:"".concat(r,"px")}}else return{top:"calc(".concat(r,"px + var(--ion-safe-area-top, 0px))"),bottom:"calc(".concat(r,"px - var(--ion-safe-area-bottom, 0px))")}}function Gj(t,e){t.offsetParent===null&&rt("The positionAnchor element for ion-toast was found in the DOM, but appears to be hidden. This may lead to unexpected positioning of the toast.",e)}const Gw=(t,e)=>Math.floor(t/2-e/2),Kj=(t,e)=>{const n=oe(),i=oe(),{position:r,top:o,bottom:s}=e,l=ei(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(-100%)","translateY(".concat(o,")"));break;case"middle":const c=Gw(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY(".concat(s,")"));break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},Yj=(t,e)=>{const n=oe(),i=oe(),{position:r,top:o,bottom:s}=e,l=ei(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":i.fromTo("transform","translateY(".concat(o,")"),"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY(".concat(s,")"),"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},Qj=(t,e)=>{const n=oe(),i=oe(),{position:r,top:o,bottom:s}=e,l=ei(t).querySelector(".toast-wrapper");switch(i.addElement(l),r){case"top":l.style.setProperty("transform","translateY(".concat(o,")")),i.fromTo("opacity",.01,1);break;case"middle":const c=Gw(t.clientHeight,l.clientHeight);l.style.top="".concat(c,"px"),i.fromTo("opacity",.01,1);break;default:l.style.setProperty("transform","translateY(".concat(s,")")),i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},Xj=t=>{const e=oe(),n=oe(),r=ei(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},Jj=(t,e,n)=>{const i=ei(t).querySelector(".toast-wrapper"),r=t.clientHeight,o=i.getBoundingClientRect();let s=0;const a=.5,l=t.position==="middle"?.5:0,c=t.position==="top"?-1:1,u=Gw(r,o.height),d=[{offset:0,transform:"translateY(-".concat(u+o.height,"px)")},{offset:.5,transform:"translateY(0px)"},{offset:1,transform:"translateY(".concat(u+o.height,"px)")}],h=oe("toast-swipe-to-dismiss-animation").addElement(i).duration(100);switch(t.position){case"middle":s=r+o.height,h.keyframes(d),h.progressStart(!0,.5);break;case"top":s=o.bottom,h.keyframes([{offset:0,transform:"translateY(".concat(e.top,")")},{offset:1,transform:"translateY(-100%)"}]),h.progressStart(!0,0);break;case"bottom":default:s=r-o.top,h.keyframes([{offset:0,transform:"translateY(".concat(e.bottom,")")},{offset:1,transform:"translateY(100%)"}]),h.progressStart(!0,0);break}const f=v=>v*c/s,_=lg({el:i,gestureName:"toast-swipe-to-dismiss",gesturePriority:kD,direction:"y",onMove:v=>{const m=l+f(v.deltaY);h.progressStep(m)},onEnd:v=>{const m=v.velocityY,b=(v.deltaY+m*1e3)/s*c;_.enable(!1);let x=!0,C=1,E=0,w=0;if(t.position==="middle"){x=b>=a/2||b<=-a/2,C=1,E=0;const F=i.getBoundingClientRect(),P=F.top-u,D="".concat(P,"px"),W=v.deltaY<=0?-1:1,ue=(u+F.height)*W,ke=x?"".concat(ue,"px"):"0px",ae=[{offset:0,transform:"translateY(".concat(D,")")},{offset:1,transform:"translateY(".concat(ke,")")}];h.keyframes(ae),w=ue-P}else x=b>=a,C=x?1:0,E=f(v.deltaY),w=(x?1-E:E)*s;const k=Math.min(Math.abs(w)/Math.abs(m),200);h.onFinish(()=>{x?(n(),h.destroy()):(t.position==="middle"?h.keyframes(d).progressStart(!0,.5):h.progressStart(!0,0),_.enable(!0))},{oneTimeCallback:!0}).progressEnd(C,E,k)}});return _},Zj=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--max-height:478px;--start:10px;--end:10px;font-size:clamp(14px, 0.875rem, 43.4px)}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-middle{opacity:0.01}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;min-height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:clamp(17px, 1.0625rem, 21.998px);font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",e8=Zj,t8=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-content{min-width:0}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:0.875rem}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:1.25rem}.toast-message{line-height:1.25rem}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:0.875rem;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",n8=t8,i8=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ee(this,"ionToastDidPresent",7),this.willPresent=ee(this,"ionToastWillPresent",7),this.willDismiss=ee(this,"ionToastWillDismiss",7),this.didDismiss=ee(this,"ionToastDidDismiss",7),this.didPresentShorthand=ee(this,"didPresent",7),this.willPresentShorthand=ee(this,"willPresent",7),this.willDismissShorthand=ee(this,"willDismiss",7),this.didDismissShorthand=ee(this,"didDismiss",7),this.delegateController=TD(this),this.lockController=hg(),this.triggerController=Uw(),this.customHTMLEnabled=_e.get("innerHTMLTemplatesEnabled",gD),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(e0(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.createSwipeGesture=e=>{(this.gesture=Jj(this.el,e,()=>{this.dismiss(void 0,hl)})).enable(!0)},this.destroySwipeGesture=()=>{const{gesture:e}=this;e!==void 0&&(e.destroy(),this.gesture=void 0)},this.prefersSwipeGesture=()=>{const{swipeGesture:e}=this;return e==="vertical"},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=_e.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.positionAnchor=void 0,this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.swipeGesture=void 0,this.isOpen=!1,this.trigger=void 0}swipeGestureChanged(){this.destroySwipeGesture(),this.presented&&this.prefersSwipeGesture()&&this.createSwipeGesture(this.lastPresentedPosition)}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){$w(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){Fw(this.el)}componentDidLoad(){this.isOpen===!0&&Tt(()=>this.present()),this.triggerChanged()}async present(){const e=await this.lockController.lock();await this.delegateController.attachViewToDom();const{el:n,position:i}=this,r=this.getAnchorElement(),o=qj(i,r,re(this),n);this.lastPresentedPosition=o,await Bw(this,"toastEnter",Kj,Qj,{position:i,top:o.top,bottom:o.bottom}),this.revealContentToScreenReader=!0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration)),this.prefersSwipeGesture()&&this.createSwipeGesture(o),e()}async dismiss(e,n){var i,r;const o=await this.lockController.lock(),{durationTimeout:s,position:a,lastPresentedPosition:l}=this;s&&clearTimeout(s);const c=await zw(this,e,n,"toastLeave",Yj,Xj,{position:a,top:(i=l==null?void 0:l.top)!==null&&i!==void 0?i:"",bottom:(r=l==null?void 0:l.bottom)!==null&&r!==void 0?r:""});return c&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),this.lastPresentedPosition=void 0,this.destroySwipeGesture(),o(),c}onDidDismiss(){return Nl(this.el,"ionToastDidDismiss")}onWillDismiss(){return Nl(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}getAnchorElement(){const{position:e,positionAnchor:n,el:i}=this;if(n!==void 0){if(e==="middle"&&n!==void 0){rt('The positionAnchor property is ignored when using position="middle".',this.el);return}if(typeof n=="string"){const r=document.getElementById(n);if(r===null){rt('An anchor element with an ID of "'.concat(n,'" was not found in the DOM.'),i);return}return r}if(n instanceof Te)return n;rt("Invalid positionAnchor value:",n,i)}}async buttonClick(e){const n=e.role;return e0(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await GB(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=re(this),r={"toast-button-group":!0,["toast-button-group-".concat(n)]:!0};return I("div",{class:r},e.map(o=>I("button",Object.assign({},o.htmlAttributes,{type:"button",class:r8(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:o8(o)}),I("div",{class:"toast-button-inner"},o.icon&&I("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),i==="md"&&I("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:r}=this;return i?I("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:mD(r)}):I("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},r)}renderHeader(e,n=null){return I("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:r,message:o}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=re(this),u={"toast-wrapper":!0,["toast-".concat(this.position)]:!0,["toast-layout-".concat(e)]:!0};return e==="stacked"&&a.length>0&&l.length>0&&rt("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),I(Re,Object.assign({key:"15a5c3e8d475435c838b70c55ef2e7cc12d6abfb",tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:kn(this.color,Object.assign(Object.assign({[c]:!0},ug(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),I("div",{key:"a6ed7fb75ab098dc632d1a546b4d5298675c14c1",class:u},I("div",{key:"68ff7219e9abae0b7c2030369ebffd2fe0edf7de",class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&I("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),I("div",{key:"6b45ca5e283d3507c682cbe733e27a94460a7f69",class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&r!==void 0&&this.renderHeader("oldHeader","true"),!i&&o!==void 0&&this.renderToastMessage("oldMessage","true"),i&&r!==void 0&&this.renderHeader("header"),i&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:e8,md:n8}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],positionAnchor:[1,"position-anchor"],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],swipeGesture:[1,"swipe-gesture"],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{swipeGesture:["swipeGestureChanged"],isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),r8=t=>Object.assign({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,["toast-button-".concat(t.role)]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0},ug(t.cssClass)),o8=t=>e0(t.role)?"button cancel":"button";function s8(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,i8);break;case"ion-icon":customElements.get(e)||jw();break;case"ion-ripple-effect":customElements.get(e)||Ww();break}})}const a8=s8;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rp="ionKeyboardDidShow",VD="ionKeyboardDidHide",l8=150;let Pp={},_r={},lc=!1;const c8=()=>{Pp={},_r={},lc=!1},u8=t=>{if(OD.getEngine())d8(t);else{if(!t.visualViewport)return;_r=Xw(t.visualViewport),t.visualViewport.onresize=()=>{BD(t),$D()||FD(t)?Kw(t):Qw(t)&&Yw(t)}}},d8=t=>{t.addEventListener("keyboardDidShow",e=>Kw(t,e)),t.addEventListener("keyboardDidHide",()=>Yw(t))},Kw=(t,e)=>{h8(t,e),lc=!0},Yw=t=>{f8(t),lc=!1},$D=()=>{const t=(Pp.height-_r.height)*_r.scale;return!lc&&Pp.width===_r.width&&t>l8},FD=t=>lc&&!Qw(t),Qw=t=>lc&&_r.height===t.innerHeight,h8=(t,e)=>{const n=e?e.keyboardHeight:t.innerHeight-_r.height,i=new CustomEvent(Rp,{detail:{keyboardHeight:n}});t.dispatchEvent(i)},f8=t=>{const e=new CustomEvent(VD);t.dispatchEvent(e)},BD=t=>{Pp=Object.assign({},_r),_r=Xw(t.visualViewport)},Xw=t=>({width:Math.round(t.width),height:Math.round(t.height),offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,pageTop:t.pageTop,pageLeft:t.pageLeft,scale:t.scale}),p8=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:VD,KEYBOARD_DID_OPEN:Rp,copyVisualViewport:Xw,keyboardDidClose:Qw,keyboardDidOpen:$D,keyboardDidResize:FD,resetKeyboardAssist:c8,setKeyboardClose:Yw,setKeyboardOpen:Kw,startKeyboardAssist:u8,trackViewportChanges:BD},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ll;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Ll||(Ll={}));const sd={getEngine(){const t=t0();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},supportsDefaultStatusBarStyle(){const t=t0();return!!(t!=null&&t.PluginHeaders)},setStyle(t){const e=this.getEngine();e&&e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t)return Ll.Default;const{style:e}=await t.getInfo();return e}},l0=(t,e)=>{if(e===1)return 0;const n=1/(1-e),i=-(e*n);return t*n+i},zD=()=>{!Me||Me.innerWidth>=768||!sd.supportsDefaultStatusBarStyle()||sd.setStyle({style:Ll.Dark})},c0=(t=Ll.Default)=>{!Me||Me.innerWidth>=768||!sd.supportsDefaultStatusBarStyle()||sd.setStyle({style:t})},UD=async(t,e)=>{typeof t.canDismiss!="function"||!await t.canDismiss(void 0,hl)||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))},u0=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,Dp={MIN_PRESENTING_SCALE:.93},m8=(t,e,n,i)=>{const o=t.offsetHeight;let s=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const f=()=>l&&Hs(l)?l.scrollY:!0,m=lg({el:t,gestureName:"modalSwipeToClose",gesturePriority:kD,direction:"y",threshold:10,canStart:b=>{const x=b.event.target;return x===null||!x.closest?!0:(l=k9(x),l?(Hs(l)?c=ei(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):x.closest("ion-footer")===null)},onStart:b=>{const{deltaY:x}=b;d=f(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,x>0&&l&&W1(l),e.progressStart(!0,s?1:0)},onMove:b=>{const{deltaY:x}=b;x>0&&l&&W1(l);const C=b.deltaY/o,E=C>=0&&a,w=E?u:.9999,k=E?u0(C/w):C,F=zs(1e-4,k,w);e.progressStep(F),F>=.5&&h<.5?c0(n):F<.5&&h>=.5&&zD(),h=F},onEnd:b=>{const x=b.velocityY,C=b.deltaY/o,E=C>=0&&a,w=E?u:.9999,k=E?u0(C/w):C,F=zs(1e-4,k,w),P=(b.deltaY+x*1e3)/o,D=!E&&P>=.5;let W=D?-.001:.001;D?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),W+=Us([0,0],[.32,.72],[0,1],[1,1],F)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),W+=Us([0,0],[1,0],[.68,.28],[1,1],F)[0]);const ue=sT(D?C*o:(1-F)*o,x);s=D,m.enable(!1),l&&T9(l,d),e.onFinish(()=>{D||m.enable(!0)}).progressEnd(D?1:0,W,ue),E&&F>w/4?UD(t,e):D&&i()}});return m},sT=(t,e)=>zs(400,t/Math.abs(e*1.1),500),jD=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i=n===void 0||n<e,r=i?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",o=oe("backdropAnimation").fromTo("opacity",0,r);return i&&o.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:oe("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),backdropAnimation:o}},HD=t=>{const{currentBreakpoint:e,backdropBreakpoint:n}=t,i="calc(var(--backdrop-opacity) * ".concat(l0(e,n),")"),r=[{offset:0,opacity:i},{offset:1,opacity:0}],o=[{offset:0,opacity:i},{offset:n,opacity:0},{offset:1,opacity:0}],s=oe("backdropAnimation").keyframes(n!==0?o:r);return{wrapperAnimation:oe("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},g8=()=>{const t=oe().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=oe().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e}},aT=(t,e)=>{const{presentingEl:n,currentBreakpoint:i}=e,r=ei(t),{wrapperAnimation:o,backdropAnimation:s}=i!==void 0?jD(e):g8();s.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=oe("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(o);if(n){const l=window.innerWidth<768,c=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,u=ei(n),d=oe().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),h=document.body;if(l){const f=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",p=c?"-10px":f,g=Dp.MIN_PRESENTING_SCALE,_="translateY(".concat(p,") scale(").concat(g,")");d.afterStyles({transform:_}).beforeAddWrite(()=>h.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:_,borderRadius:"10px 10px 0 0"}]),a.addAnimation(d)}else if(a.addAnimation(s),!c)o.fromTo("opacity","0","1");else{const f=c?Dp.MIN_PRESENTING_SCALE:1,p="translateY(-10px) scale(".concat(f,")");d.afterStyles({transform:p}).addElement(u.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:p}]);const g=oe().afterStyles({transform:p}).addElement(u.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:p}]);a.addAnimation([d,g])}}else a.addAnimation(s);return a},v8=()=>{const t=oe().fromTo("opacity","var(--backdrop-opacity)",0),e=oe().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},lT=(t,e,n=500)=>{const{presentingEl:i,currentBreakpoint:r}=e,o=ei(t),{wrapperAnimation:s,backdropAnimation:a}=r!==void 0?HD(e):v8();a.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=oe("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(s);if(i){const c=window.innerWidth<768,u=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,d=ei(i),h=oe().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(p=>{if(p!==1)return;i.style.setProperty("overflow",""),Array.from(f.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(_=>_.presentingElement!==void 0).length<=1&&f.style.setProperty("background-color","")}),f=document.body;if(c){const p=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",g=u?"-10px":p,_=Dp.MIN_PRESENTING_SCALE,v="translateY(".concat(g,") scale(").concat(_,")");h.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(h)}else if(l.addAnimation(a),!u)s.fromTo("opacity","1","0");else{const p=u?Dp.MIN_PRESENTING_SCALE:1,g="translateY(-10px) scale(".concat(p,")");h.addElement(d.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:g},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const _=oe().addElement(d.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:g},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([h,_])}}else l.addAnimation(a);return l},y8=()=>{const t=oe().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=oe().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},b8=(t,e)=>{const{currentBreakpoint:n}=e,i=ei(t),{wrapperAnimation:r,backdropAnimation:o}=n!==void 0?jD(e):y8();return o.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),oe().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([o,r])},_8=()=>{const t=oe().fromTo("opacity","var(--backdrop-opacity)",0),e=oe().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},w8=(t,e)=>{const{currentBreakpoint:n}=e,i=ei(t),{wrapperAnimation:r,backdropAnimation:o}=n!==void 0?HD(e):_8();return o.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),oe().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([o,r])},x8=(t,e,n,i,r,o,s=[],a,l,c)=>{const u=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}],h={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:r!==0?d:u},f=t.querySelector("ion-content"),p=n.clientHeight;let g=i,_=0,v=!1;const m=.95,b=o.childAnimations.find(ae=>ae.id==="wrapperAnimation"),x=o.childAnimations.find(ae=>ae.id==="backdropAnimation"),C=s[s.length-1],E=s[0],w=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove("ion-disable-focus-trap")},k=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add("ion-disable-focus-trap")};b&&x&&(b.keyframes([...h.WRAPPER_KEYFRAMES]),x.keyframes([...h.BACKDROP_KEYFRAMES]),o.progressStart(!0,1-g),g>r?w():k()),f&&g!==C&&(f.scrollY=!1);const F=ae=>{const Le=ae.event.target.closest("ion-content");return g=a(),!(g===1&&Le)},P=()=>{v=t.canDismiss!==void 0&&t.canDismiss!==!0&&E===0,f&&(f.scrollY=!1),Tt(()=>{t.focus()}),o.progressStart(!0,1-g)},D=ae=>{const Le=1-g,ve=s.length>1?1-s[1]:void 0,R=Le+ae.deltaY/p,V=ve!==void 0&&R>=ve&&v,N=V?m:.9999,H=V&&ve!==void 0?ve+u0((R-ve)/(N-ve)):R;_=zs(1e-4,H,N),o.progressStep(_)},W=ae=>{const Le=ae.velocityY,ve=(ae.deltaY+Le*350)/p,R=g-ve,V=s.reduce((N,H)=>Math.abs(H-R)<Math.abs(N-R)?H:N);ue({breakpoint:V,breakpointOffset:_,canDismiss:v,animated:!0})},ue=ae=>{const{breakpoint:Le,canDismiss:ve,breakpointOffset:R,animated:V}=ae,N=ve&&Le===0,H=N?g:Le,X=H!==0;return g=0,b&&x&&(b.keyframes([{offset:0,transform:"translateY(".concat(R*100,"%)")},{offset:1,transform:"translateY(".concat((1-H)*100,"%)")}]),x.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(l0(1-R,r),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(l0(H,r),")")}]),o.progressStep(0)),ke.enable(!1),N?UD(t,o):X||l(),new Promise(pe=>{o.onFinish(()=>{X?b&&x?Tt(()=>{b.keyframes([...h.WRAPPER_KEYFRAMES]),x.keyframes([...h.BACKDROP_KEYFRAMES]),o.progressStart(!0,1-H),g=H,c(g),f&&g===s[s.length-1]&&(f.scrollY=!0),g>r?w():k(),ke.enable(!0),pe()}):(ke.enable(!0),pe()):pe()},{oneTimeCallback:!0}).progressEnd(1,0,V?500:0)})},ke=lg({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:F,onStart:P,onMove:D,onEnd:W});return{gesture:ke,moveSheetToBreakpoint:ue}},E8=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-card:dir(rtl)) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-sheet:dir(rtl)) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}',I8=E8,k8=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',T8=k8,S8=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=ee(this,"ionModalDidPresent",7),this.willPresent=ee(this,"ionModalWillPresent",7),this.willDismiss=ee(this,"ionModalWillDismiss",7),this.didDismiss=ee(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=ee(this,"ionBreakpointDidChange",7),this.didPresentShorthand=ee(this,"didPresent",7),this.willPresentShorthand=ee(this,"willPresent",7),this.willDismissShorthand=ee(this,"willDismiss",7),this.didDismissShorthand=ee(this,"didDismiss",7),this.ionMount=ee(this,"ionMount",7),this.lockController=hg(),this.triggerController=Uw(),this.coreDelegate=wD(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,od)},this.onLifecycle=e=>{const n=this.usersElement,i=C8[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,i)=>n-i))}connectedCallback(){const{el:e}=this;$w(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){const{breakpoints:e,initialBreakpoint:n,el:i}=this,r=this.isSheetModal=e!==void 0&&n!==void 0;this.inheritedAttributes=da(i,["aria-label","role"]),r&&(this.currentBreakpoint=this.initialBreakpoint),e!==void 0&&n!==void 0&&!e.includes(n)&&rt("Your breakpoints array must include the initialBreakpoint value."),Fw(i)}componentDidLoad(){this.isOpen===!0&&Tt(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async checkCanDismiss(e,n){const{canDismiss:i}=this;return typeof i=="function"?i(e,n):i}async present(){const e=await this.lockController.lock();if(this.presented){e();return}const{presentingElement:n,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:r,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=await Vw(o,i,this.component,["ion-page"],this.componentProps,r),Ip(i)?await kp(this.usersElement):this.keepContentsMounted||await q3(),ir(()=>this.el.classList.add("show-modal"));const s=n!==void 0;s&&re(this)==="ios"&&(this.statusBarStyle=await sd.getStyle(),zD()),await Bw(this,"modalEnter",aT,b8,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Tt(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(Rp,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),e()}initSwipeToClose(){var e;if(re(this)!=="ios")return;const{el:n}=this,i=this.leaveAnimation||_e.get("modalLeave",lT),r=this.animation=i(n,{presentingEl:this.presentingElement});if(!n0(n)){i0(n);return}const s=(e=this.statusBarStyle)!==null&&e!==void 0?e:Ll.Default;this.gesture=m8(n,r,s,()=>{this.gestureAnimationDismissing=!0,c0(this.statusBarStyle),this.animation.onFinish(async()=>{await this.dismiss(void 0,hl),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:i}=this;if(!e||n===void 0)return;const r=this.enterAnimation||_e.get("modalEnter",aT),o=this.animation=r(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:i});o.progressStart(!0,1);const{gesture:s,moveSheetToBreakpoint:a}=x8(this.el,this.backdropEl,e,n,i,o,this.sortedBreakpoints,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=s,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,hl),this.gestureAnimationDismissing=!1})}async dismiss(e,n){var i;if(this.gestureAnimationDismissing&&n!==hl)return!1;const r=await this.lockController.lock();if(n!=="handler"&&!await this.checkCanDismiss(e,n))return r(),!1;const{presentingElement:o}=this;o!==void 0&&re(this)==="ios"&&c0(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(Rp,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);const a=Tp.get(this)||[],l=await zw(this,e,n,"modalLeave",lT,w8,{presentingEl:o,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(l){const{delegate:c}=this.getDelegate();await _D(c,this.usersElement),ir(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),a.forEach(u=>u.destroy())}return this.currentBreakpoint=void 0,this.animation=void 0,r(),l}onDidDismiss(){return Nl(this.el,"ionModalDidDismiss")}onWillDismiss(){return Nl(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){rt("setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){rt("Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:n,moveSheetToBreakpoint:i,canDismiss:r,breakpoints:o,animated:s}=this;n!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-n,canDismiss:r!==void 0&&r!==!0&&o[0]===0,animated:s}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;const i=e.filter(a=>a!==0),o=(i.indexOf(n)+1)%i.length,s=i[o];return await this.setCurrentBreakpoint(s),!0}render(){const{handle:e,isSheetModal:n,presentingElement:i,htmlAttributes:r,handleBehavior:o,inheritedAttributes:s}=this,a=e!==!1&&n,l=re(this),c=i!==void 0&&l==="ios",u=o==="cycle";return I(Re,Object.assign({key:"8c163f4f59429227cab3a1cafb5612994939a629","no-router":!0,tabindex:"-1"},r,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[l]:!0,"modal-default":!c&&!n,"modal-card":c,"modal-sheet":n,"overlay-hidden":!0},ug(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),I("ion-backdrop",{key:"6908bdf9462d940eff6607b626a499eedc66dc9c",ref:d=>this.backdropEl=d,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),l==="ios"&&I("div",{class:"modal-shadow"}),I("div",Object.assign({key:"ac224394e19b9e8c7dd902f2836fa25787663455",role:"dialog"},s,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:d=>this.wrapperEl=d}),a&&I("button",{class:"modal-handle",tabIndex:u?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:u?this.onHandleClick:void 0,part:"handle"}),I("slot",{key:"9c3c5ec797b6415110a3275c6ff33277291a6e21"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:I8,md:T8}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),C8={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function A8(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,S8);break;case"ion-backdrop":customElements.get(e)||Hw();break}})}const R8=A8,P8="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",D8=P8,O8=Pe(class extends Te{constructor(){super(),this.__registerHost()}componentDidLoad(){L8(async()=>{const e=lo(window,"hybrid");if(_e.getBoolean("_testing")||ki(()=>import("./index9-bI8zerjk.js"),__vite__mapDeps([])).then(r=>r.startTapClick(_e)),_e.getBoolean("statusTap",e)&&ki(()=>import("./status-tap-IYehDuHZ.js"),__vite__mapDeps([])).then(r=>r.startStatusTap()),_e.getBoolean("inputShims",N8())){const r=lo(window,"ios")?"ios":"android";ki(()=>import("./input-shims-NKXpnVOj.js"),__vite__mapDeps([])).then(o=>o.startInputShims(_e,r))}const n=await ki(()=>Promise.resolve().then(()=>DB),void 0),i=e||Ol();_e.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(Ol()&&rt("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&ki(()=>Promise.resolve().then(()=>p8),void 0).then(r=>r.startKeyboardAssist(window)),ki(()=>import("./focus-visible-Pz59kC95.js"),__vite__mapDeps([])).then(r=>this.focusVisible=r.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=re(this);return I(Re,{key:"3535eb5c0dab78a78011e552524a98599b2b650f",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":_e.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return D8}},[0,"ion-app",{setFocus:[64]}]),N8=()=>!!(lo(window,"ios")&&lo(window,"mobile")||lo(window,"android")&&lo(window,"mobileweb")),L8=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function M8(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,O8);break}})}const V8=M8,$8=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",F8=$8,B8=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=ee(this,"ionNavWillLoad",7),this.ionNavWillChange=ee(this,"ionNavWillChange",3),this.ionNavDidChange=ee(this,"ionNavDidChange",3),this.lockController=hg(),this.gestureOrAnimationInProgress=!1,this.mode=re(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await ki(()=>import("./swipe-back-UiqrZa3V.js"),__vite__mapDeps([]))).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=Us([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=Us([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,o,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lockController.lock();let o=!1;try{o=await this.transition(e,n,i)}catch(s){console.error(s)}return r(),o}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&eD(n,this.activeParams))return!1;const r=this.activeEl,o=await Vw(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,r,i),await _D(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:o}=this,s=this.animated&&_e.getBoolean("animated",!0),a=i.animationBuilder||this.animation||_e.get("navAnimation");return await iD(Object.assign(Object.assign({mode:o,animated:s,enteringEl:e,leavingEl:n,baseEl:r,deepWait:Ip(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return I("slot",{key:"69b452a0dc0c10440bdd8700cf4843c43154c707"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return F8}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function z8(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,B8);break}})}const U8=z8;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const j8=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",H8=j8,W8=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",q8=W8,G8=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=ee(this,"ionTabBarChanged",7),this.ionTabBarLoaded=ee(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await S9(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=re(this),o=i&&this.el.getAttribute("slot")!=="top";return I(Re,{key:"e2b4b50270f171ed251359df6c65c5e7e4d526a4",role:"tablist","aria-hidden":o?"true":null,class:kn(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},I("slot",{key:"37495b2eddd01a758ceaeb36426abc9bd20bcca3"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:H8,md:q8}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function K8(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,G8);break}})}const Y8=K8;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Q8=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',X8=Q8,J8=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',Z8=J8,e7=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=ee(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},da(this.el,["aria-label"])),this.layout===void 0&&(this.layout=_e.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:o,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=re(this),h={download:this.download,href:r,rel:o,target:s};return I(Re,{key:"9926f9392e7910ff3159397e4f907e0d7d2cf5a0",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},I("a",Object.assign({key:"4b3ace749583a5502e94462f9a70c5158fe0194a"},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),I("span",{key:"a2a30c02fbd5052da12586a5ab00a45f3bf53b88",class:"button-inner"},I("slot",{key:"3fb22ffbb09000d99537b531220c029330ae6940"})),d==="md"&&I("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:X8,md:Z8}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function t7(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,e7);break;case"ion-ripple-effect":customElements.get(e)||Ww();break}})}const n7=t7;let gy;const i7=()=>{if(typeof window>"u")return new Map;if(!gy){const t=window;t.Ionicons=t.Ionicons||{},gy=t.Ionicons.map=t.Ionicons.map||new Map}return gy},r7=t=>{let e=vy(t.src);return e||(e=WD(t.name,t.icon,t.mode,t.ios,t.md),e?o7(e,t):t.icon&&(e=vy(t.icon),e||(e=vy(t.icon[t.mode]),e))?e:null)},o7=(t,e)=>{const n=i7().get(t);if(n)return n;try{return $P("svg/".concat(t,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(t,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),e)}},WD=(t,e,n,i,r)=>(n=(n&&cf(n))==="ios"?"ios":"md",i&&n==="ios"?t=cf(i):r&&n==="md"?t=cf(r):(!t&&e&&!qD(e)&&(t=e),Op(t)&&(t=cf(t))),!Op(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),vy=t=>Op(t)&&(t=t.trim(),qD(t))?t:null,qD=t=>t.length>0&&/(\/|\.)/.test(t),Op=t=>typeof t=="string",cf=t=>t.toLowerCase(),s7=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},a7=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",l7=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),GD(n))return e.innerHTML}return""},GD=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Op(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!GD(t.childNodes[e]))return!1}return!0},c7=t=>t.startsWith("data:image/svg+xml"),u7=t=>t.indexOf(";utf8,")!==-1,_s=new Map,cT=new Map;let yy;const d7=(t,e)=>{let n=cT.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(c7(t)&&u7(t)){yy||(yy=new DOMParser);const r=yy.parseFromString(t,"text/html").querySelector("svg");return r&&_s.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=l7(r)),_s.set(t,r||"")});_s.set(t,"")}),cT.set(t,n);else return _s.set(t,""),Promise.resolve();return n},h7=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",f7=Pe(class extends Te{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=p7(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=s7(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=r7(this);e&&(_s.has(e)?this.svgContent=_s.get(e):d7(e,this.sanitize).then(()=>this.svgContent=_s.get(e)),this.didLoadIcon=!0)}this.iconName=WD(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:i,el:r}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return I(Re,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},m7(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":a,"icon-rtl":a&&a7(r)})},i),this.svgContent?I("div",{class:"icon-inner",innerHTML:this.svgContent}):I("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return h7}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),p7=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",m7=t=>t?{"ion-color":!0,["ion-color-".concat(t)]:!0}:null;function g7(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,f7);break}})}const v7=g7,Jw=O.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),y7=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(i=>i.id===t.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),e=e.filter(i=>i.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Fr=O.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),Zw=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),fg=t=>t.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),ex=(t,e,n={})=>{if(t instanceof Element){const i=b7(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const o=r.substring(2),s=o[0].toLowerCase()+o.substring(1);oh(s)||w7(t,s,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(fg(r),e[r])})}},b7=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,o=by(t),s=by(i?i.split(" "):[]),a=by(r?r.split(" "):[]),l=[];return o.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},_7=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const oh=t=>{if(typeof document>"u")return!0;{const e="on"+_7(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},w7=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(s){n&&n.call(this,s)})},by=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},x7=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},pg=(...t)=>e=>{t.forEach(n=>{x7(n,e)})},E7=(t,e)=>{const n=(i,r)=>O.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,O.forwardRef(n)},I7=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},ut=(t,e,n,i)=>{i!==void 0&&i();const r=Zw(t),o=class extends O.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){ex(this.componentEl,this.props,s)}render(){const s=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=s,h=Ct(s,["children","forwardedRef","style","className","ref"]);let f=Object.keys(h).reduce((g,_)=>{const v=h[_];if(_.indexOf("on")===0&&_[2]===_[2].toUpperCase()){const m=_.substring(2).toLowerCase();typeof document<"u"&&oh(m)&&(g[_]=v)}else{const m=typeof v;(m==="string"||m==="boolean"||m==="number")&&(g[fg(_)]=v)}return g},{});n&&(f=n(this.props,f));const p=Object.assign(Object.assign({},f),{ref:pg(l,this.setComponentElRef),style:c});return q.createElement(t,p,a)}static get displayName(){return r}};return e&&(o.contextType=e),E7(o,r)},ou=ut("ion-buttons",void 0,void 0,xz),mg=ut("ion-card-content",void 0,void 0,Az),ad=ut("ion-col",void 0,void 0,Gz),wr=ut("ion-content",void 0,void 0,n9),_y=ut("ion-fab",void 0,void 0,E9),gg=ut("ion-grid",void 0,void 0,D9),xr=ut("ion-header",void 0,void 0,H9),k7=ut("ion-img",void 0,void 0,Q9),Y=ut("ion-input",void 0,void 0,mU),de=ut("ion-label",void 0,void 0,gU),T7=ut("ion-menu",void 0,void 0,CU),KD=ut("ion-menu-button",void 0,void 0,MU),uT=ut("ion-row",void 0,void 0,GU),S7=ut("ion-split-pane",void 0,void 0,tj),YD=ut("ion-text",void 0,void 0,sj),Ki=ut("ion-title",void 0,void 0,fj),Er=ut("ion-toolbar",void 0,void 0,_j),ha=(t,e)=>{const n=(i,r)=>O.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,O.forwardRef(n)},tx=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},vg=(t,e)=>{I7(t,e);const n=Zw(t),i=class extends O.Component{constructor(r){super(r),this.handleClick=o=>{const{routerLink:s,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;s!==void 0&&(o.preventDefault(),this.context.navigate(s,a,void 0,c,l))},this.ref=O.createRef(),this.stableMergedRefs=pg(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const o=this.ref.current;ex(o,this.props,r)}render(){const r=this.props,{children:o,forwardedRef:s,style:a,className:l,ref:c}=r,u=Ct(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((f,p)=>{if(p.indexOf("on")===0&&p[2]===p[2].toUpperCase()){const g=p.substring(2).toLowerCase();oh(g)&&(f[p]=u[p])}else["string","boolean","number"].includes(typeof u[p])&&(f[fg(p)]=u[p]);return f},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const f=h.onClick;h.onClick=p=>{f(p),p.defaultPrevented||this.handleClick(p)}}else h.onClick=this.handleClick;return q.createElement(t,h,o)}static get displayName(){return n}static get contextType(){return Fr}};return ha(i,n)},yn=vg("ion-button",wj),wo=vg("ion-card",Sj),wy=vg("ion-fab-button",Oj),le=vg("ion-item",Nj),C7=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);oh(r)||A7(t,r)}})},A7=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},nx=(t,e,n)=>{e&&e();const i=Zw(t),r=class extends O.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=O.createRef(),this.stableMergedRefs=pg(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=O.createRef()}componentDidMount(){var o,s,a;this.componentDidUpdate(this.props),(o=this.ref.current)===null||o===void 0||o.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)===null||s===void 0||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const s=this.ref.current,a=this.props,l=Ct(a,["onDidDismiss","onWillPresent"]);ex(s,l,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),C7(o,this.props))}render(){const o=this.props,{children:s,forwardedRef:a,style:l,className:c,ref:u}=o,d=Ct(o,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((g,_)=>{if(_.indexOf("on")===0&&_[2]===_[2].toUpperCase()){const v=_.substring(2).toLowerCase();oh(v)&&(g[_]=d[_])}else["string","boolean","number"].includes(typeof d[_])&&(g[fg(_)]=d[_]);return g},{}),f=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),p=()=>n?"".concat(dT," ion-page"):dT;return q.createElement("template",{},q.createElement(t,f,this.state.isOpen||this.props.keepContentsMounted?q.createElement("div",{ref:this.wrapperRef,className:p()},s):null))}static get displayName(){return i}};return ha(r,i)},dT="ion-delegate-host",ix=nx("ion-loading",Wj),Np=nx("ion-toast",a8),hT=nx("ion-modal",R8,!0),R7=O.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),P7=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=q.useState({}),r=q.useRef({});q.useEffect(()=>{t(o),e(s)},[]);const o=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},r.current=d,i(d)},s=l=>{const c=Object.assign({},r.current);delete c[l],r.current=c,i(c)},a=Object.keys(n);return O.createElement(O.Fragment,null,a.map(l=>{const c=n[l];return vF.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},D7=ut("ion-tab-button",void 0,void 0,n7),O7=ut("ion-tab-bar",void 0,void 0,Y8),d0=ut("ion-router-outlet",void 0,void 0,U8),N7=ut("ion-app",void 0,void 0,V8),L7=ut("ion-icon",void 0,void 0,v7),M7=class extends O.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return O.createElement(R7.Provider,{value:this.ionContext},O.createElement(N7,Object.assign({},this.props),this.props.children),O.createElement(P7,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}},rx=O.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class QD extends O.PureComponent{constructor(e){super(e),this.ionPageElementRef=O.createRef(),this.stableMergedRefs=pg(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:i,routeInfo:r,forwardedRef:o}=e,s=Ct(e,["className","children","routeInfo","forwardedRef"]);return O.createElement(Jw.Consumer,null,a=>(this.ionLifeCycleContext=a,O.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},s),i)))}static get contextType(){return rx}}class V7 extends O.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:i,forwardedRef:r}=e,o=Ct(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?O.createElement(QD,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:r},o),i):O.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:r},o),i)}static get displayName(){return"IonPage"}static get contextType(){return Fr}}const fa=ha(V7,"IonPage"),fT={main:0},ld=(t="main")=>{var e;const n=((e=fT[t])!==null&&e!==void 0?e:0)+1;return fT[t]=n,n.toString()},$7=(t,e)=>{const n=new WeakMap,i="react-delegate-".concat(ld());let r=0;return{attachViewToDom:async(a,l,c,u)=>{const d=document.createElement("div");u&&d.classList.add(...u),a.appendChild(d);const h=l(c),f="".concat(i,"-").concat(r++),p=mw.createPortal(h,d,f);return n.set(d,p),t(p),Promise.resolve(d)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},F7=ut("ion-nav",void 0,void 0,UU),B7=t=>{var{children:e,forwardedRef:n}=t,i=Ct(t,["children","forwardedRef"]);const[r,o]=q.useState([]),s=c=>o(u=>[...u,c]),a=c=>o(u=>u.filter(d=>d!==c)),l=q.useMemo(()=>$7(s,a),[]);return O.createElement(F7,Object.assign({delegate:l,ref:n},i),r)};ha(B7,"IonNav");O.createContext({activeTab:void 0,selectTab:()=>!1});const z7=typeof HTMLElement<"u"?HTMLElement:class{};class U7 extends O.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ao(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:i,routeInfo:r}=e,o=Ct(e,["StackManager","children","routeInfo"]);return O.createElement(Jw.Consumer,null,s=>(this.ionLifeCycleContext=s,O.createElement(n,{routeInfo:r},O.createElement(d0,Object.assign({setRef:a=>this.ionRouterOutlet=a},o),i))))}static get contextType(){return rx}}class j7 extends O.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:r}=n,o=Ct(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?O.createElement(U7,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},o),i):O.createElement(e,{routeInfo:this.context.routeInfo},O.createElement(d0,Object.assign({},o,{forwardedRef:r}),i)):O.createElement(d0,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return Fr}}const XD=ha(j7,"IonRouterOutlet"),xy=class extends O.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=Ct(t,["onClick"]);return O.createElement(D7,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}};class H7 extends O.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};O.Children.forEach(e.children,i=>{var r,o,s,a;i!=null&&typeof i=="object"&&i.props&&(i.type===xy||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions:void 0,currentRouteOptions:i.props.href===((s=e.routeInfo)===null||s===void 0?void 0:s.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const o=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(o)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var i,r,o;const s=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});O.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===xy||u.type.isTabButton)){const d=s[u.props.tab];(!d||d.originalHref!==u.props.href)&&(s[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(s[l]={originalHref:s[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:s[l].originalRouteOptions,currentRouteOptions:(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(s[c]={originalHref:s[c].originalHref,currentHref:s[c].originalHref,originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:s[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:s}}onTabButtonClick(e,n){const i=this.state.tabs[e.detail.tab],r=i.originalHref,o=e.detail.href,{activeTab:s}=this.state;n&&n(e),s===e.detail.tab?r!==o&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===xy||n.type.isTabButton)){const o=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return O.cloneElement(n,{href:o,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return O.createElement(O7,Object.assign({},this.props,{selectedTab:e}),O.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return Fr}}const W7=O.memo(t=>{var{forwardedRef:e}=t,n=Ct(t,["forwardedRef"]);const i=q.useContext(Fr);return O.createElement(H7,Object.assign({ref:e},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),n.children)});ha(W7,"IonTabBar");class q7 extends z7{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",q7));class G7 extends O.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const i=this.props,{icon:r,ios:o,md:s,mode:a}=i,l=Ct(i,["icon","ios","md","mode"]);let c;const u=tx(),d=a||(u==null?void 0:u.get("mode"));return o||s?d==="ios"?c=(e=o!=null?o:s)!==null&&e!==void 0?e:r:c=(n=s!=null?s:o)!==null&&n!==void 0?n:r:c=r,O.createElement(L7,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return Fr}}const cn=ha(G7,"IonIcon");class ox extends O.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!ox?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):O.createElement(e,Object.assign({},this.props))}static get contextType(){return Fr}}class JD extends O.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!JD?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):O.createElement(e,Object.assign({},this.props))}static get contextType(){return Fr}}const K7=O.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class Toe extends O.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=oe(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),pT(n,e),mT(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;pT(n,i,e),Y7(n,i,e),mT(n,i,e)}render(){const{children:e}=this.props;return O.createElement(O.Fragment,null,O.Children.map(e,(n,i)=>O.cloneElement(n,{ref:r=>this.nodes.set(i,r)})))}}const pT=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},Y7=(t,e={},n={})=>{var i,r,o,s,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=n.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((o=n.progressStep)===null||o===void 0?void 0:o.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((s=n.progressEnd)===null||s===void 0?void 0:s.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},mT=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},Q7=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),EB(Object.assign({},t))},ZD=O.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class gT extends O.Component{constructor(e){super(e),this.ionLifeCycleContext=new y7,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return O.createElement(Jw.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class X7{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(r=>r.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(o=>o.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const r=n[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class J7 extends O.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,o,s)=>{this.navigate(n,i,r,s,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,o,s){this.props.onNavigate(e,i,n,r,o,s)}getPageManager(){return QD}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return O.createElement(Fr.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},O.createElement(K7.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class Z7{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const r=i.find(o=>o.id===e.id);r&&(r.mount=!1,this.viewStacks[n]=i.filter(o=>o.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}class eH extends O.PureComponent{render(){return O.createElement(dr,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const cd=({pathname:t,componentProps:e})=>{const{exact:n,component:i}=e,r=e.path||e.from,s=Cw(t,{exact:n,path:r,component:i});return s||!1};class tH extends Z7{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,r){const o={id:ld("viewItem"),outletId:e,ionPageElement:r,reactElement:n,mount:!0,ionRoute:!1};return n.type===ox&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:cd({pathname:i.pathname,componentProps:n.props}),childProps:n.props},o}getChildrenToRender(e,n,i){const r=this.getViewItemsForOutlet(e);return O.Children.forEach(n.props.children,s=>{const a=r.find(l=>vT(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),r.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=O.createElement(gT,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},O.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=vT(s.reactElement,i.pathname);a=O.createElement(gT,{key:"view-".concat(s.id),mount:s.mount,removeView:()=>this.remove(s)},O.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:r,match:o}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&r&&o&&(r.routeData.match=o),r}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,n,i);return r}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i){let r,o,s;if(n)s=this.getViewItemsForOutlet(n),s.some(a),r||s.some(l);else{const c=this.getAllViewItems();c.some(a),r||c.some(l)}return{viewItem:r,match:o};function a(c){var u,d;if(i&&!c.ionRoute)return!1;if(o=cd({pathname:e,componentProps:c.routeData.childProps}),o){const h=o.path.includes(":");if(!h||h&&o.url===((d=(u=c.routeData)===null||u===void 0?void 0:u.match)===null||d===void 0?void 0:d.url))return r=c,!0}return!1}function l(c){return!c.routeData.childProps.path&&!c.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},r=c,!0):!1}}}function vT(t,e){return cd({pathname:e,componentProps:t.props})}function nH(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const yT=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class iH extends O.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=ld("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&r!==o&&(o.mount=!1));const s=rH((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=s:s&&(r=this.context.createViewItem(this.id,s,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===o&&r.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),yT(r.ionPageElement)&&o!==void 0&&!yT(o.ionPageElement)))return;this.transitionPage(e,r,o)}else o&&!s&&!r&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=tx();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:o}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},r=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:r}}async transitionPage(e,n,i,r,o=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(oH(i.reactElement,e.pathname,!0)){const d=nH(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!o&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=O.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return O.createElement(rx.Provider,{value:this.stackContextValue},O.cloneElement(n,{ref:r=>{n.props.setRef&&n.props.setRef(r),n.props.forwardedRef&&(n.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:o}=n;typeof o=="function"&&o(r)}},i))}static get contextType(){return ZD}}function rH(t,e){let n;return O.Children.forEach(t,i=>{cd({pathname:e.pathname,componentProps:i.props})&&(n=i)}),n||(O.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function oH(t,e,n){return cd({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class sH extends O.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new X7,this.viewStack=new tH,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:ld("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[o,s]=n.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===o?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(o+(s?"?"+s:"")))):this.handleNavigate(o,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,r,o;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:ld("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=l.routeDirection||(u==null?void 0:u.routeDirection),l.routeAnimation=l.routeAnimation||(u==null?void 0:u.routeAnimation)}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,r,o,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:o,routeAnimation:r,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=tx();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const o=this.locationHistory.findLastLocation(r);if(o){const s=n||r.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:s}),r.lastPathname===r.pushedByRoute||o.pathname===r.pushedByRoute&&r.tab===""&&o.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back",s)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const o=Object.assign({},r);o.pathname=n,o.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return O.createElement(ZD.Provider,{value:this.routeMangerContextState},O.createElement(J7,{ionRoute:eH,ionRedirect:{},stackManager:iH,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const yg=S6(sH);yg.displayName="IonRouter";class aH extends O.Component{constructor(e){super(e);const{history:n}=e,i=Ct(e,["history"]);this.history=n||DF(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Ct(e,["children"]);return O.createElement(nh,Object.assign({history:this.history},i),O.createElement(yg,{registerHistoryListener:this.registerHistoryListener},n))}}class Soe extends O.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Ct(e,["children"]);return O.createElement(nh,Object.assign({},i),O.createElement(yg,{registerHistoryListener:this.registerHistoryListener},n))}}class Coe extends O.Component{constructor(e){super(e);const{history:n}=e,i=Ct(e,["history"]);this.history=n||LF(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=Ct(e,["children"]);return O.createElement(nh,Object.assign({history:this.history},i),O.createElement(yg,{registerHistoryListener:this.registerHistoryListener},n))}}const lH=q.createContext(void 0),cH=()=>{const t=q.useContext(lH);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},uH=({component:t,...e})=>{const{isAuthenticated:n}=cH();return y.jsx(dr,{...e,render:i=>n?y.jsx(t,{...i}):y.jsx(MP,{to:"/"})})},dH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 176v160M336 256H176' class='ionicon-fill-none ionicon-stroke-width'/></svg>",hH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M256 112v288M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",e2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M249.38 336L170 256l79.38-80M181.03 256H342' class='ionicon-fill-none ionicon-stroke-width'/><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M320 320L192 192M192 320l128-128' class='ionicon-fill-none ionicon-stroke-width'/></svg>",fH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M215.08 156.92c-4.89-24-10.77-56.27-10.77-73.23A51.36 51.36 0 01256 32h0c28.55 0 51.69 23.69 51.69 51.69 0 16.5-5.85 48.95-10.77 73.23M215.08 355.08c-4.91 24.06-10.77 56.16-10.77 73.23A51.36 51.36 0 00256 480h0c28.55 0 51.69-23.69 51.69-51.69 0-16.54-5.85-48.93-10.77-73.23M355.08 215.08c24.06-4.91 56.16-10.77 73.23-10.77A51.36 51.36 0 01480 256h0c0 28.55-23.69 51.69-51.69 51.69-16.5 0-48.95-5.85-73.23-10.77M156.92 215.07c-24-4.89-56.25-10.76-73.23-10.76A51.36 51.36 0 0032 256h0c0 28.55 23.69 51.69 51.69 51.69 16.5 0 48.95-5.85 73.23-10.77' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M296.92 156.92c13.55-20.48 32.3-47.25 44.37-59.31a51.35 51.35 0 0173.1 0h0c20.19 20.19 19.8 53.3 0 73.1-11.66 11.67-38.67 30.67-59.31 44.37M156.92 296.92c-20.48 13.55-47.25 32.3-59.31 44.37a51.35 51.35 0 000 73.1h0c20.19 20.19 53.3 19.8 73.1 0 11.67-11.66 30.67-38.67 44.37-59.31M355.08 296.92c20.48 13.55 47.25 32.3 59.31 44.37a51.35 51.35 0 010 73.1h0c-20.19 20.19-53.3 19.8-73.1 0-11.69-11.69-30.66-38.65-44.37-59.31M215.08 156.92c-13.53-20.43-32.38-47.32-44.37-59.31a51.35 51.35 0 00-73.1 0h0c-20.19 20.19-19.8 53.3 0 73.1 11.61 11.61 38.7 30.68 59.31 44.37' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='64' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_T="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",pH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M220 220h32v116' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M208 340h88' class='ionicon-fill-none ionicon-stroke-width'/><path d='M248 130a26 26 0 1026 26 26 26 0 00-26-26z'/></svg>",mH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 176v-40a40 40 0 0140-40h160a40 40 0 0140 40v240a40 40 0 01-40 40H240c-22.09 0-48-17.91-48-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M288 336l80-80-80-80M80 256h272' class='ionicon-fill-none ionicon-stroke-width'/></svg>",gH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",h0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M380.93 57.37A32 32 0 00358.3 48H94.22A46.21 46.21 0 0048 94.22v323.56A46.21 46.21 0 0094.22 464h323.56A46.36 46.36 0 00464 417.78V153.7a32 32 0 00-9.37-22.63zM256 416a64 64 0 1164-64 63.92 63.92 0 01-64 64zm48-224H112a16 16 0 01-16-16v-64a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-16 16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",wT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M259.92 262.91L216.4 149.77a9 9 0 00-16.8 0l-43.52 113.14a9 9 0 01-5.17 5.17L37.77 311.6a9 9 0 000 16.8l113.14 43.52a9 9 0 015.17 5.17l43.52 113.14a9 9 0 0016.8 0l43.52-113.14a9 9 0 015.17-5.17l113.14-43.52a9 9 0 000-16.8l-113.14-43.52a9 9 0 01-5.17-5.17zM108 68L88 16 68 68 16 88l52 20 20 52 20-52 52-20-52-20zM426.67 117.33L400 48l-26.67 69.33L304 144l69.33 26.67L400 240l26.67-69.33L496 144l-69.33-26.67z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",vH="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw cc(e)},cc=function(t){return new Error("Firebase Database ("+t2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},yH=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],s=t[n++],a=t[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||c==null||d==null)throw new bH;const h=o<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i2=function(t){const e=n2(t);return sx.encodeByteArray(e,!0)},Lp=function(t){return i2(t).replace(/\./g,"")},Mp=function(t){try{return sx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t){return ud(void 0,t)}function ud(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wH(n)||(t[n]=ud(t[n],e[n]));return t}function wH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=()=>xH().__FIREBASE_DEFAULTS__,IH=()=>{if(typeof process>"u"||typeof xT>"u")return;const t=xT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Mp(t[1]);return e&&JSON.parse(e)},bg=()=>{try{return EH()||IH()||kH()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},r2=t=>{var e,n;return(n=(e=bg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o2=t=>{const e=r2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},s2=()=>{var t;return(t=bg())===null||t===void 0?void 0:t.config},a2=t=>{var e;return(e=bg())===null||e===void 0?void 0:e["_".concat(t)]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(i),aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lp(JSON.stringify(n)),Lp(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function lx(){var t;const e=(t=bg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function TH(){return typeof self=="object"&&self.self===self}function c2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d2(){return t2.NODE_ADMIN===!0}function SH(){return!lx()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dd(){try{return typeof indexedDB=="object"}catch(t){return!1}}function CH(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="FirebaseError";class xn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=AH,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r="".concat(this.service,"/").concat(e),o=this.errors[e],s=o?RH(o,i):"Error",a="".concat(this.serviceName,": ").concat(s," (").concat(r,").");return new xn(r,a,i)}}function RH(t,e){return t.replace(PH,(n,i)=>{const r=e[i];return r!=null?String(r):"<".concat(i,"?>")})}const PH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return JSON.parse(t)}function Bt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=hd(Mp(o[0])||""),n=hd(Mp(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},DH=function(t){const e=h2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},OH=function(t){const e=h2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ml(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function f0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vp(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function $p(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],s=e[r];if(ET(o)&&ET(s)){if(!$p(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ET(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function su(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function f2(t,e){const n=new LH(t,e);return n.subscribe.bind(n)}class LH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MH(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ey),r.error===void 0&&(r.error=Ey),r.complete===void 0&&(r.complete=Ey);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(s){}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ey(){}function cx(t,e){return"".concat(t," failed: ").concat(e," argument ")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,z(i<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xg=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _g;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(BH(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch(o){}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FH(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FH(t){return t===ss?void 0:t}function BH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $H(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=[];var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const p2={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},UH=ye.INFO,jH={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},HH=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=jH[e];if(r)console[r]("[".concat(i,"]  ").concat(t.name,":"),...n);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class sh{constructor(e){this.name=e,this._logLevel=UH,this._logHandler=HH,this._userLogHandler=null,ux.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}function WH(t){ux.forEach(e=>{e.setLogLevel(t)})}function qH(t,e){for(const n of ux){let i=null;e&&e.level&&(i=p2[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...s)=>{const a=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");o>=(i!=null?i:r.logLevel)&&t({level:ye[o].toLowerCase(),message:a,args:s,type:r.name})}}}const GH=(t,e)=>e.some(n=>t instanceof n);let IT,kT;function KH(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YH(){return kT||(kT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m2=new WeakMap,p0=new WeakMap,g2=new WeakMap,Iy=new WeakMap,dx=new WeakMap;function QH(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&m2.set(n,t)}).catch(()=>{}),dx.set(e,t),e}function XH(t){if(p0.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});p0.set(t,e)}let m0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JH(t){m0=t(m0)}function ZH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ky(this),e,...n);return g2.set(i,e.sort?e.sort():[e]),xo(i)}:YH().includes(t)?function(...e){return t.apply(ky(this),e),xo(m2.get(this))}:function(...e){return xo(t.apply(ky(this),e))}}function eW(t){return typeof t=="function"?ZH(t):(t instanceof IDBTransaction&&XH(t),GH(t,KH())?new Proxy(t,m0):t)}function xo(t){if(t instanceof IDBRequest)return QH(t);if(Iy.has(t))return Iy.get(t);const e=eW(t);return e!==t&&(Iy.set(t,e),dx.set(e,t)),e}const ky=t=>dx.get(t);function tW(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return i&&s.addEventListener("upgradeneeded",l=>{i(xo(s.result),l.oldVersion,l.newVersion,xo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nW=["get","getKey","getAll","getAllKeys","count"],iW=["put","add","delete","clear"],Ty=new Map;function TT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=iW.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nW.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ty.set(e,o),o}JH(t=>({...t,get:(e,n,i)=>TT(e,n)||t.get(e,n,i),has:(e,n)=>!!TT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oW(n)){const i=n.getImmediate();return"".concat(i.library,"/").concat(i.version)}else return null}).filter(n=>n).join(" ")}}function oW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g0="@firebase/app",ST="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new sh("@firebase/app"),sW="@firebase/app-compat",aW="@firebase/analytics-compat",lW="@firebase/analytics",cW="@firebase/app-check-compat",uW="@firebase/app-check",dW="@firebase/auth",hW="@firebase/auth-compat",fW="@firebase/database",pW="@firebase/database-compat",mW="@firebase/functions",gW="@firebase/functions-compat",vW="@firebase/installations",yW="@firebase/installations-compat",bW="@firebase/messaging",_W="@firebase/messaging-compat",wW="@firebase/performance",xW="@firebase/performance-compat",EW="@firebase/remote-config",IW="@firebase/remote-config-compat",kW="@firebase/storage",TW="@firebase/storage-compat",SW="@firebase/firestore",CW="@firebase/firestore-compat",AW="firebase",RW="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]",PW={[g0]:"fire-core",[sW]:"fire-core-compat",[lW]:"fire-analytics",[aW]:"fire-analytics-compat",[uW]:"fire-app-check",[cW]:"fire-app-check-compat",[dW]:"fire-auth",[hW]:"fire-auth-compat",[fW]:"fire-rtdb",[pW]:"fire-rtdb-compat",[mW]:"fire-fn",[gW]:"fire-fn-compat",[vW]:"fire-iid",[yW]:"fire-iid-compat",[bW]:"fire-fcm",[_W]:"fire-fcm-compat",[wW]:"fire-perf",[xW]:"fire-perf-compat",[EW]:"fire-rc",[IW]:"fire-rc-compat",[kW]:"fire-gcs",[TW]:"fire-gcs-compat",[SW]:"fire-fst",[CW]:"fire-fst-compat","fire-js":"fire-js",[AW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,fd=new Map;function Fp(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function v2(t,e){t.container.addOrOverwriteComponent(e)}function Dr(t){const e=t.name;if(fd.has(e))return Ws.debug("There were multiple attempts to register component ".concat(e,".")),!1;fd.set(e,t);for(const n of Po.values())Fp(n,t);return!0}function uc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function DW(t,e,n=Ro){uc(t,e).clearInstance(n)}function OW(){fd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ir=new pa("app","Firebase",NW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LW=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=RW;function Eg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ro,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ir.create("bad-app-name",{appName:String(r)});if(n||(n=s2()),!n)throw Ir.create("no-options");const o=Po.get(r);if(o){if($p(n,o.options)&&$p(i,o.config))return o;throw Ir.create("duplicate-app",{appName:r})}const s=new zH(r);for(const l of fd.values())s.addComponent(l);const a=new LW(n,i,s);return Po.set(r,a),a}function Ig(t=Ro){const e=Po.get(t);if(!e&&t===Ro&&s2())return Eg();if(!e)throw Ir.create("no-app",{appName:t});return e}function MW(){return Array.from(Po.values())}async function y2(t){const e=t.name;Po.has(e)&&(Po.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Jn(t,e,n){var i;let r=(i=PW[t])!==null&&i!==void 0?i:t;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];o&&a.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&a.push("and"),s&&a.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),Ws.warn(a.join(" "));return}Dr(new Mi("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}function b2(t,e){if(t!==null&&typeof t!="function")throw Ir.create("invalid-log-argument");qH(t,e)}function _2(t){WH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="firebase-heartbeat-database",$W=1,pd="firebase-heartbeat-store";let Sy=null;function w2(){return Sy||(Sy=tW(VW,$W,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pd)}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Sy}async function FW(t){try{return await(await w2()).transaction(pd).objectStore(pd).get(x2(t))}catch(e){if(e instanceof xn)Ws.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ws.warn(n.message)}}}async function CT(t,e){try{const i=(await w2()).transaction(pd,"readwrite");await i.objectStore(pd).put(e,x2(t)),await i.done}catch(n){if(n instanceof xn)Ws.warn(n.message);else{const i=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ws.warn(i.message)}}}function x2(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=1024,zW=30*24*60*60*1e3;class UW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HW(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=zW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AT(),{heartbeatsToSend:i,unsentEntries:r}=jW(this._heartbeatsCache.heartbeats),o=Lp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function AT(){return new Date().toISOString().substring(0,10)}function jW(t,e=BW){const n=[];let i=t.slice();for(const r of t){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),RT(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),RT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dd()?CH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RT(t){return Lp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){Dr(new Mi("platform-logger",e=>new rW(e),"PRIVATE")),Dr(new Mi("heartbeat",e=>new UW(e),"PRIVATE")),Jn(g0,ST,t),Jn(g0,ST,"esm2017"),Jn("fire-js","")}WW("");const qW=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:xn,SDK_VERSION:Br,_DEFAULT_ENTRY_NAME:Ro,_addComponent:Fp,_addOrOverwriteComponent:v2,_apps:Po,_clearComponents:OW,_components:fd,_getProvider:uc,_registerComponent:Dr,_removeServiceInstance:DW,deleteApp:y2,getApp:Ig,getApps:MW,initializeApp:Eg,onLog:b2,registerVersion:Jn,setLogLevel:_2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n){this._delegate=e,this.firebase=n,Fp(e,new Mi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),y2(this._delegate)))}_getService(e,n=Ro){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ro){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Fp(this._delegate,e)}_addOrOverwriteComponent(e){v2(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},PT=new pa("app-compat","Firebase",KW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){const e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:Jn,setLogLevel:_2,onLog:b2,apps:null,SDK_VERSION:Br,INTERNAL:{registerComponent:a,removeApp:i,useAsService:l,modularAPIs:qW}};n.default=n,Object.defineProperty(n,"apps",{get:s});function i(c){delete e[c]}function r(c){if(c=c||Ro,!Li(e,c))throw PT.create("no-app",{appName:c});return e[c]}r.App=t;function o(c,u={}){const d=Eg(c,u);if(Li(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function s(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Dr(c)&&c.type==="PUBLIC"){const h=(f=r())=>{if(typeof f[d]!="function")throw PT.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&ud(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){const t=YW(GW);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:E2,extendNamespace:e,createSubscribe:f2,ErrorFactory:pa,deepExtend:ud});function e(n){ud(t,n)}return t}const QW=E2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new sh("@firebase/app-compat"),XW="@firebase/app-compat",JW="0.2.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){Jn(XW,JW,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(TH()&&self.firebase!==void 0){DT.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&DT.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kg=QW;ZW();const Bc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Aa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function I2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tq=eq,nq=I2,k2=new pa("auth","Firebase",I2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new sh("@firebase/auth");function iq(t,...e){Bp.logLevel<=ye.WARN&&Bp.warn("Auth (".concat(Br,"): ").concat(t),...e)}function Vf(t,...e){Bp.logLevel<=ye.ERROR&&Bp.error("Auth (".concat(Br,"): ").concat(t),...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,...e){throw hx(t,...e)}function nn(t,...e){return hx(t,...e)}function T2(t,e,n){const i=Object.assign(Object.assign({},nq()),{[e]:n});return new pa("auth","Firebase",i).create(e,{appName:t.name})}function dc(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ht(t,"argument-error"),T2(t,"argument-error","Type of ".concat(e.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function hx(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return k2.create(t,...e)}function B(t,e,...n){if(!t)throw hx(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Vi(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fx(){return OT()==="http:"||OT()==="https:"}function OT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fx()||c2()||"connection"in navigator)?navigator.onLine:!0}function oq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=ax()||wg()}get(){return rq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=new ah(3e4,6e4);function vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yt(t,e,n,i,r={}){return C2(t,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const a=ma(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),S2.fetch()(A2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function C2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},sq),e);try{const r=new cq(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw au(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw au(t,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw T2(t,u,c);Ht(t,u)}}catch(r){if(r instanceof xn)throw r;Ht(t,"network-request-failed",{message:String(r)})}}async function zr(t,e,n,i,r={}){const o=await yt(t,e,n,i,r);return"mfaPendingCredential"in o&&Ht(t,"multi-factor-auth-required",{_serverResponse:o}),o}function A2(t,e,n,i){const r="".concat(e).concat(n,"?").concat(i);return t.config.emulator?px(t.config,r):"".concat(t.config.apiScheme,"://").concat(r)}function lq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(nn(this.auth,"network-request-failed")),aq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function au(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=nn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){return t!==void 0&&t.getResponse!==void 0}function LT(t){return t!==void 0&&t.enterprise!==void 0}class uq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(t){return(await yt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function hq(t,e){return yt(t,"GET","/v2/recaptchaConfig",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(t,e){return yt(t,"POST","/v1/accounts:delete",e)}async function pq(t,e){return yt(t,"POST","/v1/accounts:update",e)}async function mq(t,e){return yt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function gq(t,e=!1){const n=ne(t),i=await n.getIdToken(e),r=Tg(i);B(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Iu(Cy(r.auth_time)),issuedAtTime:Iu(Cy(r.iat)),expirationTime:Iu(Cy(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Cy(t){return Number(t)*1e3}function Tg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Mp(n);return r?JSON.parse(r):(Vf("Failed to decode base64 JWT payload"),null)}catch(r){return Vf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function vq(t){const e=Tg(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xn&&yq(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function yq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Or(t,mq(n,{idToken:i}));B(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xq(o.providerUserInfo):[],a=wq(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new R2(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function _q(t){const e=ne(t);await gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function xq(t){return t.map(e=>{var{providerId:n}=e,i=Ct(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e){const n=await C2(t,{},async()=>{const i=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=A2(t,r,"/v1/token","key=".concat(o)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S2.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Iq(t,e){return yt(t,"POST","/v2/accounts:revokeToken",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return B(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await Eq(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new vd;return i&&(B(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(B(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(B(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vd,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Ct(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new R2(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Or(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gq(this,e)}reload(){return _q(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Or(this,fq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:x,isAnonymous:C,providerData:E,stsTokenManager:w}=n;B(b&&w,e,"internal-error");const k=vd.fromJSON(this.name,w);B(typeof b=="string",e,"internal-error"),Yr(d,e.name),Yr(h,e.name),B(typeof x=="boolean",e,"internal-error"),B(typeof C=="boolean",e,"internal-error"),Yr(f,e.name),Yr(p,e.name),Yr(g,e.name),Yr(_,e.name),Yr(v,e.name),Yr(m,e.name);const F=new Rs({uid:b,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:m});return E&&Array.isArray(E)&&(F.providerData=E.map(P=>Object.assign({},P))),_&&(F._redirectEventId=_),F}static async _fromIdTokenResponse(e,n,i=!1){const r=new vd;r.updateFromServerResponse(n);const o=new Rs({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await gd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function Qn(t){Vi(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P2.type="NONE";const Vl=P2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e,n){return"firebase:".concat(t,":").concat(e,":").concat(n)}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ps(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ps("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(Qn(Vl),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=r[0]||Qn(Vl);const s=Ps(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Rs._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fl(o,e,i):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch(u){}})),new fl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L2(e))return"Blackberry";if(M2(e))return"Webos";if(mx(e))return"Safari";if((e.includes("chrome/")||O2(e))&&!e.includes("edge/"))return"Chrome";if(lh(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function D2(t=lt()){return/firefox\//i.test(t)}function mx(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O2(t=lt()){return/crios\//i.test(t)}function N2(t=lt()){return/iemobile/i.test(t)}function lh(t=lt()){return/android/i.test(t)}function L2(t=lt()){return/blackberry/i.test(t)}function M2(t=lt()){return/webos/i.test(t)}function hc(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kq(t=lt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Tq(t=lt()){var e;return hc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sq(){return u2()&&document.documentMode===10}function V2(t=lt()){return hc(t)||lh(t)||M2(t)||L2(t)||/windows phone/i.test(t)||N2(t)}function Cq(){try{return!!(window&&window!==window.top)}catch(t){return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e=[]){let n;switch(t){case"Browser":n=VT(lt());break;case"Worker":n="".concat(VT(lt()),"-").concat(t);break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/JsCore/").concat(Br,"/").concat(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e={}){return yt(t,"GET","/v2/passwordPolicy",vt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=6;class Dq{constructor(e){var n,i,r,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Pq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new Aq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ne(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rq(this),n=new Dq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Iq(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iq("Error while retrieving App Check token: ".concat(n.error)),n==null?void 0:n.token}}function pt(t){return ne(t)}class $T{constructor(e){this.auth=e,this.observer=null,this.addObserver=f2(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function gx(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=nn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",Nq().appendChild(i)})}function F2(t){return"__".concat(t).concat(Math.floor(Math.random()*1e6))}const Lq="https://www.google.com/recaptcha/enterprise.js?render=",Mq="recaptcha-enterprise",Vq="NO_RECAPTCHA";class $q{constructor(e){this.type=Mq,this.auth=pt(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{hq(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uq(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function r(o,s,a){const l=window.grecaptcha;LT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Vq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!n&&LT(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}gx(Lq+a).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function FT(t,e,n,i=!1){const r=new $q(t);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function yd(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await FT(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await FT(t,e,n,n==="getOobCode");return i(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){const n=uc(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if($p(o,e!=null?e:{}))return r;Ht(r,"already-initialized")}return n.initialize({options:e})}function Bq(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function B2(t,e,n){const i=pt(t);B(i._canInitEmulator,i,"emulator-config-failed"),B(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=z2(e),{host:s,port:a}=zq(e),l=a===null?"":":".concat(a);i.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Uq()}function z2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zq(t){const e=z2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:BT(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:BT(s)}}}function BT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Uq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){return yt(t,"POST","/v1/accounts:resetPassword",vt(t,e))}async function jq(t,e){return yt(t,"POST","/v1/accounts:update",e)}async function Hq(t,e){return yt(t,"POST","/v1/accounts:signUp",e)}async function Wq(t,e){return yt(t,"POST","/v1/accounts:update",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e){return zr(t,"POST","/v1/accounts:signInWithPassword",vt(t,e))}async function Sg(t,e){return yt(t,"POST","/v1/accounts:sendOobCode",vt(t,e))}async function Gq(t,e){return Sg(t,e)}async function Kq(t,e){return Sg(t,e)}async function Yq(t,e){return Sg(t,e)}async function Qq(t,e){return Sg(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e){return zr(t,"POST","/v1/accounts:signInWithEmailLink",vt(t,e))}async function Jq(t,e){return zr(t,"POST","/v1/accounts:signInWithEmailLink",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends fc{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new bd(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bd(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,n,"signInWithPassword",qq);case"emailLink":return Xq(e,{email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,i,"signUpPassword",Hq);case"emailLink":return Jq(e,{idToken:n,email:this._email,oobCode:this._password});default:Ht(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kr(t,e){return zr(t,"POST","/v1/accounts:signInWithIdp",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="http://localhost";class rr extends fc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ht("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Ct(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new rr(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return kr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,kr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kr(e,n)}buildRequest(){const e={requestUri:Zq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(t,e){return yt(t,"POST","/v1/accounts:sendVerificationCode",vt(t,e))}async function tG(t,e){return zr(t,"POST","/v1/accounts:signInWithPhoneNumber",vt(t,e))}async function nG(t,e){const n=await zr(t,"POST","/v1/accounts:signInWithPhoneNumber",vt(t,e));if(n.temporaryProof)throw au(t,"account-exists-with-different-credential",n);return n}const iG={USER_NOT_FOUND:"user-not-found"};async function rG(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return zr(t,"POST","/v1/accounts:signInWithPhoneNumber",vt(t,n),iG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends fc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ds({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ds({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return tG(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return nG(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return rG(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new Ds({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sG(t){const e=nl(su(t)).link,n=e?nl(su(e)).deep_link_id:null,i=nl(su(t)).deep_link_id;return(i?nl(su(i)).link:null)||i||n||e||t}class Cg{constructor(e){var n,i,r,o,s,a;const l=nl(su(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=oG((r=l.mode)!==null&&r!==void 0?r:null);B(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=sG(e);try{return new Cg(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return bd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Cg.parseLink(n);return B(i,"argument-error"),bd._fromEmailAndCode(e,i.code,i.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Ur{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pl extends pc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return B("providerId"in n&&"signInMethod"in n,"argument-error"),rr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return B(e.idToken||e.accessToken,"argument-error"),rr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:s,providerId:a}=e;if(!i&&!r&&!n&&!o||!a)return null;try{return new pl(a)._credential({idToken:n,accessToken:i,nonce:s,pendingToken:o})}catch(l){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends pc{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch(n){return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Hi.credential(n,i)}catch(r){return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends pc{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch(n){return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="http://localhost";class $l extends fc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return kr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,kr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new $l(i,o)}static _create(e,n){return new $l(e,n)}buildRequest(){return{requestUri:aG,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="saml.";class zp extends Ur{constructor(e){B(e.startsWith(lG),"argument-error"),super(e)}static credentialFromResult(e){return zp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return zp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=$l.fromJSON(e);return B(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return $l._create(i,n)}catch(r){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends pc{constructor(){super("twitter.com")}static credential(e,n){return rr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qi.credential(n,i)}catch(r){return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return zr(t,"POST","/v1/accounts:signUp",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Rs._fromIdTokenResponse(e,i,r),s=zT(i);return new yi({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=zT(i);return new yi({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cG(t){var e;const n=pt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new yi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await j2(n,{returnSecureToken:!0}),r=await yi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends xn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Up.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Up(e,n,i,r)}}function H2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Up._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uG(t,e){const n=ne(t);await Ag(!0,n,e);const{providerUserInfo:i}=await pq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),r=W2(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function vx(t,e,n=!1){const i=await Or(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yi._forOperation(t,"link",i)}async function Ag(t,e,n){await gd(e);const i=W2(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";B(i.has(n)===t,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Or(t,H2(i,r,e,t),n);B(o.idToken,i,"internal-error");const s=Tg(o.idToken);B(s,i,"internal-error");const{sub:a}=s;return B(t.uid===a,i,"user-mismatch"),yi._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ht(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e,n=!1){const i="signIn",r=await H2(t,i,e),o=await yi._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function Rg(t,e){return G2(pt(t),e)}async function K2(t,e){const n=ne(t);return await Ag(!1,n,e.providerId),vx(n,e)}async function Y2(t,e){return q2(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(t,e){return zr(t,"POST","/v1/accounts:signInWithCustomToken",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(t,e){const n=pt(t),i=await dG(n,{token:e,returnSecureToken:!0}),r=await yi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?yx._fromServerResponse(e,n):"totpInfo"in n?bx._fromServerResponse(e,n):Ht(e,"internal-error")}}class yx extends ch{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new yx(n)}}class bx extends ch{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new bx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e,n){var i;B(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),B(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(B(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(B(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t){const e=pt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q2(t,e,n){const i=pt(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Pg(i,r,n),await yd(i,r,"getOobCode",Kq)}async function fG(t,e,n){await U2(ne(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_x(t),i})}async function pG(t,e){await Wq(ne(t),{oobCode:e})}async function X2(t,e){const n=ne(t),i=await U2(n,{oobCode:e}),r=i.requestType;switch(B(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(i.mfaInfo,n,"internal-error");default:B(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ch._fromServerResponse(pt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}}async function mG(t,e){const{data:n}=await X2(ne(t),e);return n.email}async function J2(t,e,n){const i=pt(t),s=await yd(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_x(t),l}),a=await yi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}function Z2(t,e,n){return Rg(ne(t),Go.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_x(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gG(t,e,n){const i=pt(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,a){B(a.handleCodeInApp,i,"argument-error"),a&&Pg(i,s,a)}o(r,n),await yd(i,r,"getOobCode",Yq)}function vG(t,e){const n=Cg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function yG(t,e,n){const i=ne(t),r=Go.credentialWithLink(e,n||md());return B(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Rg(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(t,e){return yt(t,"POST","/v1/accounts:createAuthUri",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G(t,e){const n=fx()?md():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=await bG(ne(t),i);return r||[]}async function wG(t,e){const n=ne(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Pg(n.auth,r,e);const{email:o}=await Gq(n.auth,r);o!==t.email&&await t.reload()}async function xG(t,e,n){const i=ne(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Pg(i.auth,o,n);const{email:s}=await Qq(i.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e){return yt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IG(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ne(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Or(i,EG(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function kG(t,e){return eO(ne(t),e,null)}function TG(t,e){return eO(ne(t),null,e)}async function eO(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Or(t,jq(i,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(t){var e,n;if(!t)return null;const{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const s=(n=(e=Tg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new ml(o,a)}}if(!i)return null;switch(i){case"facebook.com":return new CG(o,r);case"github.com":return new AG(o,r);case"google.com":return new RG(o,r);case"twitter.com":return new PG(o,r,t.screenName||null);case"custom":case"anonymous":return new ml(o,null);default:return new ml(o,i,r)}}class ml{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class tO extends ml{constructor(e,n,i,r){super(e,n,i),this.username=r}}class CG extends ml{constructor(e,n){super(e,"facebook.com",n)}}class AG extends tO{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class RG extends ml{constructor(e,n){super(e,"google.com",n)}}class PG extends tO{constructor(e,n,i){super(e,"twitter.com",n,i)}}function DG(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:SG(n)}function OG(t,e,n,i){return ne(t).onIdTokenChanged(e,n,i)}function NG(t,e,n){return ne(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new ws("enroll",e,n)}static _fromMfaPendingCredential(e){return new ws("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ws._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return ws._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=pt(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(a=>ch._fromServerResponse(i,a));B(r.mfaPendingCredential,i,"internal-error");const s=ws._fromMfaPendingCredential(r.mfaPendingCredential);return new wx(s,o,async a=>{const l=await a._process(i,s);delete r.mfaInfo,delete r.mfaPendingCredential;const c=Object.assign(Object.assign({},r),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await yi._fromIdTokenResponse(i,n.operationType,c);return await i._updateCurrentUser(u.user),u;case"reauthenticate":return B(n.user,i,"internal-error"),yi._forOperation(n.user,n.operationType,c);default:Ht(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function LG(t,e){var n;const i=ne(t),r=e;return B(e.customData.operationType,i,"argument-error"),B((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),wx._fromError(i,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t,e){return yt(t,"POST","/v2/accounts/mfaEnrollment:start",vt(t,e))}function VG(t,e){return yt(t,"POST","/v2/accounts/mfaEnrollment:finalize",vt(t,e))}function $G(t,e){return yt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(t,e))}class xx{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>ch._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new xx(e)}async getSession(){return ws._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,r=await this.getSession(),o=await Or(this.user,i._process(this.user.auth,r,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const r=await Or(this.user,$G(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(r),await this.user.reload()}catch(r){throw r}}}const Ay=new WeakMap;function FG(t){const e=ne(t);return Ay.has(e)||Ay.set(e,xx._fromUser(e)),Ay.get(e)}const jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jp,"1"),this.storage.removeItem(jp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BG(){const t=lt();return mx(t)||hc(t)}const zG=1e3,UG=10;class iO extends nO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=BG()&&Cq(),this.fallbackToPolling=V2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);Sq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,UG):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},zG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iO.type="LOCAL";const Dg=iO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends nO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rO.type="SESSION";const Do=rO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Og(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await jG(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=uh("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return window}function WG(t){kt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof kt().WorkerGlobalScope<"u"&&typeof kt().importScripts=="function"}async function qG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function GG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KG(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebaseLocalStorageDb",YG=1,Hp="firebaseLocalStorage",sO="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ng(t,e){return t.transaction([Hp],e?"readwrite":"readonly").objectStore(Hp)}function QG(){const t=indexedDB.deleteDatabase(oO);return new dh(t).toPromise()}function v0(){const t=indexedDB.open(oO,YG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Hp,{keyPath:sO})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Hp)?e(i):(i.close(),await QG(),e(await v0()))})})}async function UT(t,e,n){const i=Ng(t,!0).put({[sO]:e,value:n});return new dh(i).toPromise()}async function XG(t,e){const n=Ng(t,!1).get(e),i=await new dh(n).toPromise();return i===void 0?null:i.value}function jT(t,e){const n=Ng(t,!0).delete(e);return new dh(n).toPromise()}const JG=800,ZG=3;class aO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ZG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(KG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qG(),!this.activeServiceWorker)return;this.sender=new HG(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v0();return await UT(e,jp,"1"),await jT(e,jp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>UT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>XG(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ng(r,!1).getAll();return new dh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aO.type="LOCAL";const Fl=aO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t,e){return yt(t,"POST","/v2/accounts/mfaSignIn:start",vt(t,e))}function tK(t,e){return yt(t,"POST","/v2/accounts/mfaSignIn:finalize",vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=500,iK=6e4,uf=1e12;class rK{constructor(e){this.auth=e,this.counter=uf,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new oK(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||uf;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||uf;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||uf;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class oK{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;B(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=sK(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch(i){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch(i){}this.isVisible&&this.execute()},iK)},nK))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function sK(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=F2("rcb"),aK=new ah(3e4,6e4),lK="https://www.google.com/recaptcha/api.js?";class cK{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=kt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return B(uK(n),e,"argument-error"),this.shouldResolveImmediately(n)&&NT(kt().grecaptcha)?Promise.resolve(kt().grecaptcha):new Promise((i,r)=>{const o=kt().setTimeout(()=>{r(nn(e,"network-request-failed"))},aK.get());kt()[Ry]=()=>{kt().clearTimeout(o),delete kt()[Ry];const a=kt().grecaptcha;if(!a||!NT(a)){r(nn(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,i(a)};const s="".concat(lK,"?").concat(ma({onload:Ry,render:"explicit",hl:n}));gx(s).catch(()=>{clearTimeout(o),r(nn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=kt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function uK(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class dK{async load(e){return new rK(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="recaptcha",hK={theme:"light",type:"image"};let fK=class{constructor(e,n,i=Object.assign({},hK)){this.parameters=i,this.type=lO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(e),this.isInvisible=this.parameters.size==="invisible",B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof n=="string"?document.getElementById(n):n;B(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dK:new cK,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{const o=s=>{s&&(this.tokenChangeListeners.delete(o),r(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=kt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){B(fx()&&!Ex(),this.auth,"internal-error"),await pK(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await dq(this.auth);B(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function pK(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ds._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function mK(t,e,n){const i=pt(t),r=await Lg(i,e,ne(n));return new Ix(r,o=>Rg(i,o))}async function gK(t,e,n){const i=ne(t);await Ag(!1,i,"phone");const r=await Lg(i.auth,e,ne(n));return new Ix(r,o=>K2(i,o))}async function vK(t,e,n){const i=ne(t),r=await Lg(i.auth,e,ne(n));return new Ix(r,o=>Y2(i,o))}async function Lg(t,e,n){var i;const r=await n.verify();try{B(typeof r=="string",t,"argument-error"),B(n.type===lO,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o)return B(s.type==="enroll",t,"internal-error"),(await MG(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{B(s.type==="signin",t,"internal-error");const a=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return B(a,t,"missing-multi-factor-info"),(await eK(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:s}=await eG(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return s}}finally{n._reset()}}async function yK(t,e){await vx(ne(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs=class $f{constructor(e){this.providerId=$f.PROVIDER_ID,this.auth=pt(e)}verifyPhoneNumber(e,n){return Lg(this.auth,e,ne(n))}static credential(e,n){return Ds._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $f.credentialFromTaggedObject(n)}static credentialFromError(e){return $f.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Ds._fromTokenResponse(n,i):null}};qs.PROVIDER_ID="phone";qs.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){return e?Qn(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends fc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bK(t){return G2(t.auth,new kx(t),t.bypassAuthState)}function _K(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),q2(n,new kx(t),t.bypassAuthState)}async function wK(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),vx(n,new kx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bK;case"linkViaPopup":case"linkViaRedirect":return wK;case"reauthViaPopup":case"reauthViaRedirect":return _K;default:Ht(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=new ah(2e3,1e4);async function EK(t,e,n){const i=pt(t);dc(t,e,Ur);const r=ga(i,n);return new mr(i,"signInViaPopup",e,r).executeNotNull()}async function IK(t,e,n){const i=ne(t);dc(i.auth,e,Ur);const r=ga(i.auth,n);return new mr(i.auth,"reauthViaPopup",e,r,i).executeNotNull()}async function kK(t,e,n){const i=ne(t);dc(i.auth,e,Ur);const r=ga(i.auth,n);return new mr(i.auth,"linkViaPopup",e,r,i).executeNotNull()}class mr extends cO{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,mr.currentPopupAction&&mr.currentPopupAction.cancel(),mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return B(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=uh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xK.get())};e()}}mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK="pendingRedirect",ku=new Map;class SK extends cO{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const i=await CK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CK(t,e){const n=dO(e),i=uO(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}async function Tx(t,e){return uO(t)._set(dO(e),"true")}function AK(){ku.clear()}function Sx(t,e){ku.set(t._key(),e)}function uO(t){return Qn(t._redirectPersistence)}function dO(t){return Ps(TK,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(t,e,n){return PK(t,e,n)}async function PK(t,e,n){const i=pt(t);dc(t,e,Ur),await i._initializationPromise;const r=ga(i,n);return await Tx(r,i),r._openRedirect(i,e,"signInViaRedirect")}function DK(t,e,n){return OK(t,e,n)}async function OK(t,e,n){const i=ne(t);dc(i.auth,e,Ur),await i.auth._initializationPromise;const r=ga(i.auth,n);await Tx(r,i.auth);const o=await hO(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)}function NK(t,e,n){return LK(t,e,n)}async function LK(t,e,n){const i=ne(t);dc(i.auth,e,Ur),await i.auth._initializationPromise;const r=ga(i.auth,n);await Ag(!1,i,e.providerId),await Tx(r,i.auth);const o=await hO(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)}async function MK(t,e){return await pt(t)._initializationPromise,Mg(t,e,!1)}async function Mg(t,e,n=!1){const i=pt(t),r=ga(i,e),s=await new SK(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}async function hO(t){const e=uh("".concat(t.uid,":::"));return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=10*60*1e3;class fO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$K(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!pO(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VK&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(e))}saveEventToCache(e){this.cachedEventUids.add(HT(e)),this.lastProcessedEventTime=Date.now()}}function HT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $K(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e={}){return yt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BK=/^https?/;async function zK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mO(t);for(const n of e)try{if(UK(n))return}catch(i){}Ht(t,"unauthorized-domain")}function UK(t){const e=md(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!BK.test(n))return!1;if(FK.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new ah(3e4,6e4);function WT(){const t=kt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HK(t){return new Promise((e,n)=>{var i,r,o;function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(nn(t,"network-request-failed"))},timeout:jK.get()})}if(!((r=(i=kt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=kt().gapi)===null||o===void 0)&&o.load)s();else{const a=F2("iframefcb");return kt()[a]=()=>{gapi.load?s():n(nn(t,"network-request-failed"))},gx("https://apis.google.com/js/api.js?onload=".concat(a)).catch(l=>n(l))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function WK(t){return Ff=Ff||HK(t),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=new ah(5e3,15e3),GK="__/auth/iframe",KK="emulator/auth/iframe",YK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XK(t){const e=t.config;B(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?px(e,KK):"https://".concat(t.config.authDomain,"/").concat(GK),i={apiKey:e.apiKey,appName:t.name,v:Br},r=QK.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat(ma(i).slice(1))}async function JK(t){const e=await WK(t),n=kt().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:XK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YK,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const s=nn(t,"network-request-failed"),a=kt().setTimeout(()=>{o(s)},qK.get());function l(){kt().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eY=500,tY=600,nY="_blank",iY="http://localhost";class qT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function rY(t,e,n,i=eY,r=tY){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZK),{width:i.toString(),height:r.toString(),top:o,left:s}),c=lt().toLowerCase();n&&(a=O2(c)?nY:n),D2(c)&&(e=e||iY,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>"".concat(h).concat(f,"=").concat(p,","),"");if(Tq(c)&&a!=="_self")return oY(e||"",a),new qT(null);const d=window.open(e||"",a,u);B(d,t,"popup-blocked");try{d.focus()}catch(h){}return new qT(d)}function oY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY="__/auth/handler",aY="emulator/auth/handler",lY=encodeURIComponent("fac");async function y0(t,e,n,i,r,o){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Br,eventId:r};if(e instanceof Ur){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",f0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof pc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(lY,"=").concat(encodeURIComponent(l)):"";return"".concat(cY(t),"?").concat(ma(a).slice(1)).concat(c)}function cY({config:t}){return t.emulator?px(t,aY):"https://".concat(t.authDomain,"/").concat(sY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class uY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=Mg,this._overrideRedirectResult=Sx}async _openPopup(e,n,i,r){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await y0(e,n,i,md(),r);return rY(e,s,uh())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await y0(e,n,i,md(),r);return WG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Vi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await JK(e),i=new fO(e);return n.register("authEvent",r=>(B(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},r=>{var o;const s=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Py];s!==void 0&&n(!!s),Ht(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V2()||mx()||hc()}}const gO=uY;class dY{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return Yi("unexpected MultiFactorSessionType")}}}class Cx extends dY{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Cx(e)}_finalizeEnroll(e,n,i){return VG(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return tK(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vO{constructor(){}static assertion(e){return Cx._fromCredential(e)}}vO.FACTOR_ID="phone";var GT="@firebase/auth",KT="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pY(t){Dr(new Mi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;B(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(t)},c=new Oq(i,r,o,l);return Bq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Dr(new Mi("auth-internal",e=>{const n=pt(e.getProvider("auth").getImmediate());return(i=>new hY(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(GT,KT,fY(t)),Jn(GT,KT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=5*60,gY=a2("authIdTokenMaxAge")||mY;let YT=null;const vY=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>gY)return;const r=n==null?void 0:n.token;YT!==r&&(YT=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function yY(t=Ig()){const e=uc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fq(t,{popupRedirectResolver:gO,persistence:[Fl,Dg,Do]}),i=a2("authTokenSyncURL");if(i){const o=vY(i);NG(n,o,()=>o(n.currentUser)),OG(n,s=>o(s))}const r=r2("auth");return r&&B2(n,"http://".concat(r)),n}pY("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=2e3;async function _Y(t,e,n){var i;const{BuildInfo:r}=Gs();Vi(e.sessionId,"AuthEvent did not contain a session ID");const o=await kY(e.sessionId),s={};return hc()?s.ibi=r.packageName:lh()?s.apn=r.packageName:Ht(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=o,y0(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,s)}async function wY(t){const{BuildInfo:e}=Gs(),n={};hc()?n.iosBundleId=e.packageName:lh()?n.androidPackageName=e.packageName:Ht(t,"operation-not-supported-in-this-environment"),await mO(t,n)}function xY(t){const{cordova:e}=Gs();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,kq()?"_blank":"_system","location=yes"),n(r)})})}async function EY(t,e,n){const{cordova:i}=Gs();let r=()=>{};try{await new Promise((o,s)=>{let a=null;function l(){var d;o();const h=(d=i.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{s(nn(t,"redirect-cancelled-by-user"))},bY))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),lh()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}}function IY(t){var e,n,i,r,o,s,a,l,c,u;const d=Gs();B(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B(typeof((o=(r=(i=d==null?void 0:d.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B(typeof((l=(a=(s=d==null?void 0:d.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kY(t){const e=TY(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}function TY(t){if(Vi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=20;class CY extends fO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function AY(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:DY(),postBody:null,tenantId:t.tenantId,error:nn(t,"no-auth-event")}}function RY(t,e){return b0()._set(_0(t),e)}async function QT(t){const e=await b0()._get(_0(t));return e&&await b0()._remove(_0(t)),e}function PY(t,e){var n,i;const r=NY(e);if(r.includes("/__/auth/callback")){const o=Bf(r),s=o.firebaseError?OY(decodeURIComponent(o.firebaseError)):null,a=(i=(n=s==null?void 0:s.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],l=a?nn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function DY(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<SY;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function b0(){return Qn(Dg)}function _0(t){return Ps("authEvent",t.config.apiKey,t.name)}function OY(t){try{return JSON.parse(t)}catch(e){return null}}function NY(t){const e=Bf(t),n=e.link?decodeURIComponent(e.link):void 0,i=Bf(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Bf(r).link||r||i||n||t}function Bf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return nl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=500;class MY{constructor(){this._redirectPersistence=Do,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mg,this._overrideRedirectResult=Sx}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new CY(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Ht(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,r){IY(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),AK(),await this._originValidation(e);const s=AY(e,i,r);await RY(e,s);const a=await _Y(e,s,n),l=await xY(a);return EY(e,o,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wY(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Gs(),s=setTimeout(async()=>{await QT(e),n.onEvent(XT())},LY),a=async u=>{clearTimeout(s);const d=await QT(e);let h=null;d&&(u!=null&&u.url)&&(h=PY(d,u.url)),n.onEvent(h||XT())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,a);const l=r,c="".concat(o.packageName.toLowerCase(),"://");Gs().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const VY=MY;function XT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:nn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(t,e){pt(t)._logFramework(e)}var FY="@firebase/auth-compat",BY="0.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY=1e3;function Tu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function UY(){return Tu()==="http:"||Tu()==="https:"}function yO(t=lt()){return!!((Tu()==="file:"||Tu()==="ionic:"||Tu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function jY(){return wg()||lx()}function HY(){return u2()&&(document==null?void 0:document.documentMode)===11}function WY(t=lt()){return/Edge\/\d+/.test(t)}function qY(t=lt()){return HY()||WY(t)}function bO(){try{const t=self.localStorage,e=uh();if(t)return t.setItem(e,"1"),t.removeItem(e),qY()?dd():!0}catch(t){return Ax()&&dd()}return!1}function Ax(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dy(){return(UY()||c2()||yO())&&!jY()&&bO()&&!Ax()}function _O(){return yO()&&typeof document<"u"}async function GY(){return _O()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},zY);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function KY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},zc=B,wO="persistence";function YY(t,e){if(zc(Object.values(Kn).includes(e),t,"invalid-persistence-type"),wg()){zc(e!==Kn.SESSION,t,"unsupported-persistence-type");return}if(lx()){zc(e===Kn.NONE,t,"unsupported-persistence-type");return}if(Ax()){zc(e===Kn.NONE||e===Kn.LOCAL&&dd(),t,"unsupported-persistence-type");return}zc(e===Kn.NONE||bO(),t,"unsupported-persistence-type")}async function w0(t){await t._initializationPromise;const e=xO(),n=Ps(wO,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function QY(t,e){const n=xO();if(!n)return[];const i=Ps(wO,t,e);switch(n.getItem(i)){case Kn.NONE:return[Vl];case Kn.LOCAL:return[Fl,Do];case Kn.SESSION:return[Do];default:return[]}}function xO(){var t;try{return((t=KY())===null||t===void 0?void 0:t.sessionStorage)||null}catch(e){return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=B;class co{constructor(){this.browserResolver=Qn(gO),this.cordovaResolver=Qn(VY),this.underlyingResolver=null,this._redirectPersistence=Do,this._completeRedirectFn=Mg,this._overrideRedirectResult=Sx}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)}async _openRedirect(e,n,i,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _O()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return XY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await GY();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){return t.unwrap()}function JY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t){return IO(t)}function eQ(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const r=e;r.resolver=new tQ(t,LG(t,e))}else if(i){const r=IO(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function IO(t){const{_tokenResponse:e}=t instanceof xn?t.customData:t;if(!e)return null;if(!(t instanceof xn)&&"temporaryProof"in e&&"phoneNumber"in e)return qs.credentialFromResult(t);const n=e.providerId;if(!n||n===Bc.PASSWORD)return null;let i;switch(n){case Bc.GOOGLE:i=Hi;break;case Bc.FACEBOOK:i=ji;break;case Bc.GITHUB:i=Wi;break;case Bc.TWITTER:i=qi;break;default:const{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:l}=e;return!o&&!s&&!r&&!a?null:a?n.startsWith("saml.")?$l._create(n,a):rr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:r,accessToken:o}):new pl(n).credential({idToken:r,accessToken:o,rawNonce:l})}return t instanceof xn?i.credentialFromError(t):i.credentialFromResult(t)}function An(t,e){return e.catch(n=>{throw n instanceof xn&&eQ(t,n),n}).then(n=>{const i=n.operationType,r=n.user;return{operationType:i,credential:ZY(n),additionalUserInfo:DG(n),user:Vg.getOrCreate(r)}})}async function x0(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>An(t,n.confirm(i))}}class tQ{constructor(e,n){this.resolver=n,this.auth=JY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return An(EO(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=class lu{constructor(e){this._delegate=e,this.multiFactor=FG(e)}static getOrCreate(e){return lu.USER_MAP.has(e)||lu.USER_MAP.set(e,new lu(e)),lu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return An(this.auth,K2(this._delegate,e))}async linkWithPhoneNumber(e,n){return x0(this.auth,gK(this._delegate,e,n))}async linkWithPopup(e){return An(this.auth,kK(this._delegate,e,co))}async linkWithRedirect(e){return await w0(pt(this.auth)),NK(this._delegate,e,co)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return An(this.auth,Y2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return x0(this.auth,vK(this._delegate,e,n))}reauthenticateWithPopup(e){return An(this.auth,IK(this._delegate,e,co))}async reauthenticateWithRedirect(e){return await w0(pt(this.auth)),DK(this._delegate,e,co)}sendEmailVerification(e){return wG(this._delegate,e)}async unlink(e){return await uG(this._delegate,e),this}updateEmail(e){return kG(this._delegate,e)}updatePassword(e){return TG(this._delegate,e)}updatePhoneNumber(e){return yK(this._delegate,e)}updateProfile(e){return IG(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return xG(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Vg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=B;class E0{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;Uc(i,"invalid-api-key",{appName:e.name}),Uc(i,"invalid-api-key",{appName:e.name});const r=typeof window<"u"?co:void 0;this._delegate=n.initialize({options:{persistence:nQ(i,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(tq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){B2(this._delegate,e,n)}applyActionCode(e){return pG(this._delegate,e)}checkActionCode(e){return X2(this._delegate,e)}confirmPasswordReset(e,n){return fG(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return An(this._delegate,J2(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _G(this._delegate,e)}isSignInWithEmailLink(e){return vG(this._delegate,e)}async getRedirectResult(){Uc(Dy(),this._delegate,"operation-not-supported-in-this-environment");const e=await MK(this._delegate,co);return e?An(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){$Y(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:r,error:o,complete:s}=JT(e,n,i);return this._delegate.onAuthStateChanged(r,o,s)}onIdTokenChanged(e,n,i){const{next:r,error:o,complete:s}=JT(e,n,i);return this._delegate.onIdTokenChanged(r,o,s)}sendSignInLinkToEmail(e,n){return gG(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Q2(this._delegate,e,n||void 0)}async setPersistence(e){YY(this._delegate,e);let n;switch(e){case Kn.SESSION:n=Do;break;case Kn.LOCAL:n=await Qn(Fl)._isAvailable()?Fl:Dg;break;case Kn.NONE:n=Vl;break;default:return Ht("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return An(this._delegate,cG(this._delegate))}signInWithCredential(e){return An(this._delegate,Rg(this._delegate,e))}signInWithCustomToken(e){return An(this._delegate,hG(this._delegate,e))}signInWithEmailAndPassword(e,n){return An(this._delegate,Z2(this._delegate,e,n))}signInWithEmailLink(e,n){return An(this._delegate,yG(this._delegate,e,n))}signInWithPhoneNumber(e,n){return x0(this._delegate,mK(this._delegate,e,n))}async signInWithPopup(e){return Uc(Dy(),this._delegate,"operation-not-supported-in-this-environment"),An(this._delegate,EK(this._delegate,e,co))}async signInWithRedirect(e){return Uc(Dy(),this._delegate,"operation-not-supported-in-this-environment"),await w0(this._delegate),RK(this._delegate,e,co)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return mG(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}E0.Persistence=Kn;function JT(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const r=i;return{next:s=>r(s&&Vg.getOrCreate(s)),error:e,complete:n}}function nQ(t,e){const n=QY(t,e);if(typeof self<"u"&&!n.includes(Fl)&&n.push(Fl),typeof window<"u")for(const i of[Dg,Do])n.includes(i)||n.push(i);return n.includes(Vl)||n.push(Vl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.providerId="phone",this._delegate=new qs(EO(kg.auth()))}static credential(e,n){return qs.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Rx.PHONE_SIGN_IN_METHOD=qs.PHONE_SIGN_IN_METHOD;Rx.PROVIDER_ID=qs.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ=B;class rQ{constructor(e,n,i=kg.app()){var r;iQ((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new fK(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ="auth-compat";function sQ(t){t.INTERNAL.registerComponent(new Mi(oQ,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new E0(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Aa.EMAIL_SIGNIN,PASSWORD_RESET:Aa.PASSWORD_RESET,RECOVER_EMAIL:Aa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Aa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Aa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Aa.VERIFY_EMAIL}},EmailAuthProvider:Go,FacebookAuthProvider:ji,GithubAuthProvider:Wi,GoogleAuthProvider:Hi,OAuthProvider:pl,SAMLAuthProvider:zp,PhoneAuthProvider:Rx,PhoneMultiFactorGenerator:vO,RecaptchaVerifier:rQ,TwitterAuthProvider:qi,Auth:E0,AuthCredential:fc,Error:xn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(FY,BY)}sQ(kg);var aQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Px=Px||{},ce=aQ||self;function $g(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function hh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lQ(t){return Object.prototype.hasOwnProperty.call(t,Oy)&&t[Oy]||(t[Oy]=++cQ)}var Oy="closure_uid_"+(1e9*Math.random()>>>0),cQ=0;function uQ(t,e,n){return t.call.apply(t.bind,arguments)}function dQ(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function hn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?hn=uQ:hn=dQ,hn.apply(null,arguments)}function df(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ko(){this.s=this.s,this.o=this.o}var hQ=0;Ko.prototype.s=!1;Ko.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hQ!=0)&&lQ(this)};Ko.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dx(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function ZT(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if($g(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var fQ=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch(n){}return t}();function _d(t){return/^[\s\xa0]*$/.test(t)}function Fg(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Gi(t){return Fg().indexOf(t)!=-1}function Ox(t){return Ox[" "](t),t}Ox[" "]=function(){};function pQ(t,e){var n=sX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mQ=Gi("Opera"),Bl=Gi("Trident")||Gi("MSIE"),TO=Gi("Edge"),I0=TO||Bl,SO=Gi("Gecko")&&!(Fg().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge"))&&!(Gi("Trident")||Gi("MSIE"))&&!Gi("Edge"),gQ=Fg().toLowerCase().indexOf("webkit")!=-1&&!Gi("Edge");function CO(){var t=ce.document;return t?t.documentMode:void 0}var k0;e:{var Ny="",Ly=function(){var t=Fg();if(SO)return/rv:([^\);]+)(\)|;)/.exec(t);if(TO)return/Edge\/([\d\.]+)/.exec(t);if(Bl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gQ)return/WebKit\/(\S+)/.exec(t);if(mQ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ly&&(Ny=Ly?Ly[1]:""),Bl){var My=CO();if(My!=null&&My>parseFloat(Ny)){k0=String(My);break e}}k0=Ny}var T0;if(ce.document&&Bl){var eS=CO();T0=eS||parseInt(k0,10)||void 0}else T0=void 0;var vQ=T0;function wd(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SO){e:{try{Ox(e.nodeName);var r=!0;break e}catch(o){}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wd.$.h.call(this)}}Kt(wd,fn);var yQ={2:"touch",3:"pen",4:"mouse"};wd.prototype.h=function(){wd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fh="closure_listenable_"+(1e6*Math.random()|0),bQ=0;function _Q(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++bQ,this.fa=this.ia=!1}function Bg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Nx(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function wQ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function AO(t){const e={};for(const n in t)e[n]=t[n];return e}const tS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RO(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<tS.length;o++)n=tS[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function zg(t){this.src=t,this.g={},this.h=0}zg.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=C0(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new _Q(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function S0(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=kO(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Bg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function C0(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Lx="closure_lm_"+(1e6*Math.random()|0),Vy={};function PO(t,e,n,i,r){if(i&&i.once)return OO(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)PO(t,e[o],n,i,r);return null}return n=$x(n),t&&t[fh]?t.O(e,n,hh(i)?!!i.capture:!!i,r):DO(t,e,n,!1,i,r)}function DO(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=hh(r)?!!r.capture:!!r,a=Vx(t);if(a||(t[Lx]=a=new zg(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=xQ(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)fQ||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(LO(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xQ(){function t(n){return e.call(t.src,t.listener,n)}const e=EQ;return t}function OO(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)OO(t,e[o],n,i,r);return null}return n=$x(n),t&&t[fh]?t.P(e,n,hh(i)?!!i.capture:!!i,r):DO(t,e,n,!0,i,r)}function NO(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)NO(t,e[o],n,i,r);else i=hh(i)?!!i.capture:!!i,n=$x(n),t&&t[fh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=C0(o,n,i,r),-1<n&&(Bg(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vx(t))&&(e=t.g[e.toString()],t=-1,e&&(t=C0(e,n,i,r)),(n=-1<t?e[t]:null)&&Mx(n))}function Mx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fh])S0(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(LO(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Vx(e))?(S0(n,t),n.h==0&&(n.src=null,e[Lx]=null)):Bg(t)}}}function LO(t){return t in Vy?Vy[t]:Vy[t]="on"+t}function EQ(t,e){if(t.fa)t=!0;else{e=new wd(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Mx(t),t=n.call(i,e)}return t}function Vx(t){return t=t[Lx],t instanceof zg?t:null}var $y="__closure_events_fn_"+(1e9*Math.random()>>>0);function $x(t){return typeof t=="function"?t:(t[$y]||(t[$y]=function(e){return t.handleEvent(e)}),t[$y])}function Wt(){Ko.call(this),this.i=new zg(this),this.S=this,this.J=null}Kt(Wt,Ko);Wt.prototype[fh]=!0;Wt.prototype.removeEventListener=function(t,e,n,i){NO(this,t,e,n,i)};function rn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var r=e;e=new fn(i,t),RO(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=hf(s,i,!0,e)&&r}if(s=e.g=t,r=hf(s,i,!0,e)&&r,r=hf(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=hf(s,i,!1,e)&&r}Wt.prototype.N=function(){if(Wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Bg(n[i]);delete t.g[e],t.h--}}this.J=null};Wt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Wt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function hf(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&S0(t.i,s),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Fx=ce.JSON.stringify;class IQ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kQ(){var t=Bx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class TQ{constructor(){this.h=this.g=null}add(e,n){const i=MO.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var MO=new IQ(()=>new SQ,t=>t.reset());class SQ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CQ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function AQ(t){ce.setTimeout(()=>{throw t},0)}let xd,Ed=!1,Bx=new TQ,VO=()=>{const t=ce.Promise.resolve(void 0);xd=()=>{t.then(RQ)}};var RQ=()=>{for(var t;t=kQ();){try{t.h.call(t.g)}catch(n){AQ(n)}var e=MO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ed=!1};function Ug(t,e){Wt.call(this),this.h=t||1,this.g=e||ce,this.j=hn(this.qb,this),this.l=Date.now()}Kt(Ug,Wt);K=Ug.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(zx(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}K.N=function(){Ug.$.N.call(this),zx(this),delete this.g};function Ux(t,e,n){if(typeof t=="function")n&&(t=hn(t,n));else if(t&&typeof t.handleEvent=="function")t=hn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function $O(t){t.g=Ux(()=>{t.g=null,t.i&&(t.i=!1,$O(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PQ extends Ko{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$O(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Id(t){Ko.call(this),this.h=t,this.g={}}Kt(Id,Ko);var nS=[];function FO(t,e,n,i){Array.isArray(n)||(n&&(nS[0]=n.toString()),n=nS);for(var r=0;r<n.length;r++){var o=PO(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function BO(t){Nx(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mx(e)},t),t.g={}}Id.prototype.N=function(){Id.$.N.call(this),BO(this)};Id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jg(){this.g=!0}jg.prototype.Ea=function(){this.g=!1};function DQ(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s})}function OQ(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s})}function il(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+LQ(t,n)+(i?" "+i:"")})}function NQ(t,e){t.info(function(){return"TIMEOUT: "+e})}jg.prototype.info=function(){};function LQ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Fx(n)}catch(a){return e}}var va={},iS=null;function Hg(){return iS=iS||new Wt}va.Ta="serverreachability";function zO(t){fn.call(this,va.Ta,t)}Kt(zO,fn);function kd(t){const e=Hg();rn(e,new zO(e))}va.STAT_EVENT="statevent";function UO(t,e){fn.call(this,va.STAT_EVENT,t),this.stat=e}Kt(UO,fn);function bn(t){const e=Hg();rn(e,new UO(e,t))}va.Ua="timingevent";function jO(t,e){fn.call(this,va.Ua,t),this.size=e}Kt(jO,fn);function ph(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Wg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jx(){}jx.prototype.h=null;function rS(t){return t.h||(t.h=t.i())}function WO(){}var mh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hx(){fn.call(this,"d")}Kt(Hx,fn);function Wx(){fn.call(this,"c")}Kt(Wx,fn);var A0;function qg(){}Kt(qg,jx);qg.prototype.g=function(){return new XMLHttpRequest};qg.prototype.i=function(){return{}};A0=new qg;function gh(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Id(this),this.P=MQ,t=I0?125:void 0,this.V=new Ug(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qO}function qO(){this.i=null,this.g="",this.h=!1}var MQ=45e3,GO={},R0={};K=gh.prototype;K.setTimeout=function(t){this.P=t};function P0(t,e,n){t.L=1,t.A=Kg(Nr(e)),t.u=n,t.S=!0,KO(t,null)}function KO(t,e){t.G=Date.now(),vh(t),t.B=Nr(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),nN(n.i,"t",i),t.o=0,n=t.l.J,t.h=new qO,t.g=EN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new PQ(hn(t.Pa,t,t.g),t.O)),FO(t.U,t.g,"readystatechange",t.nb),e=t.I?AO(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),kd(),DQ(t.j,t.v,t.B,t.m,t.W,t.u)}K.nb=function(t){t=t.target;const e=this.M;e&&Qi(t)==3?e.l():this.Pa(t)};K.Pa=function(t){try{if(t==this.g)e:{const u=Qi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||I0||this.g&&(this.h.h||this.g.ja()||lS(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?kd(3):kd(2)),Gg(this);var n=this.g.da();this.ca=n;t:if(YO(this)){var i=lS(this.g);t="";var r=i.length,o=Qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Su(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,OQ(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_d(a)){var c=a;break t}}c=null}if(n=c)il(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,D0(this,n);else{this.i=!1,this.s=3,bn(12),xs(this),Su(this);break e}}this.S?(QO(this,u,s),I0&&this.i&&u==3&&(FO(this.U,this.V,"tick",this.mb),this.V.start())):(il(this.j,this.m,s,null),D0(this,s)),u==4&&xs(this),this.i&&!this.J&&(u==4?bN(this.l,this):(this.i=!1,vh(this)))}else iX(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),xs(this),Su(this)}}}catch(u){}finally{}};function YO(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function QO(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=VQ(t,n),r==R0){e==4&&(t.s=4,bn(14),i=!1),il(t.j,t.m,null,"[Incomplete Response]");break}else if(r==GO){t.s=4,bn(15),il(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else il(t.j,t.m,r,null),D0(t,r);YO(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xx(e),e.M=!0,bn(11))):(il(t.j,t.m,n,"[Invalid Chunked Response]"),xs(t),Su(t))}K.mb=function(){if(this.g){var t=Qi(this.g),e=this.g.ja();this.o<e.length&&(Gg(this),QO(this,t,e),this.i&&t!=4&&vh(this))}};function VQ(t,e){var n=t.o,i=e.indexOf("\n",n);return i==-1?R0:(n=Number(e.substring(n,i)),isNaN(n)?GO:(i+=1,i+n>e.length?R0:(e=e.slice(i,i+n),t.o=i+n,e)))}K.cancel=function(){this.J=!0,xs(this)};function vh(t){t.Y=Date.now()+t.P,XO(t,t.P)}function XO(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ph(hn(t.lb,t),e)}function Gg(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}K.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(NQ(this.j,this.B),this.L!=2&&(kd(),bn(17)),xs(this),this.s=2,Su(this)):XO(this,this.Y-t)};function Su(t){t.l.H==0||t.J||bN(t.l,t)}function xs(t){Gg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zx(t.V),BO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function D0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||O0(n.i,t))){if(!t.K&&O0(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gp(n),Jg(n);else break e;Qx(n),bn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ph(hn(n.ib,n),6e3));if(1>=oN(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Es(n,11)}else if((t.K||n.g==t)&&Gp(n),!_d(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(qx(o,o.h),o.h=null))}if(i.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Ye(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=xN(i,i.J?i.pa:null,i.Y),s.K){sN(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.C&&(Gg(a),vh(a)),i.g=s}else vN(i);0<n.j.length&&Zg(n)}else c[0]!="stop"&&c[0]!="close"||Es(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Es(n,7):Yx(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}kd(4)}catch(c){}}function $Q(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($g(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function FQ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($g(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function JO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($g(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FQ(t),i=$Q(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var ZO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Os(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Os){this.h=t.h,Wp(this,t.j),this.s=t.s,this.g=t.g,qp(this,t.m),this.l=t.l;var e=t.i,n=new Td;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oS(this,n),this.o=t.o}else t&&(e=String(t).match(ZO))?(this.h=!1,Wp(this,e[1]||"",!0),this.s=cu(e[2]||""),this.g=cu(e[3]||"",!0),qp(this,e[4]),this.l=cu(e[5]||"",!0),oS(this,e[6]||"",!0),this.o=cu(e[7]||"")):(this.h=!1,this.i=new Td(null,this.h))}Os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uu(e,sS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(uu(e,sS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(uu(n,n.charAt(0)=="/"?jQ:UQ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uu(n,WQ)),t.join("")};function Nr(t){return new Os(t)}function Wp(t,e,n){t.j=n?cu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oS(t,e,n){e instanceof Td?(t.i=e,qQ(t.i,t.h)):(n||(e=uu(e,HQ)),t.i=new Td(e,t.h))}function Ye(t,e,n){t.i.set(e,n)}function Kg(t){return Ye(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sS=/[#\/\?@]/g,UQ=/[#\?:]/g,jQ=/[#\?]/g,HQ=/[#\?@]/g,WQ=/#/g;function Td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yo(t){t.g||(t.g=new Map,t.h=0,t.i&&BQ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=Td.prototype;K.add=function(t,e){Yo(this),this.i=null,t=mc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eN(t,e){Yo(t),e=mc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tN(t,e){return Yo(t),e=mc(t,e),t.g.has(e)}K.forEach=function(t,e){Yo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};K.ta=function(){Yo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};K.Z=function(t){Yo(this);let e=[];if(typeof t=="string")tN(this,t)&&(e=e.concat(this.g.get(mc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return Yo(this),this.i=null,t=mc(this,t),tN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function nN(t,e,n){eN(t,e),0<n.length&&(t.i=null,t.g.set(mc(t,e),Dx(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function mc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qQ(t,e){e&&!t.j&&(Yo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(eN(this,i),nN(this,r,n))},t)),t.j=e}var GQ=class{constructor(t,e){this.g=t,this.map=e}};function iN(t){this.l=t||KQ,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KQ=10;function rN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oN(t){return t.h?1:t.g?t.g.size:0}function O0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qx(t,e){t.g?t.g.add(e):t.h=e}function sN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iN.prototype.cancel=function(){if(this.i=aN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dx(t.i)}var YQ=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function QQ(){this.g=new YQ}function XQ(t,e,n){const i=n||"";try{JO(t,function(r,o){let s=r;hh(r)&&(s=Fx(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function JQ(t,e){const n=new jg;if(ce.Image){const i=new Image;i.onload=df(ff,n,i,"TestLoadImage: loaded",!0,e),i.onerror=df(ff,n,i,"TestLoadImage: error",!1,e),i.onabort=df(ff,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=df(ff,n,i,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ff(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function Yg(t){this.l=t.ec||null,this.j=t.ob||!1}Kt(Yg,jx);Yg.prototype.g=function(){return new Qg(this.l,this.j)};Yg.prototype.i=function(t){return function(){return t}}({});function Qg(t,e){Wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt(Qg,Wt);var Gx=0;K=Qg.prototype;K.open=function(t,e){if(this.readyState!=Gx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sd(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yh(this)),this.readyState=Gx};K.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sd(this)),this.g&&(this.readyState=3,Sd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}K.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yh(this):Sd(this),this.readyState==3&&lN(this)}};K.Za=function(t){this.g&&(this.response=this.responseText=t,yh(this))};K.Ya=function(t){this.g&&(this.response=t,yh(this))};K.ka=function(){this.g&&yh(this)};function yh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sd(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")};function Sd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZQ=ce.JSON.parse;function mt(t){Wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cN,this.L=this.M=!1}Kt(mt,Wt);var cN="",eX=/^https?$/i,tX=["POST","PUT"];K=mt.prototype;K.Oa=function(t){this.M=t};K.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():A0.g(),this.C=this.u?rS(this.u):rS(A0),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){aS(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ce.FormData&&t instanceof ce.FormData,!(0<=kO(tX,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hN(this),0<this.B&&((this.L=nX(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=Ux(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){aS(this,o)}};function nX(t){return Bl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.ua=function(){typeof Px<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))};function aS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uN(t),Xg(t)}function uN(t){t.F||(t.F=!0,rn(t,"complete"),rn(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),Xg(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xg(this,!0)),mt.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?dN(this):this.kb())};K.kb=function(){dN(this)};function dN(t){if(t.h&&typeof Px<"u"&&(!t.C[1]||Qi(t)!=4||t.da()!=2)){if(t.v&&Qi(t)==4)Ux(t.La,0,t);else if(rn(t,"readystatechange"),Qi(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(ZO)[1]||null;!r&&ce.self&&ce.self.location&&(r=ce.self.location.protocol.slice(0,-1)),i=!eX.test(r?r.toLowerCase():"")}n=i}if(n)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var o=2<Qi(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.da()+"]",uN(t)}}finally{Xg(t)}}}}function Xg(t,e){if(t.g){hN(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function hN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}K.isActive=function(){return!!this.g};function Qi(t){return t.g?t.g.readyState:0}K.da=function(){try{return 2<Qi(this)?this.g.status:-1}catch(t){return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}};K.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZQ(e)}};function lS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function iX(t){const e={};t=(t.g&&2<=Qi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(_d(t[i]))continue;var n=CQ(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}wQ(e,function(i){return i.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fN(t){let e="";return Nx(t,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function Kx(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=fN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ye(t,e,n))}function jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pN(t){this.Ga=0,this.j=[],this.l=new jg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jc("baseRetryDelayMs",5e3,t),this.hb=jc("retryDelaySeedMs",1e4,t),this.eb=jc("forwardChannelMaxRetries",2,t),this.xa=jc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iN(t&&t.concurrentRequestLimit),this.Ja=new QQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=pN.prototype;K.ra=8;K.H=1;function Yx(t){if(mN(t),t.H==3){var e=t.W++,n=Nr(t.I);if(Ye(n,"SID",t.K),Ye(n,"RID",e),Ye(n,"TYPE","terminate"),bh(t,n),e=new gh(t,t.l,e),e.L=2,e.A=Kg(Nr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch(i){}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=EN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vh(e)}wN(t)}function Jg(t){t.g&&(Xx(t),t.g.cancel(),t.g=null)}function mN(t){Jg(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Gp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Zg(t){if(!rN(t.i)&&!t.m){t.m=!0;var e=t.Na;xd||VO(),Ed||(xd(),Ed=!0),Bx.add(e,t),t.C=0}}function rX(t,e){return oN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ph(hn(t.Na,t,e),_N(t,t.C)),t.C++,!0)}K.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new gh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=AO(o),RO(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gN(this,r,e),n=Nr(this.I),Ye(n,"RID",t),Ye(n,"CVER",22),this.F&&Ye(n,"X-HTTP-Session-Id",this.F),bh(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(fN(o)))+"&"+e:this.o&&Kx(n,this.o,o)),qx(this.i,r),this.bb&&Ye(n,"TYPE","init"),this.P?(Ye(n,"$req",e),Ye(n,"SID","null"),r.aa=!0,P0(r,n,null)):P0(r,n,e),this.H=2}}else this.H==3&&(t?cS(this,t):this.j.length==0||rN(this.i)||cS(this))};function cS(t,e){var n;e?n=e.m:n=t.W++;const i=Nr(t.I);Ye(i,"SID",t.K),Ye(i,"RID",n),Ye(i,"AID",t.V),bh(t,i),t.o&&t.s&&Kx(i,t.o,t.s),n=new gh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qx(t.i,n),P0(n,i,e)}function bh(t,e){t.na&&Nx(t.na,function(n,i){Ye(e,i,n)}),t.h&&JO({},function(n,i){Ye(e,i,n)})}function gN(t,e,n){n=Math.min(t.j.length,n);var i=t.h?hn(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{XQ(u,s,"req"+c+"_")}catch(d){i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function vN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xd||VO(),Ed||(xd(),Ed=!0),Bx.add(e,t),t.A=0}}function Qx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ph(hn(t.Ma,t),_N(t,t.A)),t.A++,!0)}K.Ma=function(){if(this.u=null,yN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ph(hn(this.jb,this),t)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),Jg(this),yN(this))};function Xx(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function yN(t){t.g=new gh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Nr(t.wa);Ye(e,"RID","rpc"),Ye(e,"SID",t.K),Ye(e,"AID",t.V),Ye(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ye(e,"TO",t.qa),Ye(e,"TYPE","xmlhttp"),bh(t,e),t.o&&t.s&&Kx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Kg(Nr(e)),n.u=null,n.S=!0,KO(n,t)}K.ib=function(){this.v!=null&&(this.v=null,Jg(this),Qx(this),bn(19))};function Gp(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function bN(t,e){var n=null;if(t.g==e){Gp(t),Xx(t),t.g=null;var i=2}else if(O0(t.i,e))n=e.F,sN(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Hg(),rn(i,new jO(i,n)),Zg(t)}else vN(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&rX(t,e)||i==2&&Qx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Es(t,5);break;case 4:Es(t,10);break;case 3:Es(t,6);break;default:Es(t,2)}}}function _N(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Es(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=hn(t.pb,t);n||(n=new Os("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Wp(n,"https"),Kg(n)),JQ(n.toString(),i)}else bn(2);t.H=0,t.h&&t.h.za(e),wN(t),mN(t)}K.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))};function wN(t){if(t.H=0,t.ma=[],t.h){const e=aN(t.i);(e.length!=0||t.j.length!=0)&&(ZT(t.ma,e),ZT(t.ma,t.j),t.i.i.length=0,Dx(t.j),t.j.length=0),t.h.ya()}}function xN(t,e,n){var i=n instanceof Os?Nr(n):new Os(n);if(i.g!="")e&&(i.g=e+"."+i.g),qp(i,i.m);else{var r=ce.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Os(null);i&&Wp(o,i),e&&(o.g=e),r&&qp(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ye(i,n,e),Ye(i,"VER",t.ra),bh(t,i),i}function EN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new mt(new Yg({ob:n})):new mt(t.va),e.Oa(t.J),e}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function IN(){}K=IN.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function Kp(){if(Bl&&!(10<=Number(vQ)))throw Error("Environmental error: no available transport.")}Kp.prototype.g=function(t,e){return new ti(t,e)};function ti(t,e){Wt.call(this),this.g=new pN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_d(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_d(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gc(this)}Kt(ti,Wt);ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=xN(t,null,t.Y),Zg(t)};ti.prototype.close=function(){Yx(this.g)};ti.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fx(t),t=n);e.j.push(new GQ(e.fb++,t)),e.H==3&&Zg(e)};ti.prototype.N=function(){this.g.h=null,delete this.j,Yx(this.g),delete this.g,ti.$.N.call(this)};function kN(t){Hx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Kt(kN,Hx);function TN(){Wx.call(this),this.status=1}Kt(TN,Wx);function gc(t){this.g=t}Kt(gc,IN);gc.prototype.Ba=function(){rn(this.g,"a")};gc.prototype.Aa=function(t){rn(this.g,new kN(t))};gc.prototype.za=function(t){rn(this.g,new TN)};gc.prototype.ya=function(){rn(this.g,"b")};function oX(){this.blockSize=-1}function $i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Kt($i,oX);$i.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Fy(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}$i.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)Fy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){Fy(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){Fy(this,i),r=0;break}}this.h=r,this.i+=e};$i.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Fe(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var sX={};function Jx(t){return-128<=t&&128>t?pQ(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Xi(t){if(isNaN(t)||!isFinite(t))return gl;if(0>t)return Jt(Xi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=N0;return new Fe(e,0)}function SN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Jt(SN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xi(Math.pow(e,8)),i=gl,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Xi(Math.pow(e,o)),i=i.R(o).add(Xi(s))):(i=i.R(n),i=i.add(Xi(s)))}return i}var N0=4294967296,gl=Jx(0),L0=Jx(1),uS=Jx(16777216);K=Fe.prototype;K.ea=function(){if(hi(this))return-Jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:N0+i)*e,e*=N0}return t};K.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(hi(this))return"-"+Jt(this).toString(t);for(var e=Xi(Math.pow(t,6)),n=this,i="";;){var r=Qp(n,e).g;n=Yp(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,gr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};K.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hi(t){return t.h==-1}K.X=function(t){return t=Yp(this,t),hi(t)?-1:gr(t)?0:1};function Jt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Fe(n,~t.h).add(L0)}K.abs=function(){return hi(this)?Jt(this):this};K.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Yp(t,e){return t.add(Jt(e))}K.R=function(t){if(gr(this)||gr(t))return gl;if(hi(this))return hi(t)?Jt(this).R(Jt(t)):Jt(Jt(this).R(t));if(hi(t))return Jt(this.R(Jt(t)));if(0>this.X(uS)&&0>t.X(uS))return Xi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=s*l,pf(n,2*i+2*r),n[2*i+2*r+1]+=o*l,pf(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,pf(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,pf(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Fe(n,0)};function pf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hc(t,e){this.g=t,this.h=e}function Qp(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new Hc(gl,gl);if(hi(t))return e=Qp(Jt(t),e),new Hc(Jt(e.g),Jt(e.h));if(hi(e))return e=Qp(t,Jt(e)),new Hc(Jt(e.g),e.h);if(30<t.g.length){if(hi(t)||hi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=L0,i=e;0>=i.X(t);)n=dS(n),i=dS(i);var r=Ra(n,1),o=Ra(i,1);for(i=Ra(i,2),n=Ra(n,2);!gr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Ra(i,1),n=Ra(n,1)}return e=Yp(t,r.R(e)),new Hc(r,e)}for(r=gl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Xi(n),s=o.R(e);hi(s)||0<s.X(t);)n-=i,o=Xi(n),s=o.R(e);gr(o)&&(o=L0),r=r.add(o),t=Yp(t,s)}return new Hc(r,t)}K.gb=function(t){return Qp(this,t).h};K.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Fe(n,this.h&t.h)};K.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Fe(n,this.h|t.h)};K.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Fe(n,this.h^t.h)};function dS(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Fe(n,t.h)}function Ra(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(r,t.h)}Kp.prototype.createWebChannel=Kp.prototype.g;ti.prototype.send=ti.prototype.u;ti.prototype.open=ti.prototype.m;ti.prototype.close=ti.prototype.close;Wg.NO_ERROR=0;Wg.TIMEOUT=8;Wg.HTTP_ERROR=6;HO.COMPLETE="complete";WO.EventType=mh;mh.OPEN="a";mh.CLOSE="b";mh.ERROR="c";mh.MESSAGE="d";Wt.prototype.listen=Wt.prototype.O;mt.prototype.listenOnce=mt.prototype.P;mt.prototype.getLastError=mt.prototype.Sa;mt.prototype.getLastErrorCode=mt.prototype.Ia;mt.prototype.getStatus=mt.prototype.da;mt.prototype.getResponseJson=mt.prototype.Wa;mt.prototype.getResponseText=mt.prototype.ja;mt.prototype.send=mt.prototype.ha;mt.prototype.setWithCredentials=mt.prototype.Oa;$i.prototype.digest=$i.prototype.l;$i.prototype.reset=$i.prototype.reset;$i.prototype.update=$i.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Xi;Fe.fromString=SN;var aX=function(){return new Kp},lX=function(){return Hg()},By=Wg,cX=HO,uX=va,hS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mf=WO,dX=mt,hX=$i,vl=Fe,fX={};const fS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new sh("@firebase/firestore");function Fa(){return Oo.logLevel}function pX(t){Oo.setLogLevel(t)}function M(t,...e){if(Oo.logLevel<=ye.DEBUG){const n=e.map(Zx);Oo.debug("Firestore (".concat(vc,"): ").concat(t),...n)}}function xt(t,...e){if(Oo.logLevel<=ye.ERROR){const n=e.map(Zx);Oo.error("Firestore (".concat(vc,"): ").concat(t),...n)}}function Fi(t,...e){if(Oo.logLevel<=ye.WARN){const n=e.map(Zx);Oo.warn("Firestore (".concat(vc,"): ").concat(t),...n)}}function Zx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e="FIRESTORE (".concat(vc,") INTERNAL ASSERTION FAILED: ")+t;throw xt(e),new Error(e)}function te(t,e){t||Q()}function mX(t,e){t||Q()}function G(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class gX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class vX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yX{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(te(typeof i.accessToken=="string"),new CN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new $t(e)}}class bX{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _X{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new bX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&M("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(o.error.message));const s=o.token!==this.R;return this.R=o.token,M("FirebaseAppCheckTokenProvider","Received ".concat(s?"new":"existing"," token.")),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.R=n.token,new wX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=EX(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function he(t,e){return t<e?-1:t>e?1:0}function zl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function RN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new nt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new nt(0,0))}static max(){return new ie(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,i){n===void 0?n=0:n>e.length&&Q(),i===void 0?i=e.length-n:i>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Cd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Cd{construct(e,n,i){return new Ae(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new L(A.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));n.push(...i.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const IX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Cd{construct(e,n,i){return new et(e,n,i)}static isValidIdentifier(e){return IX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new L(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new L(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(Ae.fromString(e))}static fromName(e){return new j(Ae.fromString(e).popFirst(5))}static empty(){return new j(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}}function M0(t){return t.fields.find(e=>e.kind===2)}function as(t){return t.fields.filter(e=>e.kind!==2)}Xp.UNKNOWN_ID=-1;class zf{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ad{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ad(0,ni.min())}}function PN(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new ni(r,j.empty(),e)}function DN(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ni(ie.min(),j.empty(),-1)}static max(){return new ni(ie.max(),j.empty(),-1)}}function eE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==ON)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,i)=>{n(e)})}static reject(e){return new T((n,i)=>{i(e)})}static waitFor(e){return new T((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(e){let n=T.resolve(!1);for(const i of e)n=n.next(r=>r?T.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new T((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new T((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Cu(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=tE(i.target.error);this.V.reject(new Cu(e,r))}}static open(e,n,i,r){try{return new ev(n,e.transaction(r,i))}catch(o){throw new Cu(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new TX(n)}}class Si{constructor(e,n,i){this.name=e,this.version=n,this.p=i,Si.S(lt())===12.2&&xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),us(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!dd())return!1;if(Si.C())return!0;const e=lt(),n=Si.S(e),i=0<n&&n<10,r=Si.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=fX)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const s=o.target.result;n(s)},r.onblocked=()=>{i(new Cu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const s=o.target.error;s.name==="VersionError"?i(new L(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new L(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Cu(e,s))},r.onupgradeneeded=o=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=ev.open(this.db,e,o?"readonly":"readwrite",i),l=r(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),T.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(M("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class kX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return us(this.k.delete())}}class Cu extends L{constructor(e,n){super(A.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)),this.name="IndexedDbTransactionError"}}function Xo(t){return t.name==="IndexedDbTransactionError"}class TX{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(M("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),us(i)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),us(this.store.add(e))}get(e){return us(this.store.get(e)).next(n=>(n===void 0&&(n=null),M("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),us(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),us(this.store.count())}W(e,n){const i=this.options(e,n);if(i.index||typeof this.store.getAll!="function"){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new T((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new T((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,n){M("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.G(r,n)}Z(e){const n=this.cursor({});return new T((i,r)=>{n.onerror=o=>{const s=tE(o.target.error);r(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,n){const i=[];return new T((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new kX(a),c=n(a.primaryKey,a.value,l);if(c instanceof T){const u=c.catch(d=>(l.done(),T.reject(d)));i.push(u)}l.isDone?r():l.$===null?a.continue():a.continue(l.$)}}).next(()=>T.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function us(t){return new T((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=tE(i.target.error);n(r)}})}let pS=!1;function tE(t){const e=Si.S(lt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return pS||(pS=!0,setTimeout(()=>{throw i},0)),i}}return t}class SX{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){M("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{M("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(n){Xo(n)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Qo(n)}await this.ee(6e4)})}}class CX{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const i=new Set;let r=n,o=!0;return T.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return M("IndexBackiller","Processing collection: ".concat(s)),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(M("IndexBackiller","Updating offset: ".concat(a)),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,o)=>{const s=DN(o);eE(s,i)>0&&(i=s)}),new ni(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Nn._e=-1;function _h(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function LN(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mS(e)),e=AX(t.get(n),e);return mS(e)}function AX(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function mS(t){return t+""}function Ji(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),Ae.emptyPath();const n=e-2,i=[];let r="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&Q(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:Q()}o=s+2}return new Ae(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e){return[t,En(e)]}function MN(t,e,n){return[t,En(e),n]}const RX={},PX=["prefixPath","collectionGroup","readTime","documentId"],DX=["prefixPath","collectionGroup","documentId"],OX=["collectionGroup","readTime","prefixPath","documentId"],NX=["canonicalId","targetId"],LX=["targetId","path"],MX=["path","targetId"],VX=["collectionId","parent"],$X=["indexId","uid"],FX=["uid","sequenceNumber"],BX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zX=["indexId","uid","orderedDocumentKey"],UX=["userId","collectionPath","documentId"],jX=["userId","collectionPath","largestBatchId"],HX=["userId","collectionGroup","largestBatchId"],VN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WX=[...VN,"documentOverlays"],$N=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FN=$N,qX=[...FN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends NN{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Yt(t,e){const n=G(t);return Si.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ct=class $0{constructor(e,n){this.comparator=e,this.root=n||Eo.EMPTY}insert(e,n){return new $0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(e){return new $0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push("".concat(n,":").concat(i)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}},gf=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Eo=class ar{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:ar.RED,this.left=r!=null?r:ar.EMPTY,this.right=o!=null?o:ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new ar(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1;Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Eo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yS(this.data.getIterator())}getIteratorFrom(e){return new yS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class yS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new ze(et.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zN("Invalid base64 string: "+o):o}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const KX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(t){if(te(!!t),typeof t=="string"){let e=0;const n=KX.exec(t);if(te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nE(t){const e=t.mapValue.fields.__previous_value__;return tv(e)?nE(e):e}function Pd(t){const e=No(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e,n,i,r,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Mo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jf={nullValue:"NULL_VALUE"};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:UN(t)?9007199254740991:10:Q()}function or(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=No(r.timestampValue),a=No(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Lo(r.bytesValue).isEqual(Lo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return ht(r.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ht(r.integerValue)===ht(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=ht(r.doubleValue),a=ht(o.doubleValue);return s===a?Rd(s)===Rd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(vS(s)!==vS(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!or(s[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function Dd(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Ks(t),i=Ks(e);if(n!==i)return he(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ht(o.integerValue||o.doubleValue),l=ht(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return bS(t.timestampValue,e.timestampValue);case 4:return bS(Pd(t),Pd(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Lo(o),l=Lo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=he(a[c],l[c]);if(u!==0)return u}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=he(ht(o.latitude),ht(s.latitude));return a!==0?a:he(ht(o.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Vo(a[c],l[c]);if(u)return u}return he(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uo.mapValue&&s===uo.mapValue)return 0;if(o===uo.mapValue)return 1;if(s===uo.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=he(l[d],u[d]);if(h!==0)return h;const f=Vo(a[l[d]],c[u[d]]);if(f!==0)return f}return he(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Q()}}function bS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=No(t),i=No(e),r=he(n.seconds,i.seconds);return r!==0?r:he(n.nanos,i.nanos)}function Ul(t){return F0(t)}function F0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=No(n);return"time(".concat(i.seconds,",").concat(i.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return"geo(".concat(n.latitude,",").concat(n.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=F0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+="".concat(s,":").concat(F0(n.fields[s]));return r+"}"}(t.mapValue):Q()}function Ys(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function B0(t){return!!t&&"integerValue"in t}function Od(t){return!!t&&"arrayValue"in t}function _S(t){return!!t&&"nullValue"in t}function wS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function Au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ya(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Au(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function QX(t){return"nullValue"in t?jf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ys(Mo.empty(),j.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Q()}function XX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ys(Mo.empty(),j.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?uo:Q()}function xS(t,e){const n=Vo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ES(t,e){const n=Vo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=et.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=Au(s):r.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Hf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ya(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new en(Au(this.value))}}function jN(t){const e=[];return ya(t.fields,(n,i)=>{const r=new et([n]);if(Hf(i)){const o=jN(i.mapValue).fields;if(o.length===0)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,ie.min(),ie.min(),ie.min(),en.empty(),0)}static newFoundDocument(e,n,i,r){return new Qe(e,1,n,ie.min(),i,r,0)}static newNoDocument(e,n){return new Qe(e,2,n,ie.min(),ie.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,ie.min(),ie.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.position=e,this.inclusive=n}}function IS(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(o.field.isKeyField()?i=j.comparator(j.fromName(s.referenceValue),n.key):i=Vo(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function kS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function JX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{}class Ee extends HN{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ZX(e,n,i):n==="array-contains"?new nJ(e,i):n==="in"?new QN(e,i):n==="not-in"?new iJ(e,i):n==="array-contains-any"?new rJ(e,i):new Ee(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new eJ(e,i):new tJ(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends HN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ve(e,n)}matches(e){return jl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function jl(t){return t.op==="and"}function z0(t){return t.op==="or"}function iE(t){return WN(t)&&jl(t)}function WN(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function U0(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Ul(t.value);if(iE(t))return t.filters.map(e=>U0(e)).join(",");{const e=t.filters.map(n=>U0(n)).join(",");return"".concat(t.op,"(").concat(e,")")}}function qN(t,e){return t instanceof Ee?function(i,r){return r instanceof Ee&&i.op===r.op&&i.field.isEqual(r.field)&&or(i.value,r.value)}(t,e):t instanceof Ve?function(i,r){return r instanceof Ve&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&qN(s,r.filters[a]),!0):!1}(t,e):void Q()}function GN(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function KN(t){return t instanceof Ee?function(n){return"".concat(n.field.canonicalString()," ").concat(n.op," ").concat(Ul(n.value))}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(KN).join(" ,")+"}"}(t):"Filter"}class ZX extends Ee{constructor(e,n,i){super(e,n,i),this.key=j.fromName(i.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class eJ extends Ee{constructor(e,n){super(e,"in",n),this.keys=YN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tJ extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=YN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>j.fromName(i.referenceValue))}class nJ extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Od(n)&&Dd(n.arrayValue,this.value)}}class QN extends Ee{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class iJ extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class rJ extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Dd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function j0(t,e=null,n=[],i=[],r=null,o=null,s=null){return new oJ(t,e,n,i,r,o,s)}function Qs(t){const e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>U0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ul(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ul(i)).join(",")),e.ce=n}return e.ce}function wh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kS(t.startAt,e.startAt)&&kS(t.endAt,e.endAt)}function Jp(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Zp(t,e){return t.filters.filter(n=>n instanceof Ee&&n.field.isEqual(e))}function TS(t,e,n){let i=jf,r=!0;for(const o of Zp(t,e)){let s=jf,a=!0;switch(o.op){case"<":case"<=":s=QX(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=jf}xS({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];xS({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function SS(t,e,n){let i=uo,r=!0;for(const o of Zp(t,e)){let s=uo,a=!0;switch(o.op){case">=":case">":s=XX(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uo}ES({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];ES({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function XN(t,e,n,i,r,o,s,a){return new jr(t,e,n,i,r,o,s,a)}function yc(t){return new jr(t)}function CS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rE(t){return t.collectionGroup!==null}function yl(t){const e=G(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ze(et.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Nd(o,i))}),n.has(et.keyField().canonicalString())||e.le.push(new Nd(et.keyField(),i))}return e.le}function In(t){const e=G(t);return e.he||(e.he=sJ(e,yl(t))),e.he}function sJ(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Nd(r.field,o)});const n=t.endAt?new $o(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new $o(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function H0(t,e){const n=t.filters.concat([e]);return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xh(t,e){return wh(In(t),In(e))&&t.limitType===e.limitType}function JN(t){return"".concat(Qs(In(t)),"|lt:").concat(t.limitType)}function Ba(t){return"Query(target=".concat(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=", filters: [".concat(n.filters.map(r=>KN(r)).join(", "),"]")),_h(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=", orderBy: [".concat(n.orderBy.map(r=>function(s){return"".concat(s.field.canonicalString()," (").concat(s.dir,")")}(r)).join(", "),"]")),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ul(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ul(r)).join(",")),"Target(".concat(i,")")}(In(t)),"; limitType=").concat(t.limitType,")")}function Eh(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):j.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of yl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,l){const c=IS(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,yl(i),r)||i.endAt&&!function(s,a,l){const c=IS(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,yl(i),r))}(t,e)}function ZN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eL(t){return(e,n)=>{let i=!1;for(const r of yl(t)){const o=aJ(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function aJ(t,e,n){const i=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Vo(l,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return BN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=new ct(j.comparator);function Mn(){return lJ}const tL=new ct(j.comparator);function du(...t){let e=tL;for(const n of t)e=e.insert(n.key,n);return e}function nL(t){let e=tL;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Zi(){return Ru()}function iL(){return Ru()}function Ru(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const cJ=new ct(j.comparator),uJ=new ze(j.comparator);function fe(...t){let e=uJ;for(const n of t)e=e.add(n);return e}const dJ=new ze(he);function oE(){return dJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function oL(t){return{integerValue:""+t}}function sL(t,e){return LN(e)?oL(e):rL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this._=void 0}}function hJ(t,e,n){return t instanceof Hl?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&tv(o)&&(o=nE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Xs?lL(t,e):t instanceof Js?cL(t,e):function(r,o){const s=aL(r,o),a=AS(s)+AS(r.Ie);return B0(s)&&B0(r.Ie)?oL(a):rL(r.serializer,a)}(t,e)}function fJ(t,e,n){return t instanceof Xs?lL(t,e):t instanceof Js?cL(t,e):n}function aL(t,e){return t instanceof Wl?function(i){return B0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Hl extends nv{}class Xs extends nv{constructor(e){super(),this.elements=e}}function lL(t,e){const n=uL(e);for(const i of t.elements)n.some(r=>or(r,i))||n.push(i);return{arrayValue:{values:n}}}class Js extends nv{constructor(e){super(),this.elements=e}}function cL(t,e){let n=uL(e);for(const i of t.elements)n=n.filter(r=>!or(r,i));return{arrayValue:{values:n}}}class Wl extends nv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function AS(t){return ht(t.integerValue||t.doubleValue)}function uL(t){return Od(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.field=e,this.transform=n}}function pJ(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Xs&&r instanceof Xs||i instanceof Js&&r instanceof Js?zl(i.elements,r.elements,or):i instanceof Wl&&r instanceof Wl?or(i.Ie,r.Ie):i instanceof Hl&&r instanceof Hl}(t.transform,e.transform)}class mJ{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iv{}function dL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _c(t.key,tt.none()):new bc(t.key,t.data,tt.none());{const n=t.data,i=en.empty();let r=new ze(et.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Hr(t.key,i,new Ln(r.toArray()),tt.none())}}function gJ(t,e,n){t instanceof bc?function(r,o,s){const a=r.value.clone(),l=PS(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(r,o,s){if(!Wf(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=PS(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(hL(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Pu(t,e,n,i){return t instanceof bc?function(o,s,a,l){if(!Wf(o.precondition,s))return a;const c=o.value.clone(),u=DS(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Hr?function(o,s,a,l){if(!Wf(o.precondition,s))return a;const c=DS(o.fieldTransforms,l,s),u=s.data;return u.setAll(hL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(o,s,a){return Wf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function vJ(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=aL(i.transform,r||null);o!=null&&(n===null&&(n=en.empty()),n.set(i.field,o))}return n||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zl(i,r,(o,s)=>pJ(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends iv{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hr extends iv{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function PS(t,e,n){const i=new Map;te(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,fJ(s,a,n[r]))}return i}function DS(t,e,n){const i=new Map;for(const r of t){const o=r.transform,s=n.data.field(r.field);i.set(r.field,hJ(o,s,e))}return i}class _c extends iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sE extends iv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&gJ(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Pu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=iL();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;const l=dL(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,i)=>RS(n,i))&&zl(this.baseMutations,e.baseMutations,(n,i)=>RS(n,i))}}class lE{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){te(e.mutations.length===i.length);let r=function(){return cJ}();const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new lE(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ce;function fL(t){switch(t){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function pL(t){if(t===void 0)return xt("GRPC error has no .code"),A.UNKNOWN;switch(t){case It.OK:return A.OK;case It.CANCELLED:return A.CANCELLED;case It.UNKNOWN:return A.UNKNOWN;case It.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case It.INTERNAL:return A.INTERNAL;case It.UNAVAILABLE:return A.UNAVAILABLE;case It.UNAUTHENTICATED:return A.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case It.NOT_FOUND:return A.NOT_FOUND;case It.ALREADY_EXISTS:return A.ALREADY_EXISTS;case It.PERMISSION_DENIED:return A.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case It.ABORTED:return A.ABORTED;case It.OUT_OF_RANGE:return A.OUT_OF_RANGE;case It.UNIMPLEMENTED:return A.UNIMPLEMENTED;case It.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(Ce=It||(It={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ=new vl([4294967295,4294967295],0);function OS(t){const e=mL().encode(t),n=new hX;return n.update(e),new Uint8Array(n.digest())}function NS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vl([n,i],0),new vl([r,o],0)]}class uE{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hu("Invalid padding: ".concat(n));if(i<0)throw new hu("Invalid hash count: ".concat(i));if(e.length>0&&this.hashCount===0)throw new hu("Invalid hash count: ".concat(i));if(e.length===0&&n!==0)throw new hu("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*e.length-n,this.Ee=vl.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(vl.fromNumber(i)));return r.compare(bJ)===1&&(r=new vl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=OS(e),[i,r]=NS(n);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new uE(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=OS(e),[i,r]=NS(n);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new kh(ie.min(),r,new ct(he),Mn(),fe())}}class Th{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Th(i,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}}class gL{constructor(e,n){this.targetId=e,this.fe=n}}class vL{constructor(e,n,i=Ot.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class LS{constructor(){this.ge=0,this.pe=VS(),this.ye=Ot.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fe(),n=fe(),i=fe();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q()}}),new Th(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=VS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,te(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _J{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mn(),this.Qe=MS(),this.Ke=new ct(he)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){const o=r.target;if(Jp(o))if(i===0){const s=new j(o.path);this.We(n,s,Qe.newNoDocument(s,ie.min()))}else te(i===1);else{const s=this.Ze(n);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let s,a;try{s=Lo(i).toUint8Array()}catch(l){if(l instanceof zN)return Fi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uE(s,r,o)}catch(l){return Fi(l instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(o.path.canonicalString());e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Jp(a.target)){const l=new j(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Qe.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=fe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new kh(e,n,this.Ke,this.qe,i);return this.qe=Mn(),this.Qe=MS(),this.Ke=new ct(he),r}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new LS,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ze(he),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new LS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function MS(){return new ct(j.comparator)}function VS(){return new ct(j.comparator)}const wJ={asc:"ASCENDING",desc:"DESCENDING"},xJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EJ={and:"AND",or:"OR"};class IJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W0(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function ql(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function yL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kJ(t,e){return ql(t,e.toTimestamp())}function Et(t){return te(!!t),ie.fromTimestamp(function(n){const i=No(n);return new nt(i.seconds,i.nanos)}(t))}function dE(t,e){return function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function bL(t){const e=Ae.fromString(t);return te(CL(e)),e}function Ld(t,e){return dE(t.databaseId,e.path)}function nr(t,e){const n=bL(e);if(n.get(1)!==t.databaseId.projectId)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(wL(n))}function q0(t,e){return dE(t.databaseId,e)}function _L(t){const e=bL(t);return e.length===4?Ae.emptyPath():wL(e)}function Md(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wL(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $S(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function xL(t,e,n){const i=nr(t,e.name),r=Et(e.updateTime),o=e.createTime?Et(e.createTime):ie.min(),s=new en({mapValue:{fields:e.fields}}),a=Qe.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function TJ(t,e){return"found"in e?function(i,r){te(!!r.found),r.found.name,r.found.updateTime;const o=nr(i,r.found.name),s=Et(r.found.updateTime),a=r.found.createTime?Et(r.found.createTime):ie.min(),l=new en({mapValue:{fields:r.found.fields}});return Qe.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(i,r){te(!!r.missing),te(!!r.readTime);const o=nr(i,r.missing),s=Et(r.readTime);return Qe.newNoDocument(o,s)}(t,e):Q()}function SJ(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(te(u===void 0||typeof u=="string"),Ot.fromBase64String(u||"")):(te(u===void 0||u instanceof Uint8Array),Ot.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?A.UNKNOWN:pL(c.code);return new L(u,c.message||"")}(s);n=new vL(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=nr(t,i.document.name),o=Et(i.document.updateTime),s=i.document.createTime?Et(i.document.createTime):ie.min(),a=new en({mapValue:{fields:i.document.fields}}),l=Qe.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new qf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=nr(t,i.document),o=i.readTime?Et(i.readTime):ie.min(),s=Qe.newNoDocument(r,o),a=i.removedTargetIds||[];n=new qf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=nr(t,i.document),o=i.removedTargetIds||[];n=new qf([],o,r,null)}else{if(!("filter"in e))return Q();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,s=new yJ(r,o),a=i.targetId;n=new gL(a,s)}}return n}function Vd(t,e){let n;if(e instanceof bc)n={update:$S(t,e.key,e.value)};else if(e instanceof _c)n={delete:Ld(t,e.key)};else if(e instanceof Hr)n={update:$S(t,e.key,e.data),updateMask:OJ(e.fieldMask)};else{if(!(e instanceof sE))return Q();n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Hl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wl)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Q()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:kJ(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function G0(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?tt.updateTime(Et(o.updateTime)):o.exists!==void 0?tt.exists(o.exists):tt.none()}(e.currentDocument):tt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),l=new Hl;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Xs(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Js(u)}else"increment"in a?l=new Wl(s,a.increment):Q();const c=et.fromServerFormat(a.fieldPath);return new Ih(c,l)}(t,r)):[];if(e.update){e.update.name;const r=nr(t,e.update.name),o=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Ln(c.map(u=>et.fromServerFormat(u)))}(e.updateMask);return new Hr(r,o,s,n,i)}return new bc(r,o,n,i)}if(e.delete){const r=nr(t,e.delete);return new _c(r,n)}if(e.verify){const r=nr(t,e.verify);return new sE(r,n)}return Q()}function CJ(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?Et(r.updateTime):Et(o);return s.isEqual(ie.min())&&(s=Et(o)),new mJ(s,r.transformResults||[])}(n,e))):[]}function EL(t,e){return{documents:[q0(t,e.path)]}}function IL(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=q0(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=q0(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return SL(Ve.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:za(d.field),direction:RJ(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=W0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function kL(t){let e=_L(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){te(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const h=TL(d);return h instanceof Ve&&iE(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(p){return new Nd(Ua(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,_h(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new $o(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new $o(f,h)}(n.endAt)),XN(e,r,s,o,a,"F",l,c)}function AJ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ua(n.unaryFilter.field);return Ee.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ua(n.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ua(n.unaryFilter.field);return Ee.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ua(n.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Ua(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(i=>TL(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function RJ(t){return wJ[t]}function PJ(t){return xJ[t]}function DJ(t){return EJ[t]}function za(t){return{fieldPath:t.canonicalString()}}function Ua(t){return et.fromServerFormat(t.fieldPath)}function SL(t){return t instanceof Ee?function(n){if(n.op==="=="){if(wS(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(_S(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wS(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(_S(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:PJ(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const i=n.getFilters().map(r=>SL(r));return i.length===1?i[0]:{compositeFilter:{op:DJ(n.op),filters:i}}}(t):Q()}function OJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,i,r,o=ie.min(),s=ie.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.ut=e}}function NJ(t,e){let n;if(e.document)n=xL(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=j.fromSegments(e.noDocument.path),r=ea(e.noDocument.readTime);n=Qe.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{const i=j.fromSegments(e.unknownDocument.path),r=ea(e.unknownDocument.version);n=Qe.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){const o=new nt(r[0],r[1]);return ie.fromTimestamp(o)}(e.readTime)),n}function FS(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Ld(o,s.key),fields:s.data.value.mapValue.fields,updateTime:ql(o,s.version.toTimestamp()),createTime:ql(o,s.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Zs(e.version)};else{if(!e.isUnknownDocument())return Q();i.unknownDocument={path:n.path.toArray(),version:Zs(e.version)}}return i}function tm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ea(t){const e=new nt(t.seconds,t.nanoseconds);return ie.fromTimestamp(e)}function ds(t,e){const n=(e.baseMutations||[]).map(o=>G0(t.ut,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map(o=>G0(t.ut,o)),r=nt.fromMillis(e.localWriteTimeMs);return new aE(e.batchId,r,n,i)}function fu(t){const e=ea(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ea(t.lastLimboFreeSnapshotVersion):ie.min();let i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return te(o.documents.length===1),In(yc(_L(o.documents[0])))}(t.query):function(o){return In(kL(o))}(t.query),new vr(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ot.fromBase64String(t.resumeToken))}function RL(t,e){const n=Zs(e.snapshotVersion),i=Zs(e.lastLimboFreeSnapshotVersion);let r;r=Jp(e.target)?EL(t.ut,e.target):IL(t.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function hE(t){const e=kL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}function zy(t,e){return new cE(e.largestBatchId,G0(t.ut,e.overlayMutation))}function BS(t,e){const n=e.path.lastSegment();return[t,En(e.path.popLast()),n]}function zS(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Zs(i.readTime),documentKey:En(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{getBundleMetadata(e,n){return US(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:ea(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return US(e).put(function(r){return{bundleId:r.id,createTime:Zs(Et(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return jS(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:hE(o.bundledQuery),readTime:ea(o.readTime)}}(i)})}saveNamedQuery(e,n){return jS(e).put(function(r){return{name:r.name,readTime:Zs(Et(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function US(t){return Yt(t,"bundles")}function jS(t){return Yt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const i=n.uid||"";return new rv(e,i)}getOverlay(e,n){return Wc(e).get(BS(this.userId,n)).next(i=>i?zy(this.serializer,i):null)}getOverlays(e,n){const i=Zi();return T.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){const r=[];return i.forEach((o,s)=>{const a=new cE(n,s);r.push(this.lt(e,a))}),T.waitFor(r)}removeOverlaysForBatchId(e,n,i){const r=new Set;n.forEach(s=>r.add(En(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Wc(e).H("collectionPathOverlayIndex",a))}),T.waitFor(o)}getOverlaysForCollection(e,n,i){const r=Zi(),o=En(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Wc(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=zy(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){const o=Zi();let s;const a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Wc(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=zy(this.serializer,c);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}lt(e,n){return Wc(e).put(function(r,o,s){const[a,l,c]=BS(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vd(r.ut,s.mutation)}}(this.serializer,this.userId,n))}}function Wc(t){return Yt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ht(e.integerValue));else if("doubleValue"in e){const i=ht(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),Rd(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt("".concat(i.seconds||"")),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Lo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?UN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Q()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const i=e.fields||{};this.Tt(n,55);for(const r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){const i=e.values||[];this.Tt(n,50);for(const r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}hs.St=new hs;function MJ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function HS(t){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=MJ(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class VJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Dt(i.value),i=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ft(i.value),i=n.next();this.Mt()}xt(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=n.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=n.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const n=this.Bt(e),i=HS(n);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}kt(e){const n=this.Bt(e),i=HS(n);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class $J{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class FJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class qc{constructor(){this.Wt=new VJ,this.Gt=new $J(this.Wt),this.zt=new FJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new fs(this.indexId,this.documentKey,this.arrayValue,i)}}function Qr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=WS(t.arrayValue,e.arrayValue),n!==0?n:(n=WS(t.directionalValue,e.directionalValue),n!==0?n:j.comparator(t.documentKey,e.documentKey)))}function WS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.Jt=new ze((n,i)=>et.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const i=n;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(te(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=M0(e);if(n!==void 0&&!this.tn(n))return!1;const i=as(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.nn(a,l)||!this.rn(this.Yt[s++],l))return!1}++o}for(;o<i.length;++o){const a=i[o];if(s>=this.Yt.length||!this.rn(this.Yt[s++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new ze(et.comparator);const n=[];for(const i of this.Zt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new zf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new zf(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new zf(i.field,i.dir==="asc"?0:1)));return new Xp(Xp.UNKNOWN_ID,this.collectionId,n,Ad.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){var e,n;if(te(t instanceof Ee||t instanceof Ve),t instanceof Ee){if(t instanceof QN){const r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Ee.create(t.field,"==",o)))||[];return Ve.create(r,"or")}return t}const i=t.filters.map(r=>PL(r));return Ve.create(i,t.op)}function BJ(t){if(t.getFilters().length===0)return[];const e=Q0(PL(t));return te(DL(e)),K0(e)||Y0(e)?[e]:e.getFilters()}function K0(t){return t instanceof Ee}function Y0(t){return t instanceof Ve&&iE(t)}function DL(t){return K0(t)||Y0(t)||function(n){if(n instanceof Ve&&z0(n)){for(const i of n.getFilters())if(!K0(i)&&!Y0(i))return!1;return!0}return!1}(t)}function Q0(t){if(te(t instanceof Ee||t instanceof Ve),t instanceof Ee)return t;if(t.filters.length===1)return Q0(t.filters[0]);const e=t.filters.map(i=>Q0(i));let n=Ve.create(e,t.op);return n=nm(n),DL(n)?n:(te(n instanceof Ve),te(jl(n)),te(n.filters.length>1),n.filters.reduce((i,r)=>fE(i,r)))}function fE(t,e){let n;return te(t instanceof Ee||t instanceof Ve),te(e instanceof Ee||e instanceof Ve),n=t instanceof Ee?e instanceof Ee?function(r,o){return Ve.create([r,o],"and")}(t,e):GS(t,e):e instanceof Ee?GS(e,t):function(r,o){if(te(r.filters.length>0&&o.filters.length>0),jl(r)&&jl(o))return GN(r,o.getFilters());const s=z0(r)?r:o,a=z0(r)?o:r,l=s.filters.map(c=>fE(c,a));return Ve.create(l,"or")}(t,e),nm(n)}function GS(t,e){if(jl(e))return GN(e,t.getFilters());{const n=e.filters.map(i=>fE(t,i));return Ve.create(n,"or")}}function nm(t){if(te(t instanceof Ee||t instanceof Ve),t instanceof Ee)return t;const e=t.getFilters();if(e.length===1)return nm(e[0]);if(WN(t))return t;const n=e.map(r=>nm(r)),i=[];return n.forEach(r=>{r instanceof Ee?i.push(r):r instanceof Ve&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ve.create(i,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this.on=new pE}addToCollectionParentIndex(e,n){return this.on.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(ni.min())}updateCollectionGroup(e,n,i){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class pE{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ze(Ae.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ze(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Uint8Array(0);class UJ{constructor(e,n){this.user=e,this.databaseId=n,this._n=new pE,this.an=new Jo(i=>Qs(i),(i,r)=>wh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const o={collectionId:i,parent:En(r)};return KS(e).put(o)}return T.resolve()}getCollectionParents(e,n){const i=[],r=IDBKeyRange.bound([n,""],[RN(n),""],!1,!0);return KS(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==n)break;i.push(Ji(s.parent))}return i})}addFieldIndex(e,n){const i=Gc(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete r.indexId;const o=i.add(r);if(n.indexState){const s=Oa(e);return o.next(a=>{s.put(zS(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const i=Gc(e),r=Oa(e),o=Da(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Gc(e),i=Da(e),r=Oa(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return T.forEach(this.un(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){const o=new qS(i).sn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const i=Da(e);let r=!0;const o=new Map;return T.forEach(this.un(n),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=fe();const a=[];return T.forEach(o,(l,c)=>{M("IndexedDbIndexManager","Using index ".concat(function(b){return"id=".concat(b.indexId,"|cg=").concat(b.collectionGroup,"|f=").concat(b.fields.map(x=>"".concat(x.fieldPath,":").concat(x.kind)).join(","))}(l)," to execute ").concat(Qs(n)));const u=function(b,x){const C=M0(x);if(C===void 0)return null;for(const E of Zp(b,C.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(c,l),d=function(b,x){const C=new Map;for(const E of as(x))for(const w of Zp(b,E.fieldPath))switch(w.op){case"==":case"in":C.set(E.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return C.set(E.fieldPath.canonicalString(),w.value),Array.from(C.values())}return null}(c,l),h=function(b,x){const C=[];let E=!0;for(const w of as(x)){const k=w.kind===0?TS(b,w.fieldPath,b.startAt):SS(b,w.fieldPath,b.startAt);C.push(k.value),E&&(E=k.inclusive)}return new $o(C,E)}(c,l),f=function(b,x){const C=[];let E=!0;for(const w of as(x)){const k=w.kind===0?SS(b,w.fieldPath,b.endAt):TS(b,w.fieldPath,b.endAt);C.push(k.value),E&&(E=k.inclusive)}return new $o(C,E)}(c,l),p=this.ln(l,c,h),g=this.ln(l,c,f),_=this.hn(l,c,d),v=this.Pn(l.indexId,u,p,h.inclusive,g,f.inclusive,_);return T.forEach(v,m=>i.j(m,n.limit).next(b=>{b.forEach(x=>{const C=j.fromSegments(x.documentKey);s.has(C)||(s=s.add(C),a.push(C))})}))}).next(()=>a)}return T.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=BJ(Ve.create(e.filters,"and")).map(i=>j0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,i,r,o,s,a){const l=(n!=null?n.length:1)*Math.max(i.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/c]):vf,f=this.Tn(e,h,i[d%c],r),p=this.En(e,h,o[d%c],s),g=a.map(_=>this.Tn(e,h,_,!0));u.push(...this.createRange(f,p,g))}return u}Tn(e,n,i,r){const o=new fs(e,j.empty(),n,i);return r?o:o.Ht()}En(e,n,i,r){const o=new fs(e,j.empty(),n,i);return r?o.Ht():o}cn(e,n){const i=new qS(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2;const r=this.un(n);return T.forEach(r,o=>this.cn(e,o).next(s=>{s?i!==0&&s.fields.length<function(l){let c=new ze(et.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}dn(e,n){const i=new qc;for(const r of as(e)){const o=n.data.field(r.fieldPath);if(o==null)return null;const s=i.jt(r.kind);hs.St.ht(o,s)}return i.Ut()}In(e){const n=new qc;return hs.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const i=new qc;return hs.St.ht(Ys(this.databaseId,n),i.jt(function(o){const s=as(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,n,i){if(i===null)return[];let r=[];r.push(new qc);let o=0;for(const s of as(e)){const a=i[o++];for(const l of r)if(this.Rn(n,s.fieldPath)&&Od(a))r=this.Vn(r,s,a);else{const c=l.jt(s.kind);hs.St.ht(a,c)}}return this.mn(r)}ln(e,n,i){return this.hn(e,n,i.position)}mn(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Ut();return n}Vn(e,n,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new qc;l.seed(a.Ut()),hs.St.ht(s,l.jt(n.kind)),o.push(l)}return o}Rn(e,n){return!!e.filters.find(i=>i instanceof Ee&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){const i=Gc(e),r=Oa(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(o=>{const s=[];return T.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const h=d?new Ad(d.sequenceNumber,new ni(ea(d.readTime),new j(Ji(d.documentKey)),d.largestBatchId)):Ad.empty(),f=u.fields.map(([p,g])=>new zf(et.fromServerFormat(p),g));return new Xp(u.indexId,u.collectionGroup,f,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:he(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const r=Gc(e),o=Oa(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>o.put(zS(l.indexId,this.user,s,i)))))}updateIndexEntries(e,n){const i=new Map;return T.forEach(n,(r,o)=>{const s=i.get(r.collectionGroup);return(s?T.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),T.forEach(a,l=>this.gn(e,r,l).next(c=>{const u=this.pn(o,l);return c.isEqual(u)?T.resolve():this.yn(e,o,l,c,u)}))))})}wn(e,n,i,r){return Da(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,i,r){return Da(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,n.key),n.key.path.toArray()])}gn(e,n,i){const r=Da(e);let o=new ze(Qr);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,n)])},(s,a)=>{o=o.add(new fs(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let i=new ze(Qr);const r=this.dn(n,e);if(r==null)return i;const o=M0(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Od(s))for(const a of s.arrayValue.values||[])i=i.add(new fs(n.indexId,e.key,this.In(a),r))}else i=i.add(new fs(n.indexId,e.key,vf,r));return i}yn(e,n,i,r,o){M("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,u,d,h){const f=l.getIterator(),p=c.getIterator();let g=Pa(f),_=Pa(p);for(;g||_;){let v=!1,m=!1;if(g&&_){const b=u(g,_);b<0?m=!0:b>0&&(v=!0)}else g!=null?m=!0:v=!0;v?(d(_),_=Pa(p)):m?(h(g),g=Pa(f)):(g=Pa(f),_=Pa(p))}}(r,o,Qr,a=>{s.push(this.wn(e,n,i,a))},a=>{s.push(this.Sn(e,n,i,a))}),T.waitFor(s)}fn(e){let n=1;return Oa(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>Qr(s,a)).filter((s,a,l)=>!a||Qr(s,l[a-1])!==0);const r=[];r.push(e);for(const s of i){const a=Qr(s,e),l=Qr(s,n);if(a===0)r[0]=e.Ht();else if(a>0&&l<0)r.push(s),r.push(s.Ht());else if(l>0)break}r.push(n);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,vf,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,vf,[]];o.push(IDBKeyRange.bound(a,l))}return o}bn(e,n){return Qr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(YS)}getMinOffset(e,n){return T.mapArray(this.un(n),i=>this.cn(e,i).next(r=>r||Q())).next(YS)}}function KS(t){return Yt(t,"collectionParents")}function Da(t){return Yt(t,"indexEntries")}function Gc(t){return Yt(t,"indexConfiguration")}function Oa(t){return Yt(t,"indexState")}function YS(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;eE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new ni(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rn{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=i.Y({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{te(a===1)}));const c=[];for(const u of n.mutations){const d=MN(e,u.key.path,n.batchId);o.push(r.delete(d)),c.push(u.key)}return T.waitFor(o).next(()=>c)}function im(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class ov{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,n,i,r){te(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new ov(o,n,i,r)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xr(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){const o=ja(e),s=Xr(e);return s.add({}).next(a=>{te(typeof a=="number");const l=new aE(a,n,i,r),c=function(f,p,g){const _=g.baseMutations.map(m=>Vd(f.ut,m)),v=g.mutations.map(m=>Vd(f.ut,m));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,l),u=[];let d=new ze((h,f)=>he(h.canonicalString(),f.canonicalString()));for(const h of r){const f=MN(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(f,RX))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),T.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Xr(e).get(n).next(i=>i?(te(i.userId===this.userId),ds(this.serializer,i)):null)}Cn(e,n){return this.Dn[n]?T.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const r=i.keys();return this.Dn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Xr(e).Y({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(te(a.batchId>=i),o=ds(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xr(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xr(e).W("userMutationsIndex",n).next(i=>i.map(r=>ds(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=Uf(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return ja(e).Y({range:r},(s,a,l)=>{const[c,u,d]=s,h=Ji(u);if(c===this.userId&&n.path.isEqual(h))return Xr(e).get(d).next(f=>{if(!f)throw Q();te(f.userId===this.userId),o.push(ds(this.serializer,f))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ze(he);const r=[];return n.forEach(o=>{const s=Uf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ja(e).Y({range:a},(c,u,d)=>{const[h,f,p]=c,g=Ji(f);h===this.userId&&o.path.isEqual(g)?i=i.add(p):d.done()});r.push(l)}),T.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1,o=Uf(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new ze(he);return ja(e).Y({range:s},(l,c,u)=>{const[d,h,f]=l,p=Ji(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.vn(e,a))}vn(e,n){const i=[],r=[];return n.forEach(o=>{r.push(Xr(e).get(o).next(s=>{if(s===null)throw Q();te(s.userId===this.userId),i.push(ds(this.serializer,s))}))}),T.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return OL(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),T.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return ja(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Ji(o[1]);r.push(l)}else a.done()}).next(()=>{te(r.length===0)})})}containsKey(e,n){return NL(e,this.userId,n)}Mn(e){return LL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NL(t,e,n){const i=Uf(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return ja(t).Y({range:o,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),c.done()}).next(()=>s)}function Xr(t){return Yt(t,"mutations")}function ja(t){return Yt(t,"documentMutations")}function LL(t){return Yt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ta(0)}static Nn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const i=new ta(n.highestTargetId);return n.highestTargetId=i.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ie.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Ln(e,r)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(n,i),this.Ln(e,i))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Na(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(te(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,n,i){let r=0;const o=[];return Na(e).Y((s,a)=>{const l=fu(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Na(e).Y((i,r)=>{const o=fu(r);n(o)})}Bn(e){return XS(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}Ln(e,n){return XS(e).put("targetGlobalKey",n)}kn(e,n){return Na(e).put(RL(this.serializer,n))}qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const i=Qs(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Na(e).Y({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=fu(a);wh(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,i){const r=[],o=ro(e);return n.forEach(s=>{const a=En(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),T.waitFor(r)}removeMatchingKeys(e,n,i){const r=ro(e);return T.forEach(n,o=>{const s=En(o.path);return T.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){const i=ro(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=ro(e);let o=fe();return r.Y({range:i,J:!0},(s,a,l)=>{const c=Ji(s[1]),u=new j(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const i=En(n.path),r=IDBKeyRange.bound([i],[RN(i)],!1,!0);let o=0;return ro(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}_t(e,n){return Na(e).get(n).next(i=>i?fu(i):null)}}function Na(t){return Yt(t,"targets")}function XS(t){return Yt(t,"targetGlobal")}function ro(t){return Yt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS([t,e],[n,i]){const r=he(t,n);return r===0?he(e,i):r}class HJ{constructor(e){this.Qn=e,this.buffer=new ze(JS),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();JS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WJ{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){M("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Gn(3e5)})}}class qJ{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return T.resolve(Nn._e);const i=new HJ(n);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(QS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(i," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),QS):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(d)),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),Fa()<=ye.DEBUG&&M("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(s-u,"ms\n	Determined least recently used ").concat(r," in ")+(a-s)+"ms\n	Removed ".concat(o," targets in ")+(l-a)+"ms\n	Removed ".concat(d," documents in ")+(c-l)+"ms\nTotal Duration: ".concat(c-u,"ms")),T.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}function GJ(t,e){return new qJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n){this.db=e,this.garbageCollector=GJ(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Yn(e){let n=0;return this.Hn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(i,r)=>n(r))}addReference(e,n,i){return yf(e,i)}removeReference(e,n,i){return yf(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return yf(e,n)}Xn(e,n){return function(r,o){let s=!1;return LL(r).Z(a=>NL(r,a,o).next(l=>(l&&(s=!0),T.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=n){const l=this.Xn(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ie.min()),ro(e).delete(function(d){return[0,En(d.path)]}(s))))});r.push(l)}}).next(()=>T.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return yf(e,n)}Zn(e,n){const i=ro(e);let r,o=Nn._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==Nn._e&&n(new j(Ji(r)),o),o=c,r=l):o=Nn._e}).next(()=>{o!==Nn._e&&n(new j(Ji(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yf(t,e){return ro(t).put(function(i,r){return{targetId:0,path:En(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?T.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return is(e).put(i)}removeEntry(e,n,i){return is(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],tm(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.er(e,i)))}getEntry(e,n){let i=Qe.newInvalidDocument(n);return is(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(n))},(r,o)=>{i=this.tr(n,o)}).next(()=>i)}nr(e,n){let i={size:0,document:Qe.newInvalidDocument(n)};return is(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Kc(n))},(r,o)=>{i={document:this.tr(n,o),size:im(o)}}).next(()=>i)}getEntries(e,n){let i=Mn();return this.rr(e,n,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,n){let i=Mn(),r=new ct(j.comparator);return this.rr(e,n,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,im(s))}).next(()=>({documents:i,sr:r}))}rr(e,n,i){if(n.isEmpty())return T.resolve();let r=new ze(tC);n.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Kc(r.first()),Kc(r.last())),s=r.getIterator();let a=s.getNext();return is(e).Y({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=j.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&tC(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.U(Kc(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),tm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return is(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let u=Mn();for(const d of c){const h=this.tr(j.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Eh(n,h)||r.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=Mn();const s=eC(n,i),a=eC(n,ni.max());return is(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.tr(j.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new QJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ZS(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}er(e,n){return ZS(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const i=NJ(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(ie.min())))return i}return Qe.newInvalidDocument(e)}}function VL(t){return new YJ(t)}class QJ extends ML{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Jo(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const n=[];let i=0,r=new ze((o,s)=>he(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=FS(this._r.serializer,s);r=r.add(o.path.popLast());const c=im(l);i+=c-a.size,n.push(this._r.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=FS(this._r.serializer,s.convertToNoDocument(ie.min()));n.push(this._r.addEntry(e,o,l))}}),r.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,i)),T.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(i=>(this.ar.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function ZS(t){return Yt(t,"remoteDocumentGlobal")}function is(t){return Yt(t,"remoteDocumentsV14")}function Kc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eC(t,e){const n=e.documentKey.path.toArray();return[t,tm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tC(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=he(n[o],i[o]),r)return r;return r=he(n.length,i.length),r||(r=he(n[n.length-2],i[i.length-2]),r||he(n[n.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Pu(i.mutation,r,Ln.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=fe()){const r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=du();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,fe()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=Mn();const s=Ru(),a=function(){return Ru()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Hr)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Pu(u.mutation,c,u.mutation.getFieldMask(),nt.now())):s.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new XJ(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ru();let r=new ct((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Ln.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||fe()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=iL();u.forEach(h=>{if(!o.has(h)){const f=dL(n.get(h),i.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return T.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):T.resolve(Zi());let a=-1,l=o;return s.next(c=>T.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?T.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,fe())).next(u=>({batchId:a,changes:nL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(i=>{let r=du();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let s=du();return this.indexManager.getCollectionParents(e,o).next(a=>T.forEach(a,l=>{const c=function(d,h){return new jr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Qe.newInvalidDocument(u)))});let a=du();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Pu(u.mutation,c,Ln.empty(),nt.now()),Eh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return T.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Et(r.createTime)}}(n)),T.resolve()}getNamedQuery(e,n){return T.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:hE(r.bundledQuery),readTime:Et(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(){this.overlays=new ct(j.comparator),this.lr=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Zi();return T.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),T.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),T.resolve()}getOverlaysForCollection(e,n,i){const r=Zi(),o=n.length+1,s=new j(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return T.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new ct((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=o.get(c.largestBatchId);u===null&&(u=Zi(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Zi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return T.resolve(a)}lt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new cE(n,i));let o=this.lr.get(n);o===void 0&&(o=fe(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.hr=new ze(Mt.Pr),this.Ir=new ze(Mt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new Mt(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Mt(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new j(new Ae([])),i=new Mt(n,e),r=new Mt(n,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new j(new Ae([])),i=new Mt(n,e),r=new Mt(n,e+1);let o=fe();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Mt(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Mt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||he(e.gr,n.gr)}static Tr(e,n){return he(e.gr,n.gr)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ze(Mt.Pr)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new aE(o,n,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(s)}lookupMutationBatch(e,n){return T.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Sr(i),o=r<0?0:r;return T.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Mt(n,0),r=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),T.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ze(he);return n.forEach(r=>{const o=new Mt(r,0),s=new Mt(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),T.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;j.isDocumentKey(o)||(o=o.child(""));const s=new Mt(new j(o),0);let a=new ze(he);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),T.resolve(this.br(a))}br(e){const n=[];return e.forEach(i=>{const r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){te(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return T.forEach(n.mutations,r=>{const o=new Mt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new Mt(n,0),r=this.yr.firstAfterOrEqual(i);return T.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.Cr=e,this.docs=function(){return new ct(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return T.resolve(i?i.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let i=Mn();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Qe.newInvalidDocument(r))}),T.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Mn();const s=n.path,a=new j(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||eE(DN(u),i)<=0||(r.has(u.key)||Eh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return T.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Q()}vr(e,n){return T.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new nZ(this)}getSize(e){return T.resolve(this.size)}}class nZ extends ML{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),T.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.persistence=e,this.Fr=new Jo(n=>Qs(n),wh),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Mr=0,this.Or=new mE,this.targetCount=0,this.Nr=ta.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),T.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.kn(n),T.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),T.waitFor(o).next(()=>r)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return T.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),T.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),T.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),T.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return T.resolve(i)}containsKey(e,n){return T.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Nn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iZ(this),this.indexManager=new zJ,this.remoteDocumentCache=function(r){return new tZ(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new AL(n),this.Kr=new JJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new eZ(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){M("MemoryPersistence","Starting transaction:",e);const r=new rZ(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return T.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class rZ extends NN{constructor(e){super(),this.currentSequenceNumber=e}}class sv{constructor(e){this.persistence=e,this.Gr=new mE,this.zr=null}static jr(e){return new sv(e)}get Hr(){if(this.zr)return this.zr;throw Q()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),T.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),T.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Hr,i=>{const r=j.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,ie.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return T.or([()=>T.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e){this.serializer=e}N(e,n,i,r){const o=new ev("createOrUpgrade",n);i<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gS,{unique:!0}),l.createObjectStore("documentMutations")}(e),nC(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=T.resolve();return i<3&&r>=3&&(i!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),nC(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ie.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gS,{unique:!0});const d=c.store("mutations"),h=u.map(f=>d.put(f));return T.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:UX});c.createIndex("collectionPathOverlayIndex",jX,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",HX,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:PX});c.createIndex("documentKeyIndex",DX),c.createIndex("collectionGroupIndex",OX)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:$X}).createIndex("sequenceNumberIndex",FX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:BX}).createIndex("documentKeyIndex",zX,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=im(r)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>T.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>T.forEach(a,l=>{te(l.userId===o.userId);const c=ds(this.serializer,l);return OL(e,o.userId,c).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const l=new Ae(s),c=function(d){return[0,En(d)]}(l);o.push(n.get(c).next(u=>u?T.resolve():(d=>n.put({targetId:0,path:En(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:VX});const i=n.store("collectionParents"),r=new pE,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:En(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new Ae(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],c)=>{const u=Ji(a);return o(u.popLast())}))}ni(e){const n=e.store("targets");return n.Y((i,r)=>{const o=fu(r),s=RL(this.serializer,o);return n.put(s)})}ri(e,n){const i=n.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new j(Ae.fromString(d.document.name).popFirst(5)):d.noDocument?j.fromSegments(d.noDocument.path):d.unknownDocument?j.fromSegments(d.unknownDocument.path):Q()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(c))}).next(()=>T.waitFor(r))}ii(e,n){const i=n.store("mutations"),r=VL(this.serializer),o=new FL(sv.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:fe();ds(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),T.forEach(a,(l,c)=>{const u=new $t(c),d=rv.ct(this.serializer,u),h=o.getIndexManager(u),f=ov.ct(u,this.serializer,h,o.referenceDelegate);return new $L(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new V0(n,Nn._e),l).next()})})}}function nC(t){t.createObjectStore("targetDocuments",{keyPath:LX}).createIndex("documentTargetsIndex",MX,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NX,{unique:!0}),t.createObjectStore("targetGlobal")}const Uy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gE{constructor(e,n,i,r,o,s,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=c,this._i=u,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!gE.D())throw new L(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KJ(this,r),this.Ii=n+"main",this.serializer=new AL(l),this.Ti=new Si(this.Ii,this.ai,new oZ(this.serializer)),this.qr=new jJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VL(this.serializer),this.Kr=new LJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,u===!1&&xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Uy);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Nn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Xo(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Yc(e).get("owner").next(n=>T.resolve(this.wi(n)))}Si(e){return bf(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=Yt(n,"clientMetadata");return i.W().next(r=>{const o=this.Ci(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return T.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?T.resolve(!0):Yc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,Uy);return!1}}return!(!this.networkEnabled||!this.inForeground)||bf(e).W().next(i=>this.Ci(i,5e3).find(r=>{if(this.clientId!==r.clientId){const o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&M("IndexedDbPersistence","Client ".concat(n?"is":"is not"," eligible for a primary lease.")),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new V0(e,Nn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(i=>this.Di(i.updateTimeMs,n)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>bf(e).W().next(n=>this.Ci(n,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return ov.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new UJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return rv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,i){M("IndexedDbPersistence","Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",o=function(l){return l===15?qX:l===14?FN:l===13?$N:l===12?WX:l===11?VN:void Q()}(this.ai);let s;return this.Ti.runTransaction(e,r,o,a=>(s=new V0(a,this.Lr?this.Lr.next():Nn._e),n==="readwrite-primary"?this.fi(s).next(l=>!!l||this.gi(s)).next(l=>{if(!l)throw xt("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new L(A.FAILED_PRECONDITION,ON);return i(s)}).next(l=>this.yi(s).next(()=>l)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Yc(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(A.FAILED_PRECONDITION,Uy)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yc(e).put("owner",n)}static D(){return Si.D()}pi(e){const n=Yc(e);return n.get("owner").next(i=>this.wi(i)?(M("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}Di(e,n){const i=Date.now();return!(e<i-n)&&(!(e>i)||(xt("Detected an update time that is in the future: ".concat(e," > ").concat(i)),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;SH()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const i=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return M("IndexedDbPersistence","Client '".concat(e,"' ").concat(i?"is":"is not"," zombied in LocalStorage")),i}catch(i){return xt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){xt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Yc(t){return Yt(t,"owner")}function bf(t){return Yt(t,"clientMetadata")}function vE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=fe(),r=fe();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new yE(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sZ;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(Fa()<=ye.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),T.resolve()):(Fa()<=ye.DEBUG&&M("QueryEngine","Query:",Ba(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Fa()<=ye.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):T.resolve())}zi(e,n){if(CS(n))return T.resolve(null);let i=In(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=em(n,null,"F"),i=In(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=fe(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,s,l.readTime)?this.zi(e,em(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,i,r){return CS(n)||r.isEqual(ie.min())?T.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,i,r)?T.resolve(null):(Fa()<=ye.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ba(n)),this.Xi(e,s,n,PN(r,-1)).next(a=>a))})}Yi(e,n){let i=new ze(eL(e));return n.forEach((r,o)=>{Eh(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return Fa()<=ye.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.Gi.getDocumentsMatchingQuery(e,n,ni.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new ct(he),this.ns=new Jo(o=>Qs(o),wh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $L(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function zL(t,e,n,i){return new aZ(t,e,n,i)}async function UL(t,e){const n=G(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=fe();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}function lZ(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=T.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(g=>{const _=c.docVersions.get(p);te(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function jL(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function cZ(t,e){const n=G(t),i=e.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ot.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(g,_,v){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(o,f))});let l=Mn(),c=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(HL(o,s,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ie.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return T.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ts=r,o))}function HL(t,e,n){let i=fe(),r=fe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Mn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}function uZ(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gl(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,T.resolve(r)):n.qr.allocateTargetId(i).next(s=>(r=new vr(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Kl(t,e,n){const i=G(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!Xo(s))throw s;M("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(s))}i.ts=i.ts.remove(e),i.ns.delete(r.target)}function rm(t,e,n){const i=G(t);let r=ie.min(),o=fe();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=G(l),h=d.ns.get(u);return h!==void 0?T.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,s,In(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,n?r:ie.min(),n?o:fe())).next(a=>(GL(i,ZN(e),a),{documents:a,ls:o})))}function WL(t,e){const n=G(t),i=G(n.qr),r=n.ts.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function qL(t,e){const n=G(t),i=n.rs.get(e)||ie.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.ss.getAllFromCollectionGroup(r,e,PN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GL(n,e,r),r))}function GL(t,e,n){let i=t.rs.get(e)||ie.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}async function dZ(t,e,n,i){const r=G(t);let o=fe(),s=Mn();for(const c of n){const u=e.hs(c.metadata.name);c.document&&(o=o.add(u));const d=e.Ps(c);d.setReadTime(e.Is(c.metadata.readTime)),s=s.insert(u,d)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),l=await Gl(r,function(u){return In(yc(Ae.fromString("__bundle__/docs/".concat(u))))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>HL(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.us,u.cs)).next(()=>u.us)))}async function hZ(t,e,n=fe()){const i=await Gl(t,In(hE(e.bundledQuery))),r=G(t);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Et(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ot.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,n,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}function iC(t,e){return"firestore_clients_".concat(t,"_").concat(e)}function rC(t,e,n){let i="firestore_mutations_".concat(t,"_").concat(n);return e.isAuthenticated()&&(i+="_".concat(e.uid)),i}function jy(t,e){return"firestore_targets_".concat(t,"_").concat(e)}class om{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Ts(e,n,i){const r=JSON.parse(i);let o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new L(r.error.code,r.error.message))),s?new om(e,n,r.state,o):(xt("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(i)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Ts(e,n){const i=JSON.parse(n);let r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new L(i.error.code,i.error.message))),o?new Du(e,i.state,r):(xt("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const i=JSON.parse(n);let r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=oE();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=LN(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new sm(e,o):(xt("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(n)),null)}}class bE{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new bE(n.clientId,n.onlineState):(xt("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class X0{constructor(){this.activeTargetIds=oE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hy{constructor(e,n,i,r,o){this.window=e,this.si=n,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ct(he),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=iC(this.persistenceKey,this.Rs),this.ws=function(l){return"firestore_sequence_number_".concat(l)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new X0),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(l){return"firestore_online_state_".concat(l)}(this.persistenceKey),this.vs=function(l){return"firestore_bundle_loaded_v2_".concat(l)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const i of e){if(i===this.Rs)continue;const r=this.getItem(iC(this.persistenceKey,i));if(r){const o=sm.Ts(i,r);o&&(this.gs=this.gs.insert(o.clientId,o))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const i=this.Ms(n);i&&this.xs(i)}for(const i of this.ps)this.fs(i);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,i){this.Ns(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(jy(this.persistenceKey,e));if(i){const r=Du.Ts(e,i);r&&(n=r.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jy(this.persistenceKey,e))}updateQueryState(e,n,i){this.ks(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return M("SharedClientState","READ",e,n),n}setItem(e,n){M("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){M("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(M("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const i=this.Ks(n.key);return this.$s(i,null)}{const i=this.Us(n.key,n.newValue);if(i)return this.$s(i.clientId,i)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const i=this.Ws(n.key,n.newValue);if(i)return this.Gs(i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const i=this.zs(n.key,n.newValue);if(i)return this.js(i)}}else if(n.key===this.Cs){if(n.newValue!==null){const i=this.Ms(n.newValue);if(i)return this.xs(i)}}else if(n.key===this.ws){const i=function(o){let s=Nn._e;if(o!=null)try{const a=JSON.parse(o);te(typeof a=="number"),s=a}catch(a){xt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==Nn._e&&this.sequenceNumberHandler(i)}else if(n.key===this.vs){const i=this.Hs(n.newValue);await Promise.all(i.map(r=>this.syncEngine.Js(r)))}}}else this.ps.push(n)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,i){const r=new om(this.currentUser,e,n,i),o=rC(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const n=rC(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,i){const r=jy(this.persistenceKey,e),o=new Du(e,n,i);this.setItem(r,o.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const i=this.Ks(e);return sm.Ts(i,n)}Ws(e,n){const i=this.bs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return om.Ts(new $t(o),r,n)}zs(e,n){const i=this.Ds.exec(e),r=Number(i[1]);return Du.Ts(r,n)}Ms(e){return bE.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);M("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const i=n?this.gs.insert(e,n):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=oE();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class KL{constructor(){this.eo=new X0,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new X0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function Wy(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class gZ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo="projects/".concat(r,"/databases/").concat(o),this.po=this.databaseId.database==="(default)"?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(o)}get yo(){return!1}wo(n,i,r,o,s){const a=Wy(),l=this.So(n,i);M("RestConnection","Sending RPC '".concat(n,"' ").concat(a,":"),l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(n,l,c,r).then(u=>(M("RestConnection","Received RPC '".concat(n,"' ").concat(a,": "),u),u),u=>{throw Fi("RestConnection","RPC '".concat(n,"' ").concat(a," failed with error: "),u,"url: ",l,"request:",r),u})}Co(n,i,r,o,s,a){return this.wo(n,i,r,o,s)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}So(n,i){const r=pZ[n];return"".concat(this.mo,"/v1/").concat(i,":").concat(r)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){const o=Wy();return new Promise((s,a)=>{const l=new dX;l.setWithCredentials(!0),l.listenOnce(cX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case By.NO_ERROR:const u=l.getResponseJson();M(ln,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(u)),s(u);break;case By.TIMEOUT:M(ln,"RPC '".concat(e,"' ").concat(o," timed out")),a(new L(A.DEADLINE_EXCEEDED,"Request time out"));break;case By.HTTP_ERROR:const d=l.getStatus();if(M(ln,"RPC '".concat(e,"' ").concat(o," failed with status:"),d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(v)>=0?v:A.UNKNOWN}(f.status);a(new L(p,f.message))}else a(new L(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{M(ln,"RPC '".concat(e,"' ").concat(o," completed."))}});const c=JSON.stringify(r);M(ln,"RPC '".concat(e,"' ").concat(o," sending request:"),r),l.send(n,"POST",c,i,15)})}vo(e,n,i){const r=Wy(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aX(),a=lX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=o.join("");M(ln,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const p=new mZ({co:_=>{f?M(ln,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),_):(h||(M(ln,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),d.open(),h=!0),M(ln,"RPC '".concat(e,"' stream ").concat(r," sending:"),_),d.send(_))},lo:()=>d.close()}),g=(_,v,m)=>{_.listen(v,b=>{try{m(b)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,mf.EventType.OPEN,()=>{f||M(ln,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),g(d,mf.EventType.CLOSE,()=>{f||(f=!0,M(ln,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.Ro())}),g(d,mf.EventType.ERROR,_=>{f||(f=!0,Fi(ln,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),_),p.Ro(new L(A.UNAVAILABLE,"The operation could not be completed")))}),g(d,mf.EventType.MESSAGE,_=>{var v;if(!f){const m=_.data[0];te(!!m);const b=m,x=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(x){M(ln,"RPC '".concat(e,"' stream ").concat(r," received error:"),x);const C=x.status;let E=function(F){const P=It[F];if(P!==void 0)return pL(P)}(C),w=x.message;E===void 0&&(E=A.INTERNAL,w="Unknown error status: "+C+" with message "+x.message),f=!0,p.Ro(new L(E,w)),d.close()}else M(ln,"RPC '".concat(e,"' stream ").concat(r," received:"),m),p.Vo(m)}}),g(a,uX.STAT_EVENT,_=>{_.stat===hS.PROXY?M(ln,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):_.stat===hS.NOPROXY&&M(ln,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.Ao()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return typeof window<"u"?window:null}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return new IJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&M("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new _E(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(xt(n.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{const r=new L(A.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return M("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vZ extends QL{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=SJ(this.serializer,e),i=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Et(s.readTime):ie.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Md(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Jp(l)?{documents:EL(o,l)}:{query:IL(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yL(o,s.resumeToken);const c=W0(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=ql(o,s.snapshotVersion.toTimestamp());const c=W0(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=AJ(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Md(this.serializer),n.removeTarget=e,this.e_(n)}}class yZ extends QL{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=CJ(e.writeResults,e.commitTime),i=Et(e.commitTime);return this.listener.I_(i,n)}return te(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Md(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Vd(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new L(A.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(A.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class _Z{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(xt(n),this.f_=!1):M("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(async()=>{Zo(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=G(l);c.C_.add(4),await wc(c),c.M_.set("Unknown"),c.C_.delete(4),await Ch(c)}(this))})}),this.M_=new _Z(i,r)}}async function Ch(t){if(Zo(t))for(const e of t.v_)await e(!0)}async function wc(t){for(const e of t.v_)await e(!1)}function av(t,e){const n=G(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),EE(n)?xE(n):Ec(n).Ho()&&wE(n,e))}function $d(t,e){const n=G(t),i=Ec(n);n.D_.delete(e),i.Ho()&&XL(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Zo(n)&&n.M_.set("Unknown"))}function wE(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).u_(e)}function XL(t,e){t.x_.Oe(e),Ec(t).c_(e)}function xE(t){t.x_=new _J({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.M_.g_()}function EE(t){return Zo(t)&&!Ec(t).jo()&&t.D_.size>0}function Zo(t){return G(t).C_.size===0}function JL(t){t.x_=void 0}async function xZ(t){t.D_.forEach((e,n)=>{wE(t,e)})}async function EZ(t,e){JL(t),EE(t)?(t.M_.w_(e),xE(t)):t.M_.set("Unknown")}async function IZ(t,e,n){if(t.M_.set("Online"),e instanceof vL&&e.state===2&&e.cause)try{await async function(r,o){const s=o.cause;for(const a of o.targetIds)r.D_.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))}(t,e)}catch(i){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await am(t,i)}else if(e instanceof qf?t.x_.$e(e):e instanceof gL?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ie.min()))try{const i=await jL(t.localStore);n.compareTo(i)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(Ot.EMPTY_BYTE_STRING,u.snapshotVersion)),XL(o,l);const d=new vr(u.target,l,c,u.sequenceNumber);wE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){M("RemoteStore","Failed to raise snapshot:",i),await am(t,i)}}async function am(t,e,n){if(!Xo(e))throw e;t.C_.add(1),await wc(t),t.M_.set("Offline"),n||(n=()=>jL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ch(t)})}function ZL(t,e){return e().catch(n=>am(t,n,e))}async function xc(t){const e=G(t),n=Fo(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;kZ(e);)try{const r=await uZ(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,TZ(e,r)}catch(r){await am(e,r)}eM(e)&&tM(e)}function kZ(t){return Zo(t)&&t.b_.length<10}function TZ(t,e){t.b_.push(e);const n=Fo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function eM(t){return Zo(t)&&!Fo(t).jo()&&t.b_.length>0}function tM(t){Fo(t).start()}async function SZ(t){Fo(t).E_()}async function CZ(t){const e=Fo(t);for(const n of t.b_)e.P_(n.mutations)}async function AZ(t,e,n){const i=t.b_.shift(),r=lE.from(i,e,n);await ZL(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await xc(t)}async function RZ(t,e){e&&Fo(t).h_&&await async function(i,r){if(function(s){return fL(s)&&s!==A.ABORTED}(r.code)){const o=i.b_.shift();Fo(i).Yo(),await ZL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await xc(i)}}(t,e),eM(t)&&tM(t)}async function sC(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const i=Zo(n);n.C_.add(3),await wc(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ch(n)}async function J0(t,e){const n=G(t);e?(n.C_.delete(2),await Ch(n)):e||(n.C_.add(2),await wc(n),n.M_.set("Unknown"))}function Ec(t){return t.O_||(t.O_=function(n,i,r){const o=G(n);return o.A_(),new vZ(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:xZ.bind(null,t),Io:EZ.bind(null,t),a_:IZ.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),EE(t)?xE(t):t.M_.set("Unknown")):(await t.O_.stop(),JL(t))})),t.O_}function Fo(t){return t.N_||(t.N_=function(n,i,r){const o=G(n);return o.A_(),new yZ(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:SZ.bind(null,t),Io:RZ.bind(null,t),T_:CZ.bind(null,t),I_:AZ.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await xc(t)):(await t.N_.stop(),t.b_.length>0&&(M("RemoteStore","Stopping write stream with ".concat(t.b_.length," pending writes")),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const s=Date.now()+i,a=new IE(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ic(t,e){if(xt("AsyncQueue","".concat(e,": ").concat(t)),Xo(t))return new L(A.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||j.comparator(n.key,i.key):(n,i)=>j.comparator(n.key,i.key),this.keyedMap=du(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new bl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.B_=new ct(j.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Q():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Yl{constructor(e,n,i,r,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Yl(e,n,bl.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(){this.k_=void 0,this.listeners=[]}}class DZ{constructor(){this.queries=new Jo(e=>JN(e),xh),this.onlineState="Unknown",this.q_=new Set}}async function kE(t,e){const n=G(t),i=e.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new PZ),r)try{o.k_=await n.onListen(i)}catch(s){const a=Ic(s,"Initialization of query '".concat(Ba(e.query),"' failed"));return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&SE(n)}async function TE(t,e){const n=G(t),i=e.query;let r=!1;const o=n.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function OZ(t,e){const n=G(t);let i=!1;for(const r of e){const o=r.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&SE(n)}function NZ(t,e,n){const i=G(t),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(e)}function SE(t){t.q_.forEach(e=>{e.next()})}class CE{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e}hs(e){return nr(this.serializer,e)}Ps(e){return e.metadata.exists?xL(this.serializer,e.document,!1):Qe.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Et(e)}}class MZ{constructor(e,n,i){this.X_=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nM(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const i=Ae.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,i=new lC(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(n.get(s)||fe()).add(o);n.set(s,a)}}return n}async complete(){const e=await dZ(this.localStore,new lC(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(const i of this.queries)await hZ(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function nM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.key=e}}class rM{constructor(e){this.key=e}}class oM{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=fe(),this.mutatedKeys=fe(),this._a=eL(e),this.aa=new bl(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new aC,r=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Eh(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),_=!0):this.ha(h,f)||(i.track({type:2,doc:f}),_=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),_=!0):h&&!f&&(i.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(s=s.add(f),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,d)=>function(f,p){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return g(f)-g(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=r!=null&&r;const a=n&&!r?this.Ia():[],l=this.oa.size===0&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,s.length!==0||c?{snapshot:new Yl(this.query,e.aa,o,s,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new aC,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=fe(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new rM(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new iM(i))}),n}da(e){this.ia=e.ls,this.oa=fe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Yl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class VZ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $Z{constructor(e){this.key=e,this.Ra=!1}}class FZ{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Jo(a=>JN(a),xh),this.fa=new Map,this.ga=new Set,this.pa=new ct(j.comparator),this.ya=new Map,this.wa=new mE,this.Sa={},this.ba=new Map,this.Da=ta.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function BZ(t,e){const n=OE(t);let i,r;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=await Gl(n.localStore,In(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=await AE(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&av(n.remoteStore,s)}return r}async function AE(t,e,n,i,r){t.va=(d,h,f)=>async function(g,_,v,m){let b=_.view.ca(v);b.Zi&&(b=await rm(g.localStore,_.query,!1).then(({documents:w})=>_.view.ca(w,b)));const x=m&&m.targetChanges.get(_.targetId),C=m&&m.targetMismatches.get(_.targetId)!=null,E=_.view.applyChanges(b,g.isPrimaryClient,x,C);return Z0(g,_.targetId,E.Ta),E.snapshot}(t,d,h,f);const o=await rm(t.localStore,e,!0),s=new oM(e,o.ls),a=s.ca(o.documents),l=Th.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=s.applyChanges(a,t.isPrimaryClient,l);Z0(t,n,c.Ta);const u=new VZ(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function zZ(t,e){const n=G(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!xh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Kl(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),$d(n.remoteStore,i.targetId),Ql(n,i.targetId)}).catch(Qo)):(Ql(n,i.targetId),await Kl(n.localStore,i.targetId,!0))}async function UZ(t,e,n){const i=NE(t);try{const r=await function(s,a){const l=G(s),c=nt.now(),u=a.reduce((f,p)=>f.add(p.key),fe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Mn(),g=fe();return l.ss.getEntries(f,u).next(_=>{p=_,p.forEach((v,m)=>{m.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;const v=[];for(const m of a){const b=vJ(m,d.get(m.key).overlayedDocument);b!=null&&v.push(new Hr(m.key,b,jN(b.value.mapValue),tt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(_=>{h=_;const v=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,v)})}).then(()=>({batchId:h.batchId,changes:nL(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ct(he)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,n),await Wr(i,r.changes),await xc(i.remoteStore)}catch(r){const o=Ic(r,"Failed to persist write");n.reject(o)}}async function sM(t,e){const n=G(t);try{const i=await cZ(n.localStore,e);e.targetChanges.forEach((r,o)=>{const s=n.ya.get(o);s&&(te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?te(s.Ra):r.removedDocuments.size>0&&(te(s.Ra),s.Ra=!1))}),await Wr(n,i,e)}catch(i){await Qo(i)}}function cC(t,e,n){const i=G(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=G(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&SE(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jZ(t,e,n){const i=G(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new ct(j.comparator);s=s.insert(o,Qe.newNoDocument(o,ie.min()));const a=fe().add(o),l=new kh(ie.min(),new Map,new ct(he),s,a);await sM(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),DE(i)}else await Kl(i.localStore,e,!1).then(()=>Ql(i,e,n)).catch(Qo)}async function HZ(t,e){const n=G(t),i=e.batch.batchId;try{const r=await lZ(n.localStore,e);PE(n,i,null),RE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wr(n,r)}catch(r){await Qo(r)}}async function WZ(t,e,n){const i=G(t);try{const r=await function(s,a){const l=G(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(te(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);PE(i,e,n),RE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Wr(i,r)}catch(r){await Qo(r)}}async function qZ(t,e){const n=G(t);Zo(n.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(s){const a=G(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(i===-1)return void e.resolve();const r=n.ba.get(i)||[];r.push(e),n.ba.set(i,r)}catch(i){const r=Ic(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}function RE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function PE(t,e,n){const i=G(t);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Ql(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||aM(t,i)})}function aM(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&($d(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),DE(t))}function Z0(t,e,n){for(const i of n)i instanceof iM?(t.wa.addReference(i.key,e),GZ(t,i)):i instanceof rM?(M("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||aM(t,i.key)):Q()}function GZ(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(M("SyncEngine","New document in limbo: "+n),t.ga.add(i),DE(t))}function DE(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new j(Ae.fromString(e)),i=t.Da.next();t.ya.set(i,new $Z(n)),t.pa=t.pa.insert(n,i),av(t.remoteStore,new vr(In(yc(n.path)),i,"TargetPurposeLimboResolution",Nn._e))}}async function Wr(t,e,n){const i=G(t),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=yE.Qi(l.targetId,c);o.push(u)}}))}),await Promise.all(s),i.Va.a_(r),await async function(l,c){const u=G(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(c,h=>T.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>T.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xo(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ts.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ts=u.ts.insert(h,g)}}}(i.localStore,o))}async function KZ(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const i=await UL(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new L(A.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wr(n,i._s)}}function YZ(t,e){const n=G(t),i=n.ya.get(e);if(i&&i.Ra)return fe().add(i.key);{let r=fe();const o=n.fa.get(e);if(!o)return r;for(const s of o){const a=n.ma.get(s);r=r.unionWith(a.view.ua)}return r}}async function QZ(t,e){const n=G(t),i=await rm(n.localStore,e.query,!0),r=e.view.da(i);return n.isPrimaryClient&&Z0(n,e.targetId,r.Ta),r}async function XZ(t,e){const n=G(t);return qL(n.localStore,e).then(i=>Wr(n,i))}async function JZ(t,e,n,i){const r=G(t),o=await function(a,l){const c=G(a),u=G(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Cn(d,l).next(h=>h?c.localDocuments.getDocuments(d,h):T.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?await xc(r.remoteStore):n==="acknowledged"||n==="rejected"?(PE(r,e,i||null),RE(r,e),function(a,l){G(G(a).mutationQueue).Fn(l)}(r.localStore,e)):Q(),await Wr(r,o)):M("SyncEngine","Cannot apply mutation batch with id: "+e)}async function ZZ(t,e){const n=G(t);if(OE(n),NE(n),e===!0&&n.Ca!==!0){const i=n.sharedClientState.getAllActiveQueryTargets(),r=await uC(n,i.toArray());n.Ca=!0,await J0(n.remoteStore,!0);for(const o of r)av(n.remoteStore,o)}else if(e===!1&&n.Ca!==!1){const i=[];let r=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Ql(n,s),Kl(n.localStore,s,!0))),$d(n.remoteStore,s)}),await r,await uC(n,i),function(s){const a=G(s);a.ya.forEach((l,c)=>{$d(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new ct(j.comparator)}(n),n.Ca=!1,await J0(n.remoteStore,!1)}}async function uC(t,e,n){const i=G(t),r=[],o=[];for(const s of e){let a;const l=i.fa.get(s);if(l&&l.length!==0){a=await Gl(i.localStore,In(l[0]));for(const c of l){const u=i.ma.get(c),d=await QZ(i,u);d.snapshot&&o.push(d.snapshot)}}else{const c=await WL(i.localStore,s);a=await Gl(i.localStore,c),await AE(i,lM(c),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}function lM(t){return XN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function eee(t){return function(n){return G(G(n).persistence).Bi()}(G(t).localStore)}async function tee(t,e,n,i){const r=G(t);if(r.Ca)return void M("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await qL(r.localStore,ZN(o[0])),a=kh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ot.EMPTY_BYTE_STRING);await Wr(r,s,a);break}case"rejected":await Kl(r.localStore,e,!0),Ql(r,e,i);break;default:Q()}}async function nee(t,e,n){const i=OE(t);if(i.Ca){for(const r of e){if(i.fa.has(r)){M("SyncEngine","Adding an already active target "+r);continue}const o=await WL(i.localStore,r),s=await Gl(i.localStore,o);await AE(i,lM(o),s.targetId,!1,s.resumeToken),av(i.remoteStore,s)}for(const r of n)i.fa.has(r)&&await Kl(i.localStore,r,!1).then(()=>{$d(i.remoteStore,r),Ql(i,r)}).catch(Qo)}}function OE(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jZ.bind(null,e),e.Va.a_=OZ.bind(null,e.eventManager),e.Va.Fa=NZ.bind(null,e.eventManager),e}function NE(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WZ.bind(null,e),e}function iee(t,e,n){const i=G(t);(async function(o,s,a){try{const l=await s.getMetadata();if(await function(f,p){const g=G(f),_=Et(p.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",v=>g.Kr.getBundleMetadata(v,p.id)).then(v=>!!v&&v.createTime.compareTo(_)>=0)}(o.localStore,l))return await s.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(nM(l));const c=new MZ(l,o.localStore,s.serializer);let u=await s.Ma();for(;u;){const h=await c.ea(u);h&&a._updateProgress(h),u=await s.Ma()}const d=await c.complete();return await Wr(o,d.ra,void 0),await function(f,p){const g=G(f);return g.persistence.runTransaction("Save bundle","readwrite",_=>g.Kr.saveBundleMetadata(_,p))}(o.localStore,l),a._completeWith(d.progress),Promise.resolve(d.na)}catch(l){return Fi("SyncEngine","Loading bundle failed with ".concat(l)),a._failWith(l),Promise.resolve(new Set)}})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}class e_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zL(this.persistence,new BL,e.initialUser,this.serializer)}createPersistence(e){return new FL(sv.jr,this.serializer)}createSharedClientState(e){return new KL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cM extends e_{constructor(e,n,i){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await NE(this.xa.syncEngine),await xc(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return zL(this.persistence,new BL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const i=this.persistence.referenceDelegate.garbageCollector;return new WJ(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new CX(n,this.persistence);return new SX(e.asyncQueue,i)}createPersistence(e){const n=vE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new gE(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,YL(),Gf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new KL}}class ree extends cM{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xa.syncEngine;this.sharedClientState instanceof Hy&&(this.sharedClientState.syncEngine={Ys:JZ.bind(null,n),Zs:tee.bind(null,n),Xs:nee.bind(null,n),Bi:eee.bind(null,n),Js:XZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async i=>{await ZZ(this.xa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=YL();if(!Hy.D(n))throw new L(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hy(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class LE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KZ.bind(null,this.syncEngine),await J0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DZ}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),i=function(o){return new gZ(o)}(e.databaseInfo);return function(o,s,a,l){return new bZ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new wZ(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cC(this.syncEngine,n,0),function(){return oC.D()?new oC:new fZ}())}createSyncEngine(e,n){return function(r,o,s,a,l,c,u){const d=new FZ(r,o,s,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=G(n);M("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await wc(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):xt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ut,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(i==null?void 0:i.Y_))))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(e===null)return null;const n=this.La.decode(e),i=Number(n);isNaN(i)&&this.Qa("length string (".concat(n,") is not valid number"));const r=await this.Ka(i);return new LZ(JSON.parse(r),e.length+i)}$a(){return this.buffer.findIndex(e=>e===123)}async qa(){for(;this.$a()<0&&!await this.Ua(););if(this.buffer.length===0)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,o){const s=G(r),a=Md(s.serializer)+"/documents",l={documents:o.map(h=>Ld(s.serializer,h))},c=await s.Co("BatchGetDocuments",a,l,o.length),u=new Map;c.forEach(h=>{const f=TJ(s.serializer,h);u.set(f.key.toString(),f)});const d=[];return o.forEach(h=>{const f=u.get(h.toString());te(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new _c(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const r=j.fromPath(i);this.mutations.push(new sE(r,this.precondition(r)))}),await async function(i,r){const o=G(i),s=Md(o.serializer)+"/documents",a={writes:r.map(l=>Vd(o.serializer,l))};await o.wo("Commit",s,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=ie.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new L(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ie.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ie.min()))throw new L(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new _E(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new see(this.datastore),n=this.za(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ja(r)}))}).catch(i=>{this.ja(i)})})}za(e){try{const n=this.updateFunction(e);return!_h(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!fL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=AN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{M("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ic(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await UL(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function t_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ME(t);M("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>sC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>sC(e.remoteStore,o)),t._onlineComponents=e}function uM(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ME(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uM(n))throw n;Fi("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new e_)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await Kf(t,new e_);return t._offlineComponents}async function cv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await t_(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await t_(t,new LE))),t._onlineComponents}function dM(t){return ME(t).then(e=>e.persistence)}function VE(t){return ME(t).then(e=>e.localStore)}function hM(t){return cv(t).then(e=>e.remoteStore)}function $E(t){return cv(t).then(e=>e.syncEngine)}function cee(t){return cv(t).then(e=>e.datastore)}async function Xl(t){const e=await cv(t),n=e.eventManager;return n.onListen=BZ.bind(null,e.syncEngine),n.onUnlisten=zZ.bind(null,e.syncEngine),n}function uee(t){return t.asyncQueue.enqueue(async()=>{const e=await dM(t),n=await hM(t);return e.setNetworkEnabled(!0),function(r){const o=G(r);return o.C_.delete(0),Ch(o)}(n)})}function dee(t){return t.asyncQueue.enqueue(async()=>{const e=await dM(t),n=await hM(t);return e.setNetworkEnabled(!1),async function(r){const o=G(r);o.C_.add(0),await wc(o),o.M_.set("Offline")}(n)})}function hee(t,e){const n=new Ut;return t.asyncQueue.enqueueAndForget(async()=>async function(r,o,s){try{const a=await function(c,u){const d=G(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new L(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Ic(a,"Failed to get document '".concat(o," from cache"));s.reject(l)}}(await VE(t),e,n)),n.promise}function fM(t,e,n={}){const i=new Ut;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new lv({next:h=>{s.enqueueAndForget(()=>TE(o,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new L(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new L(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new CE(yc(a.path),u,{includeMetadataChanges:!0,J_:!0});return kE(o,d)}(await Xl(t),t.asyncQueue,e,n,i)),i.promise}function fee(t,e){const n=new Ut;return t.asyncQueue.enqueueAndForget(async()=>async function(r,o,s){try{const a=await rm(r,o,!0),l=new oM(o,a.ls),c=l.ca(a.documents),u=l.applyChanges(c,!1);s.resolve(u.snapshot)}catch(a){const l=Ic(a,"Failed to execute query '".concat(o," against cache"));s.reject(l)}}(await VE(t),e,n)),n.promise}function pM(t,e,n={}){const i=new Ut;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new lv({next:h=>{s.enqueueAndForget(()=>TE(o,d)),h.fromCache&&l.source==="server"?c.reject(new L(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new CE(a,u,{includeMetadataChanges:!0,J_:!0});return kE(o,d)}(await Xl(t),t.asyncQueue,e,n,i)),i.promise}function pee(t,e){const n=new lv(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,o){G(r).q_.add(o),o.next()}(await Xl(t),n)),()=>{n.Na(),t.asyncQueue.enqueueAndForget(async()=>function(r,o){G(r).q_.delete(o)}(await Xl(t),n))}}function mee(t,e,n,i){const r=function(s,a){let l;return l=typeof s=="string"?mL().encode(s):s,function(u,d){return new oee(u,d)}(function(u,d){if(u instanceof Uint8Array)return dC(u,d);if(u instanceof ArrayBuffer)return dC(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Sh(e));t.asyncQueue.enqueueAndForget(async()=>{iee(await $E(t),r,i)})}function gee(t,e){return t.asyncQueue.enqueue(async()=>function(i,r){const o=G(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(await VE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e,n){if(!n)throw new L(A.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function gM(t,e,n,i){if(e===!0&&i===!0)throw new L(A.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}function fC(t){if(!j.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function pC(t){if(j.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return typeof t=="function"?"a function":Q()}function Oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new L(A.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function vM(t,e){if(e<=0)throw new L(A.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new L(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(A.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (must not be NaN)"));if(o.timeoutSeconds<5)throw new L(A.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (minimum allowed value is 5)"));if(o.timeoutSeconds>30)throw new L(A.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(o.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gX;switch(i.type){case"firstParty":return new _X(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new L(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=hC.get(n);i&&(M("ComponentProvider","Removing Datastore"),hC.delete(n),i.terminate())}(this),Promise.resolve()}}function yM(t,e,n,i={}){var r;const o=(t=Oe(t,Ah))._getSettings(),s="".concat(e,":").concat(n);if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=$t.MOCK_USER;else{a=l2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new L(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(c)}t._authCredentials=new vX(new CN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class bM{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bM(this.firestore,e,this._query)}},st=class _M{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _M(this.firestore,e,this._key)}},Io=class wM extends Tn{constructor(e,n,i){super(e,n,yc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new j(e))}withConverter(e){return new wM(this.firestore,e,this._path)}};function Jl(t,e,...n){if(t=ne(t),FE("collection","path",e),t instanceof Ah){const i=Ae.fromString(e,...n);return pC(i),new Io(t,null,i)}{if(!(t instanceof st||t instanceof Io))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return pC(i),new Io(t.firestore,null,i)}}function vee(t,e){if(t=Oe(t,Ah),FE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(A.INVALID_ARGUMENT,"Invalid collection ID '".concat(e,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Tn(t,null,function(i){return new jr(Ae.emptyPath(),i)}(e))}function Tr(t,e,...n){if(t=ne(t),arguments.length===1&&(e=AN.newId()),FE("doc","path",e),t instanceof Ah){const i=Ae.fromString(e,...n);return fC(i),new st(t,null,new j(i))}{if(!(t instanceof st||t instanceof Io))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ae.fromString(e,...n));return fC(i),new st(t.firestore,t instanceof Io?t.converter:null,new j(i))}}function xM(t,e){return t=ne(t),e=ne(e),(t instanceof st||t instanceof Io)&&(e instanceof st||e instanceof Io)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function EM(t,e){return t=ne(t),e=ne(e),t instanceof Tn&&e instanceof Tn&&t.firestore===e.firestore&&xh(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new _E(this,"async_queue_retry"),this.iu=()=>{const n=Gf();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Gf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ut;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Xo(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i);throw xt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const r=IE.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Q()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function n_(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}class bee{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=-1;let gt=class extends Ah{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new yee}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IM(this),this._firestoreClient.terminate()}};function wee(t,e){const n=typeof t=="object"?t:Ig(),i=typeof t=="string"?t:e||"(default)",r=uc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=o2("firestore");o&&yM(r,...o)}return r}function Qt(t){return t._firestoreClient||IM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IM(t){var e,n,i;const r=t._freezeSettings(),o=function(a,l,c,u){return new YX(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mM(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new lee(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function xee(t,e){TM(t=Oe(t,gt));const n=Qt(t);if(n._uninitializedComponentsProvider)throw new L(A.FAILED_PRECONDITION,"SDK cache is already specified.");Fi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new LE;return kM(n,r,new cM(r,i.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Eee(t){TM(t=Oe(t,gt));const e=Qt(t);if(e._uninitializedComponentsProvider)throw new L(A.FAILED_PRECONDITION,"SDK cache is already specified.");Fi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new LE;return kM(e,i,new ree(i,n.cacheSizeBytes))}function kM(t,e,n){const i=new Ut;return t.asyncQueue.enqueue(async()=>{try{await Kf(t,n),await t_(t,e),i.resolve()}catch(r){const o=r;if(!uM(o))throw o;Fi("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}}).then(()=>i.promise)}function Iee(t){if(t._initialized&&!t._terminated)throw new L(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ut;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!Si.D())return Promise.resolve();const r=i+"main";await Si.delete(r)}(vE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function kee(t){return function(n){const i=new Ut;return n.asyncQueue.enqueueAndForget(async()=>qZ(await $E(n),i)),i.promise}(Qt(t=Oe(t,gt)))}function Tee(t){return uee(Qt(t=Oe(t,gt)))}function See(t){return dee(Qt(t=Oe(t,gt)))}function Cee(t,e){const n=Qt(t=Oe(t,gt)),i=new bee;return mee(n,t._databaseId,e,i),i}function Aee(t,e){return gee(Qt(t=Oe(t,gt)),e).then(n=>n?new Tn(t,null,n.query):null)}function TM(t){if(t._initialized||t._terminated)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Ot.fromBase64String(e))}catch(n){throw new L(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=/^__.*__$/;class Pee{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class SM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class hv{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return lm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(CM(this.Iu)&&Ree.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Dee{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Sh(e)}pu(e,n,i,r=!1){return new hv({Iu:e,methodName:n,gu:i,path:et.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _a(t){const e=t._freezeSettings(),n=Sh(t._databaseId);return new Dee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fv(t,e,n,i,r,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,r);jE("Data must be an object, but it was:",s,i);const a=PM(i,s);let l,c;if(o.merge)l=new Ln(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=i_(e,d,n);if(!s.contains(h))throw new L(A.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));OM(u,h)||u.push(h)}l=new Ln(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Pee(new en(a),l,c)}class Rh extends ba{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function AM(t,e,n){return new hv({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BE extends ba{_toFieldTransform(e){return new Ih(e.path,new Hl)}isEqual(e){return e instanceof BE}}class Oee extends ba{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=AM(this,e,!0),i=this.yu.map(o=>wa(o,n)),r=new Xs(i);return new Ih(e.path,r)}isEqual(e){return this===e}}class Nee extends ba{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=AM(this,e,!0),i=this.yu.map(o=>wa(o,n)),r=new Js(i);return new Ih(e.path,r)}isEqual(e){return this===e}}class Lee extends ba{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Wl(e.serializer,sL(e.serializer,this.wu));return new Ih(e.path,n)}isEqual(e){return this===e}}function zE(t,e,n,i){const r=t.pu(1,e,n);jE("Data must be an object, but it was:",r,i);const o=[],s=en.empty();ya(i,(l,c)=>{const u=HE(e,l,n);c=ne(c);const d=r.Ru(u);if(c instanceof Rh)o.push(u);else{const h=wa(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new Ln(o);return new SM(s,a,r.fieldTransforms)}function UE(t,e,n,i,r,o){const s=t.pu(1,e,n),a=[i_(e,i,n)],l=[r];if(o.length%2!=0)throw new L(A.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(i_(e,o[h])),l.push(o[h+1]);const c=[],u=en.empty();for(let h=a.length-1;h>=0;--h)if(!OM(c,a[h])){const f=a[h];let p=l[h];p=ne(p);const g=s.Ru(f);if(p instanceof Rh)c.push(f);else{const _=wa(p,g);_!=null&&(c.push(f),u.set(f,_))}}const d=new Ln(c);return new SM(u,d,s.fieldTransforms)}function RM(t,e,n,i=!1){return wa(n,t.pu(i?4:3,e))}function wa(t,e){if(DM(t=ne(t)))return jE("Unsupported field value:",e,t),PM(t,e);if(t instanceof ba)return function(i,r){if(!CM(r.Iu))throw r.mu("".concat(i._methodName,"() can only be used with update() and set()"));if(!r.path)throw r.mu("".concat(i._methodName,"() is not currently supported inside arrays"));const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=wa(a,r.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=ne(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=nt.fromDate(i);return{timestampValue:ql(r.serializer,o)}}if(i instanceof nt){const o=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ql(r.serializer,o)}}if(i instanceof dv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sr)return{bytesValue:yL(r.serializer,i._byteString)};if(i instanceof st){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu("Document reference is for database ".concat(s.projectId,"/").concat(s.database," but should be for database ").concat(o.projectId,"/").concat(o.database));return{referenceValue:dE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu("Unsupported field value: ".concat(uv(i)))}(t,e)}function PM(t,e){const n={};return BN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,(i,r)=>{const o=wa(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function DM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof dv||t instanceof sr||t instanceof st||t instanceof ba)}function jE(t,e,n){if(!DM(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=uv(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function i_(t,e,n){if((e=ne(e))instanceof Bo)return e._internalPath;if(typeof e=="string")return HE(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mee=new RegExp("[~\\*/\\[\\]]");function HE(t,e,n){if(e.search(Mee)>=0)throw lm("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Bo(...e.split("."))._internalPath}catch(i){throw lm("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function lm(t,e,n,i,r){const o=i&&!i.isEmpty(),s=r!==void 0;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(i)),s&&(l+=" in document ".concat(r)),l+=")"),new L(A.INVALID_ARGUMENT,a+t+l)}function OM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vee extends Fd{data(){return super.data()}}function pv(t,e){return typeof e=="string"?HE(t,e):e instanceof Bo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WE{}class Ph extends WE{}function Jr(t,e,...n){let i=[];e instanceof WE&&i.push(e),i=i.concat(n),function(o){const s=o.filter(l=>l instanceof qE).length,a=o.filter(l=>l instanceof mv).length;if(s>1||s>0&&a>0)throw new L(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class mv extends Ph{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new mv(e,n,i)}_apply(e){const n=this._parse(e);return MM(e._query,n),new Tn(e.firestore,e.converter,H0(e._query,n))}_parse(e){const n=_a(e.firestore);return function(o,s,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new L(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(u,"' queries on documentId()."));if(u==="in"||u==="not-in"){vC(d,u);const f=[];for(const p of d)f.push(gC(l,o,p));h={arrayValue:{values:f}}}else h=gC(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||vC(d,u),h=RM(a,s,d,u==="in"||u==="not-in");return Ee.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $ee(t,e,n){const i=e,r=pv("where",t);return mv._create(r,i,n)}class qE extends WE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qE(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)MM(s,l),s=H0(s,l)}(e._query,n),new Tn(e.firestore,e.converter,H0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GE extends Ph{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new GE(e,n)}_apply(e){const n=function(r,o,s){if(r.startAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(o,s)}(e._query,this._field,this._direction);return new Tn(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new jr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Fee(t,e="asc"){const n=e,i=pv("orderBy",t);return GE._create(i,n)}class gv extends Ph{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new gv(e,n,i)}_apply(e){return new Tn(e.firestore,e.converter,em(e._query,this._limit,this._limitType))}}function Bee(t){return vM("limit",t),gv._create("limit",t,"F")}function zee(t){return vM("limitToLast",t),gv._create("limitToLast",t,"L")}class vv extends Ph{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new vv(e,n,i)}_apply(e){const n=LM(e,this.type,this._docOrFields,this._inclusive);return new Tn(e.firestore,e.converter,function(r,o){return new jr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}}function Uee(...t){return vv._create("startAt",t,!0)}function jee(...t){return vv._create("startAfter",t,!1)}class yv extends Ph{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new yv(e,n,i)}_apply(e){const n=LM(e,this.type,this._docOrFields,this._inclusive);return new Tn(e.firestore,e.converter,function(r,o){return new jr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}}function Hee(...t){return yv._create("endBefore",t,!1)}function Wee(...t){return yv._create("endAt",t,!0)}function LM(t,e,n,i){if(n[0]=ne(n[0]),n[0]instanceof Fd)return function(o,s,a,l,c){if(!l)throw new L(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(a,"()."));const u=[];for(const d of yl(o))if(d.field.isKeyField())u.push(Ys(s,l.key));else{const h=l.data.field(d.field);if(tv(h))throw new L(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const f=d.field.canonicalString();throw new L(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}u.push(h)}return new $o(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=_a(t.firestore);return function(s,a,l,c,u,d){const h=s.explicitOrderBy;if(u.length>h.length)throw new L(A.INVALID_ARGUMENT,"Too many arguments provided to ".concat(c,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const f=[];for(let p=0;p<u.length;p++){const g=u[p];if(h[p].field.isKeyField()){if(typeof g!="string")throw new L(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(c,"(), but got a ").concat(typeof g));if(!rE(s)&&g.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(c,"() must be a plain document ID, but '").concat(g,"' contains a slash."));const _=s.path.child(Ae.fromString(g));if(!j.isDocumentKey(_))throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(c,"() must result in a valid document path, but '").concat(_,"' is not because it contains an odd number of segments."));const v=new j(_);f.push(Ys(a,v))}else{const _=RM(l,c,g);f.push(_)}}return new $o(f,d)}(t._query,t.firestore._databaseId,r,e,n,i)}}function gC(t,e,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&n.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(Ae.fromString(n));if(!j.isDocumentKey(i))throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Ys(t,new j(i))}if(n instanceof st)return Ys(t,n._key);throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uv(n),"."))}function vC(t,e){if(!Array.isArray(t)||t.length===0)throw new L(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function MM(t,e){const n=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(A.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new L(A.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class KE{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ya(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new dv(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nE(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const n=No(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ae.fromString(e);te(CL(i));const r=new Mo(i.get(1),i.get(3)),o=new j(i.popFirst(5));return r.isEqual(n)||xt("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(n.projectId,"/").concat(n.database,") instead.")),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class qee extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Lr=class extends Fd{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(pv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Ou=class extends Lr{data(e={}){return super.data(e)}},zo=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Is(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ou(this._firestore,this._userDataWriter,i.key,i,new Is(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{const l=new Ou(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Is(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ou(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Is(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Gee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Gee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function VM(t,e){return t instanceof Lr&&e instanceof Lr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof zo&&e instanceof zo&&t._firestore===e._firestore&&EM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){t=Oe(t,st);const e=Oe(t.firestore,gt);return fM(Qt(e),t._key).then(n=>QE(e,t,n))}class xa extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Kee(t){t=Oe(t,st);const e=Oe(t.firestore,gt),n=Qt(e),i=new xa(e);return hee(n,t._key).then(r=>new Lr(e,i,t._key,r,new Is(r!==null&&r.hasLocalMutations,!0),t.converter))}function Yee(t){t=Oe(t,st);const e=Oe(t.firestore,gt);return fM(Qt(e),t._key,{source:"server"}).then(n=>QE(e,t,n))}function r_(t){t=Oe(t,Tn);const e=Oe(t.firestore,gt),n=Qt(e),i=new xa(e);return NM(t._query),pM(n,t._query).then(r=>new zo(e,i,t,r))}function Qee(t){t=Oe(t,Tn);const e=Oe(t.firestore,gt),n=Qt(e),i=new xa(e);return fee(n,t._query).then(r=>new zo(e,i,t,r))}function Xee(t){t=Oe(t,Tn);const e=Oe(t.firestore,gt),n=Qt(e),i=new xa(e);return pM(n,t._query,{source:"server"}).then(r=>new zo(e,i,t,r))}function cm(t,e,n){t=Oe(t,st);const i=Oe(t.firestore,gt),r=bv(t.converter,e,n);return Dh(i,[fv(_a(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,tt.none())])}function um(t,e,n,...i){t=Oe(t,st);const r=Oe(t.firestore,gt),o=_a(r);let s;return s=typeof(e=ne(e))=="string"||e instanceof Bo?UE(o,"updateDoc",t._key,e,n,i):zE(o,"updateDoc",t._key,e),Dh(r,[s.toMutation(t._key,tt.exists(!0))])}function $M(t){return Dh(Oe(t.firestore,gt),[new _c(t._key,tt.none())])}function Jee(t,e){const n=Oe(t.firestore,gt),i=Tr(t),r=bv(t.converter,e);return Dh(n,[fv(_a(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,tt.exists(!1))]).then(()=>i)}function FM(t,...e){var n,i,r;t=ne(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||n_(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(n_(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[s+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof st)c=Oe(t.firestore,gt),u=yc(t._key.path),l={next:d=>{e[s]&&e[s](QE(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Oe(t,Tn);c=Oe(d.firestore,gt),u=d._query;const h=new xa(c);l={next:f=>{e[s]&&e[s](new zo(c,h,d,f))},error:e[s+1],complete:e[s+2]},NM(t._query)}return function(h,f,p,g){const _=new lv(g),v=new CE(f,_,p);return h.asyncQueue.enqueueAndForget(async()=>kE(await Xl(h),v)),()=>{_.Na(),h.asyncQueue.enqueueAndForget(async()=>TE(await Xl(h),v))}}(Qt(c),u,a,l)}function Zee(t,e){return pee(Qt(t=Oe(t,gt)),n_(e)?e:{next:e})}function Dh(t,e){return function(i,r){const o=new Ut;return i.asyncQueue.enqueueAndForget(async()=>UZ(await $E(i),r,o)),o.promise}(Qt(t),e)}function QE(t,e,n){const i=n.docs.get(e._key),r=new xa(t);return new Lr(t,r,e._key,i,new Is(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tte=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_a(e)}set(e,n,i){this._verifyNotCommitted();const r=oo(e,this._firestore),o=bv(r.converter,n,i),s=fv(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,tt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const o=oo(e,this._firestore);let s;return s=typeof(n=ne(n))=="string"||n instanceof Bo?UE(this._dataReader,"WriteBatch.update",o._key,n,i,r):zE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=oo(e,this._firestore);return this._mutations=this._mutations.concat(new _c(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function oo(t,e){if((t=ne(t)).firestore!==e)throw new L(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nte=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=_a(n)}get(n){const i=oo(n,this._firestore),r=new qee(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return Q();const s=o[0];if(s.isFoundDocument())return new Fd(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Fd(this._firestore,r,i._key,null,i.converter);throw Q()})}set(n,i,r){const o=oo(n,this._firestore),s=bv(o.converter,i,r),a=fv(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){const s=oo(n,this._firestore);let a;return a=typeof(i=ne(i))=="string"||i instanceof Bo?UE(this._dataReader,"Transaction.update",s._key,i,r,o):zE(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){const i=oo(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=oo(e,this._firestore),i=new xa(this._firestore);return super.get(e).then(r=>new Lr(this._firestore,i,n._key,r._document,new Is(!1,!1),n.converter))}};function ite(t,e,n){t=Oe(t,gt);const i=Object.assign(Object.assign({},ete),n);return function(o){if(o.maxAttempts<1)throw new L(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new Ut;return o.asyncQueue.enqueueAndForget(async()=>{const c=await cee(o);new aee(o.asyncQueue,c,a,s,l).run()}),l.promise}(Qt(t),r=>e(new nte(t,r)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(){return new Rh("deleteField")}function ote(){return new BE("serverTimestamp")}function ste(...t){return new Oee("arrayUnion",t)}function ate(...t){return new Nee("arrayRemove",t)}function lte(t){return new Lee("increment",t)}(function(e,n=!0){(function(r){vc=r})(Br),Dr(new Mi("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new gt(new yX(i.getProvider("auth-internal")),new xX(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new L(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Jn(fS,"4.4.0",e),Jn(fS,"4.4.0","esm2017")})();const cte="@firebase/firestore-compat",ute="0.3.23";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new L("invalid-argument","Invalid options passed to function ".concat(t,"(): You cannot ")+'specify both "merge" and "mergeFields".');return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function bC(){if(!GX())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Bd{constructor(e){this._delegate=e}static fromBase64String(e){return bC(),new Bd(sr.fromBase64String(e))}static fromUint8Array(e){return yC(),new Bd(sr.fromUint8Array(e))}toBase64(){return bC(),this._delegate.toBase64()}toUint8Array(){return yC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){return dte(t,["next","error","complete"])}function dte(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{enableIndexedDbPersistence(e,n){return xee(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Eee(e._delegate)}clearIndexedDbPersistence(e){return Iee(e._delegate)}}class BM{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){yM(this._delegate,e,n,i)}enableNetwork(){return Tee(this._delegate)}disableNetwork(){return See(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,gM("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return kee(this._delegate)}onSnapshotsInSync(e){return Zee(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zl(this,Jl(this._delegate,e))}catch(n){throw vn(n,"collection()","Firestore.collection()")}}doc(e){try{return new pi(this,Tr(this._delegate,e))}catch(n){throw vn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gn(this,vee(this._delegate,e))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ite(this._delegate,n=>e(new zM(this,n)))}batch(){return Qt(this._delegate),new UM(new tte(this._delegate,e=>Dh(this._delegate,e)))}loadBundle(e){return Cee(this._delegate,e)}namedQuery(e){return Aee(this._delegate,e).then(n=>n?new gn(this,n):null)}}class _v extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bd(new sr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return pi.forKey(n,this.firestore,null)}}function fte(t){pX(t)}class zM{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new _v(e)}get(e){const n=ks(e);return this._delegate.get(n).then(i=>new zd(this._firestore,new Lr(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const r=ks(e);return i?(XE("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=ks(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=ks(e);return this._delegate.delete(n),this}}class UM{constructor(e){this._delegate=e}set(e,n,i){const r=ks(e);return i?(XE("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=ks(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=ks(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class na{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new Ou(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ud(this._firestore,i),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=na.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new na(e,new _v(e),n),r.set(n,o)),o}}na.INSTANCES=new WeakMap;class pi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _v(e)}static forPath(e,n,i){if(e.length%2!==0)throw new L("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new pi(n,new st(n._delegate,i,new j(e)))}static forKey(e,n,i){return new pi(n,new st(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zl(this.firestore,Jl(this._delegate,e))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ne(e),e instanceof st?xM(this._delegate,e):!1}set(e,n){n=XE("DocumentReference.set",n);try{return n?cm(this._delegate,e,n):cm(this._delegate,e)}catch(i){throw vn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?um(this._delegate,e):um(this._delegate,e,n,...i)}catch(r){throw vn(r,"updateDoc()","DocumentReference.update()")}}delete(){return $M(this._delegate)}onSnapshot(...e){const n=jM(e),i=HM(e,r=>new zd(this.firestore,new Lr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return FM(this._delegate,n,i)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Kee(this._delegate):(e==null?void 0:e.source)==="server"?n=Yee(this._delegate):n=YE(this._delegate),n.then(i=>new zd(this.firestore,new Lr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new pi(this.firestore,e?this._delegate.withConverter(na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vn(t,e,n){return t.message=t.message.replace(e,n),t}function jM(t){for(const e of t)if(typeof e=="object"&&!o_(e))return e;return{}}function HM(t,e){var n,i;let r;return o_(t[0])?r=t[0]:o_(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}class zd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new pi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return VM(this._delegate,e._delegate)}}class Ud extends zd{data(e){const n=this._delegate.data(e);return this._delegate._converter||mX(n!==void 0),n}}class gn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _v(e)}where(e,n,i){try{return new gn(this.firestore,Jr(this._delegate,$ee(e,n,i)))}catch(r){throw vn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new gn(this.firestore,Jr(this._delegate,Fee(e,n)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gn(this.firestore,Jr(this._delegate,Bee(e)))}catch(n){throw vn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new gn(this.firestore,Jr(this._delegate,zee(e)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gn(this.firestore,Jr(this._delegate,Uee(...e)))}catch(n){throw vn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gn(this.firestore,Jr(this._delegate,jee(...e)))}catch(n){throw vn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gn(this.firestore,Jr(this._delegate,Hee(...e)))}catch(n){throw vn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gn(this.firestore,Jr(this._delegate,Wee(...e)))}catch(n){throw vn(n,"endAt()","Query.endAt()")}}isEqual(e){return EM(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Qee(this._delegate):(e==null?void 0:e.source)==="server"?n=Xee(this._delegate):n=r_(this._delegate),n.then(i=>new s_(this.firestore,new zo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=jM(e),i=HM(e,r=>new s_(this.firestore,new zo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return FM(this._delegate,n,i)}withConverter(e){return new gn(this.firestore,e?this._delegate.withConverter(na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class pte{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ud(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class s_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new gn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ud(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pte(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Ud(this._firestore,i))})}isEqual(e){return VM(this._delegate,e._delegate)}}class Zl extends gn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pi(this.firestore,e):null}doc(e){try{return e===void 0?new pi(this.firestore,Tr(this._delegate)):new pi(this.firestore,Tr(this._delegate,e))}catch(n){throw vn(n,"doc()","CollectionReference.doc()")}}add(e){return Jee(this._delegate,e).then(n=>new pi(this.firestore,n))}isEqual(e){return xM(this._delegate,e._delegate)}withConverter(e){return new Zl(this.firestore,e?this._delegate.withConverter(na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ks(t){return Oe(t,st)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(...e){this._delegate=new Bo(...e)}static documentId(){return new JE(et.keyField().canonicalString())}isEqual(e){return e=ne(e),e instanceof Bo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._delegate=e}static serverTimestamp(){const e=ote();return e._methodName="FieldValue.serverTimestamp",new ps(e)}static delete(){const e=rte();return e._methodName="FieldValue.delete",new ps(e)}static arrayUnion(...e){const n=ste(...e);return n._methodName="FieldValue.arrayUnion",new ps(n)}static arrayRemove(...e){const n=ate(...e);return n._methodName="FieldValue.arrayRemove",new ps(n)}static increment(e){const n=lte(e);return n._methodName="FieldValue.increment",new ps(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte={Firestore:BM,GeoPoint:dv,Timestamp:nt,Blob:Bd,Transaction:zM,WriteBatch:UM,DocumentReference:pi,DocumentSnapshot:zd,Query:gn,QueryDocumentSnapshot:Ud,QuerySnapshot:s_,CollectionReference:Zl,FieldPath:JE,FieldValue:ps,setLogLevel:fte,CACHE_SIZE_UNLIMITED:_ee};function gte(t,e){t.INTERNAL.registerComponent(new Mi("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},mte)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(t){gte(t,(e,n)=>new BM(e,n,new hte)),t.registerVersion(cte,ute)}vte(kg);var yte="firebase",bte="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(yte,bte,"app");var _C={};const wC="@firebase/database",xC="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WM="";function _te(t){WM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wte(e)}}catch(e){}return new xte},Ts=qM("localStorage"),a_=qM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new sh("@firebase/database"),Ete=function(){let t=1;return function(){return t++}}(),GM=function(t){const e=VH(t),n=new NH;n.update(e);const i=n.digest();return sx.encodeByteArray(i)},Oh=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Oh.apply(null,i):typeof i=="object"?e+=Bt(i):e+=i,e+=" "}return e};let Ns=null,EC=!0;const Ite=function(t,e){z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(_l.logLevel=ye.VERBOSE,Ns=_l.log.bind(_l),e&&a_.set("logging_enabled",!0)):typeof t=="function"?Ns=t:(Ns=null,a_.remove("logging_enabled"))},dn=function(...t){if(EC===!0&&(EC=!1,Ns===null&&a_.get("logging_enabled")===!0&&Ite(!0)),Ns){const e=Oh.apply(null,t);Ns(e)}},Nh=function(t){return function(...e){dn(t,...e)}},l_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Oh(...t);_l.error(e)},Mr=function(...t){const e="FIREBASE FATAL ERROR: ".concat(Oh(...t));throw _l.error(e),new Error(e)},Un=function(...t){const e="FIREBASE WARNING: "+Oh(...t);_l.warn(e)},kte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},KM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Tte=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ec="[MIN_NAME]",ia="[MAX_NAME]",kc=function(t,e){if(t===e)return 0;if(t===ec||e===ia)return-1;if(e===ec||t===ia)return 1;{const n=IC(t),i=IC(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Ste=function(t,e){return t===e?0:t<e?-1:1},Qc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Bt(e))},ZE=function(t){if(typeof t!="object"||t===null)return Bt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Bt(e[i]),n+=":",n+=ZE(t[e[i]]);return n+="}",n},YM=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const QM=function(t){z(!KM(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Cte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ate=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Rte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Pte=new RegExp("^-?(0*)\\d{1,10}$"),Dte=-2147483648,Ote=2147483647,IC=function(t){if(Pte.test(t)){const e=Number(t);if(e>=Dte&&e<=Ote)return e}return null},Tc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Un("Exception was thrown by user callback.",n),e},Math.floor(0))}},Nte=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Nu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Un('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" are invalid. This usually indicates your app was not initialized correctly.'))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(e)}}class wl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="5",XM="v",JM="s",ZM="r",eV="f",tV=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nV="ls",iV="p",c_="ac",rV="websocket",oV="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(n)}}function Vte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aV(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let i;if(e===rV)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oV)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Vte(t)&&(n.ns=t.namespace);const r=[];return Hn(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(){this.counters_={}}incrementCounter(e,n=1){Li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _H(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={},Gy={};function tI(t){const e=t.toString();return qy[e]||(qy[e]=new $te),qy[e]}function Fte(t,e){const n=t.toString();return Gy[n]||(Gy[n]=e()),Gy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Tc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="start",zte="close",Ute="pLPCommand",jte="pRTLPCB",lV="id",cV="pw",uV="ser",Hte="cb",Wte="seg",qte="ts",Gte="d",Kte="dframe",dV=1870,hV=30,Yte=dV-hV,Qte=25e3,Xte=3e4;class rl{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nh(e),this.stats_=tI(n),this.urlFn=l=>(this.appCheckToken&&(l[c_]=this.appCheckToken),aV(n,oV,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Bte(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Xte)),Tte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nI((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kC)this.id=a,this.password=l;else if(s===zte)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[kC]="t",i[uV]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Hte]=this.scriptTagHolder.uniqueCallbackIdentifier),i[XM]=eI,this.transportSessionId&&(i[JM]=this.transportSessionId),this.lastSessionId&&(i[nV]=this.lastSessionId),this.applicationId&&(i[iV]=this.applicationId),this.appCheckToken&&(i[c_]=this.appCheckToken),typeof location<"u"&&location.hostname&&tV.test(location.hostname)&&(i[ZM]=eV);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rl.forceAllow_=!0}static forceDisallow(){rl.forceDisallow_=!0}static isAvailable(){return rl.forceAllow_?!0:!rl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Cte()&&!Ate()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=i2(n),r=YM(i,Yte);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Kte]="t",i[lV]=e,i[cV]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Bt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class nI{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ete(),window[Ute+this.uniqueCallbackIdentifier]=e,window[jte+this.uniqueCallbackIdentifier]=n,this.myIFrame=nI.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dn("frame writing exception"),a.stack&&dn(a.stack),dn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dn("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lV]=this.myID,e[cV]=this.myPW,e[uV]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hV+i.length<=dV;){const s=this.pendingSegs.shift();i=i+"&"+Wte+r+"="+s.seg+"&"+qte+r+"="+s.ts+"&"+Gte+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Qte)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte=16384,Zte=45e3;let dm=null;typeof MozWebSocket<"u"?dm=MozWebSocket:typeof WebSocket<"u"&&(dm=WebSocket);class Ti{constructor(e,n,i,r,o,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nh(this.connId),this.stats_=tI(n),this.connURL=Ti.connectionURL_(n,s,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const s={};return s[XM]=eI,typeof location<"u"&&location.hostname&&tV.test(location.hostname)&&(s[ZM]=eV),n&&(s[JM]=n),i&&(s[nV]=i),r&&(s[c_]=r),o&&(s[iV]=o),aV(e,rV,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let i;d2(),this.mySock=new dm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&dm!==null&&!Ti.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=hd(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=YM(n,Jte);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zte))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ti.responsesRequiredToBeHealthy=2;Ti.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[rl,Ti]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ti&&Ti.isAvailable();let i=n&&!Ti.previouslyFailed();if(e.webSocketOnly&&(n||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ti];else{const r=this.transports_=[];for(const o of jd.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);jd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=6e4,tne=5e3,nne=10*1024,ine=100*1024,Ky="t",TC="d",rne="s",SC="r",one="e",CC="o",AC="a",RC="n",PC="p",sne="h";class ane{constructor(e,n,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nh("c:"+this.id+":"),this.transportManager_=new jd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Nu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ine?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ky in e){const n=e[Ky];n===AC?this.upgradeIfSecondaryHealthy_():n===SC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===CC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qc("t",e),i=Qc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:AC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:RC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qc("t",e),i=Qc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qc(Ky,e);if(TC in e){const i=e[TC];if(n===sne){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===RC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rne?this.onConnectionShutdown_(i):n===SC?this.onReset_(i):n===one?l_("Server Error: "+i):n===CC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),eI!==i&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Nu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ene))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends pV{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ax()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hm}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=32,OC=768;class je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ne(){return new je("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Uo(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function mV(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gV(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vV(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function Pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new je(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Vn(t,e){const n=be(t),i=be(e);if(n===null)return e;if(n===i)return Vn(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iI(t,e){if(Uo(t)!==Uo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ci(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Uo(t)>Uo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class cne{constructor(e,n){this.errorPrefix_=n,this.parts_=gV(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xg(this.parts_[i]);yV(this)}}function une(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xg(e),yV(t)}function dne(t){const e=t.parts_.pop();t.byteLength_-=xg(e),t.parts_.length>0&&(t.byteLength_-=1)}function yV(t){if(t.byteLength_>OC)throw new Error(t.errorPrefix_+"has a key path longer than "+OC+" bytes ("+t.byteLength_+").");if(t.parts_.length>DC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+DC+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends pV{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new rI}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=1e3,hne=60*5*1e3,NC=30*1e3,fne=1.3,pne=3e4,mne="server_kill",LC=3;class Sr extends fV{constructor(e,n,i,r,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Sr.nextPersistentConnectionId_++,this.log_=Nh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xc,this.maxReconnectDelay_=hne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!d2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(Bt(o)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new _g,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Sr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Li(e,"w")){const i=Ml(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Un("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".concat(r," at ").concat(o," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||OH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=DH(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,s=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";r&&(o.q=i,o.t=r),this.sendRequest(s,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{r&&setTimeout(()=>{r(s.s,s.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const s={p:n,d:i};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Bt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):l_("Unrecognized action received from server: "+Bt(e)+"\nAre you using the latest client?")}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pne&&(this.reconnectDelay_=Xc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Sr.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,i())},c=function(d){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new ane(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Un(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(mne)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Un(d),l())}}}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],f0(this.interruptReasons_)&&(this.reconnectDelay_=Xc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>ZE(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new je(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){dn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=LC&&(this.reconnectDelay_=NC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=LC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+WM.replace(/\./g,"-")]=1,ax()?e["framework.cordova"]=1:wg()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hm.getInstance().currentlyOnline();return f0(this.interruptReasons_)&&e}}Sr.nextPersistentConnectionId_=0;Sr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new we(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new we(ec,e),r=new we(ec,n);return this.compare(i,r)!==0}minPost(){return we.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;class bV extends wv{static get __EMPTY_NODE(){return wf}static set __EMPTY_NODE(e){wf=e}compare(e,n){return kc(e.name,n.name)}isDefinedOn(e){throw cc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return we.MIN}maxPost(){return new we(ia,wf)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new we(e,wf)}toString(){return".key"}}const xl=new bV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ft{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:Ft.RED,this.left=r!=null?r:$n.EMPTY_NODE,this.right=o!=null?o:$n.EMPTY_NODE}copy(e,n,i,r,o){return new Ft(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return $n.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ft.RED=!0;Ft.BLACK=!1;class gne{copy(e,n,i,r,o){return this}insert(e,n,i){return new Ft(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $n{constructor(e,n=$n.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $n(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))}remove(e){return new $n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new xf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new xf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new xf(this.root_,null,this.comparator_,!0,e)}}$n.EMPTY_NODE=new gne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(t,e){return kc(t.name,e.name)}function oI(t,e){return kc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;function yne(t){u_=t}const _V=function(t){return typeof t=="number"?"number:"+QM(t):"string:"+t},wV=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Li(e,".sv"),"Priority must be a string or number.")}else z(t===u_||t.isEmpty(),"priority of unexpected type.");z(t===u_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;class Lt{constructor(e,n=Lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wV(this.priorityNode_)}static set __childrenNodeConstructor(e){MC=e}static get __childrenNodeConstructor(){return MC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:be(e)===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=be(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||Uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_V(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=QM(this.value_):e+=this.value_,this.lazyHash_=GM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Lt.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Lt.VALUE_TYPE_ORDER.indexOf(n),o=Lt.VALUE_TYPE_ORDER.indexOf(i);return z(r>=0,"Unknown leaf type: "+n),z(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xV,EV;function bne(t){xV=t}function _ne(t){EV=t}class wne extends wv{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?kc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return we.MIN}maxPost(){return new we(ia,new Lt("[PRIORITY-POST]",EV))}makePost(e,n){const i=xV(e);return new we(n,new Lt("[PRIORITY-POST]",i))}toString(){return".priority"}}const ft=new wne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=Math.log(2);class Ene{constructor(e){const n=o=>parseInt(Math.log(o)/xne,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fm=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length;const h=function(p,g){const _=d-p,v=d;d-=p;const m=r(_+1,v),b=t[_],x=n?n(b):b;f(new Ft(x,b.node,g,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,Ft.BLACK):(h(_,Ft.BLACK),h(_,Ft.RED))}return u},s=new Ene(t.length),a=o(s);return new $n(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;const La={};class yr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(La&&ft,"ChildrenNode.ts has not been loaded"),Yy=Yy||new yr({".priority":La},{".priority":ft}),Yy}get(e){const n=Ml(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $n?n:null}hasIndex(e){return Li(this.indexSet_,e.toString())}addIndex(e,n){z(e!==xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(we.Wrap);let s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=fm(i,e.getCompare()):a=La;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new yr(u,c)}addToIndexes(e,n){const i=Vp(this.indexes_,(r,o)=>{const s=Ml(this.indexSet_,o);if(z(s,"Missing index implementation for "+o),r===La)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(we.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),fm(a,s.getCompare())}else return La;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new we(e.name,a))),l.insert(e,e.node)}});return new yr(i,this.indexSet_)}removeFromIndexes(e,n){const i=Vp(this.indexes_,r=>{if(r===La)return r;{const o=n.get(e.name);return o?r.remove(new we(e.name,o)):r}});return new yr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc;class se{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wV(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jc||(Jc=new se(new $n(oI),null,yr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jc}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jc:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new we(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const s=r.isEmpty()?Jc:this.priorityNode_;return new se(r,s,o)}}updateChild(e,n){const i=be(e);if(i===null)return n;{z(be(e)!==".priority"||Uo(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(We(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(ft,(s,a)=>{n[s]=a.val(e),i++,o&&se.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_V(this.getPriority().val())+":"),this.forEachChild(ft,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":GM(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new we(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new we(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new we(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,we.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,we.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lh?-1:0}withIndex(e){if(e===xl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ft),r=n.getIterator(ft);let o=i.getNext(),s=r.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=r.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===xl?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ine extends se{constructor(){super(new $n(oI),se.EMPTY_NODE,yr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Lh=new Ine;Object.defineProperties(we,{MIN:{value:new we(ec,se.EMPTY_NODE)},MAX:{value:new we(ia,Lh)}});bV.__EMPTY_NODE=se.EMPTY_NODE;Lt.__childrenNodeConstructor=se;yne(Lh);_ne(Lh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=!0;function Zt(t,e=null){if(t===null)return se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Lt(n,Zt(e))}if(!(t instanceof Array)&&kne){const n=[];let i=!1;if(Hn(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Zt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new we(s,l)))}}),n.length===0)return se.EMPTY_NODE;const o=fm(n,vne,s=>s.name,oI);if(i){const s=fm(n,ft.getCompare());return new se(o,Zt(e),new yr({".priority":s},{".priority":ft}))}else return new se(o,Zt(e),yr.Default)}else{let n=se.EMPTY_NODE;return Hn(t,(i,r)=>{if(Li(t,i)&&i.substring(0,1)!=="."){const o=Zt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Zt(e))}}bne(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne extends wv{constructor(e){super(),this.indexPath_=e,z(!xe(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?kc(e.name,n.name):o}makePost(e,n){const i=Zt(e),r=se.EMPTY_NODE.updateChild(this.indexPath_,i);return new we(n,r)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Lh);return new we(ia,e)}toString(){return gV(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne extends wv{compare(e,n){const i=e.node.compareTo(n.node);return i===0?kc(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return we.MIN}maxPost(){return we.MAX}makePost(e,n){const i=Zt(e);return new we(n,i)}toString(){return".value"}}const Cne=new Sne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){return{type:"value",snapshotNode:t}}function tc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Wd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ane(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Hd(n,a)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(tc(n,i)):s.trackChildChange(Wd(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ft,(r,o)=>{n.hasChild(r)||i.trackChildChange(Hd(r,o))}),n.isLeafNode()||n.forEachChild(ft,(r,o)=>{if(e.hasChild(r)){const s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Wd(r,o,s))}else i.trackChildChange(tc(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.indexedFilter_=new sI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qd.getStartPost_(e),this.endPost_=qd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new we(n,i))||(i=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=se.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(se.EMPTY_NODE);const o=this;return n.forEachChild(ft,(s,a)=>{o.matches(new we(s,a))||(r=r.updateImmediateChild(s,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new we(n,i))||(i=se.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=se.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(se.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;z(a.numChildren()===this.limit_,"");const l=new we(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o!=null&&o.trackChildChange(Wd(n,i,d)),a.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Hd(n,d));const g=a.updateImmediateChild(n,se.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(tc(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Hd(c.name,c.node)),o.trackChildChange(tc(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ec}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new aI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pne(t){return t.loadsAllData()?new sI(t.getIndex()):t.hasLimit()?new Rne(t):new qd(t)}function VC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ft?n="$priority":t.index_===Cne?n="$value":t.index_===xl?n="$key":(z(t.index_ instanceof Tne,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Bt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Bt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Bt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Bt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Bt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $C(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ft&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends fV{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Nh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=pm.getListenId_(e,i),a={};this.listens_[s]=a;const l=VC(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Ml(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=pm.getListenId_(e,n);delete this.listens_[i]}get(e){const n=VC(e._queryParams),i=e._path.toString(),r=new _g;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ma(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hd(a.responseText)}catch(c){Un("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Un("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){return{value:null,children:new Map}}function kV(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=be(e);t.children.has(i)||t.children.set(i,mm());const r=t.children.get(i);e=We(e),kV(r,e,n)}}function d_(t,e,n){t.value!==null?n(e,t.value):One(t,(i,r)=>{const o=new je(e.toString()+"/"+i);d_(r,o,n)})}function One(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Hn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=10*1e3,Lne=30*1e3,Mne=5*60*1e3;class Vne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nne(e);const i=FC+(Lne-FC)*Math.random();Nu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Hn(e,(r,o)=>{o>0&&Li(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Nu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Mne))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ai||(Ai={}));function TV(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ai.ACK_USER_WRITE,this.source=TV()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new je(e));return new gm(Ne(),n,this.revert)}}else return z(be(this.path)===e,"operationForChild called for unrelated child."),new gm(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.source=e,this.path=n,this.type=Ai.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new Gd(this.source,Ne()):new Gd(this.source,We(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ai.OVERWRITE}operationForChild(e){return xe(this.path)?new ra(this.source,Ne(),this.snap.getImmediateChild(e)):new ra(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ai.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new ra(this.source,Ne(),n.value):new Kd(this.source,Ne(),n)}else return z(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kd(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Fne(t,e,n,i){const r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Ane(s.childName,s.snapshotNode))}),Zc(t,r,"child_removed",e,i,n),Zc(t,r,"child_added",e,i,n),Zc(t,r,"child_moved",o,i,n),Zc(t,r,"child_changed",e,i,n),Zc(t,r,"value",e,i,n),r}function Zc(t,e,n,i,r,o){const s=i.filter(a=>a.type===n);s.sort((a,l)=>zne(t,a,l)),s.forEach(a=>{const l=Bne(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Bne(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function zne(t,e,n){if(e.childName==null||n.childName==null)throw cc("Should only compare child_ events.");const i=new we(e.childName,e.snapshotNode),r=new we(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){return{eventCache:t,serverCache:e}}function Lu(t,e,n,i){return xv(new oa(e,n,i),t.serverCache)}function SV(t,e,n,i){return xv(t.eventCache,new oa(e,n,i))}function h_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function sa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qy;const Une=()=>(Qy||(Qy=new $n(Ste)),Qy);class Ke{constructor(e,n=Une()){this.value=e,this.children=n}static fromObject(e){let n=new Ke(null);return Hn(e,(i,r)=>{n=n.set(new je(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ne(),value:this.value};if(xe(e))return null;{const i=be(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(We(e),n);return o!=null?{path:Pt(new je(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=be(e),i=this.children.get(n);return i!==null?i.subtree(We(e)):new Ke(null)}}set(e,n){if(xe(e))return new Ke(n,this.children);{const i=be(e),o=(this.children.get(i)||new Ke(null)).set(We(e),n),s=this.children.insert(i,o);return new Ke(this.value,s)}}remove(e){if(xe(e))return this.children.isEmpty()?new Ke(null):new Ke(null,this.children);{const n=be(e),i=this.children.get(n);if(i){const r=i.remove(We(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Ke(null):new Ke(this.value,o)}else return this}}get(e){if(xe(e))return this.value;{const n=be(e),i=this.children.get(n);return i?i.get(We(e)):null}}setTree(e,n){if(xe(e))return n;{const i=be(e),o=(this.children.get(i)||new Ke(null)).setTree(We(e),n);let s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new Ke(this.value,s)}}fold(e){return this.fold_(Ne(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Pt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ne(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(xe(e))return null;{const o=be(e),s=this.children.get(o);return s?s.findOnPath_(We(e),Pt(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ne(),n)}foreachOnPath_(e,n,i){if(xe(e))return this;{this.value&&i(n,this.value);const r=be(e),o=this.children.get(r);return o?o.foreachOnPath_(We(e),Pt(n,r),i):new Ke(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.writeTree_=e}static empty(){return new Oi(new Ke(null))}}function Mu(t,e,n){if(xe(e))return new Oi(new Ke(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const s=Vn(r,e);return o=o.updateChild(s,n),new Oi(t.writeTree_.set(r,o))}else{const r=new Ke(n),o=t.writeTree_.setTree(e,r);return new Oi(o)}}}function BC(t,e,n){let i=t;return Hn(n,(r,o)=>{i=Mu(i,Pt(e,r),o)}),i}function zC(t,e){if(xe(e))return Oi.empty();{const n=t.writeTree_.setTree(e,new Ke(null));return new Oi(n)}}function f_(t,e){return Ea(t,e)!=null}function Ea(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vn(n.path,e)):null}function UC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ft,(i,r)=>{e.push(new we(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new we(i,r.value))}),e}function ko(t,e){if(xe(e))return t;{const n=Ea(t,e);return n!=null?new Oi(new Ke(n)):new Oi(t.writeTree_.subtree(e))}}function p_(t){return t.writeTree_.isEmpty()}function nc(t,e){return CV(Ne(),t.writeTree_,e)}function CV(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=CV(Pt(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Pt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e){return DV(e,t)}function jne(t,e,n,i,r){z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Mu(t.visibleWrites,e,n)),t.lastWriteId=i}function Hne(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Wne(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&qne(a,i.path)?r=!1:Ci(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return Gne(t),!0;if(i.snap)t.visibleWrites=zC(t.visibleWrites,i.path);else{const a=i.children;Hn(a,l=>{t.visibleWrites=zC(t.visibleWrites,Pt(i.path,l))})}return!0}else return!1}function qne(t,e){if(t.snap)return Ci(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ci(Pt(t.path,n),e))return!0;return!1}function Gne(t){t.visibleWrites=AV(t.allWrites,Kne,Ne()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Kne(t){return t.visible}function AV(t,e,n){let i=Oi.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const s=o.path;let a;if(o.snap)Ci(n,s)?(a=Vn(n,s),i=Mu(i,a,o.snap)):Ci(s,n)&&(a=Vn(s,n),i=Mu(i,Ne(),o.snap.getChild(a)));else if(o.children){if(Ci(n,s))a=Vn(n,s),i=BC(i,a,o.children);else if(Ci(s,n))if(a=Vn(s,n),xe(a))i=BC(i,Ne(),o.children);else{const l=Ml(o.children,be(a));if(l){const c=l.getChild(We(a));i=Mu(i,Ne(),c)}}}else throw cc("WriteRecord should have .snap or .children")}}return i}function RV(t,e,n,i,r){if(!i&&!r){const o=Ea(t.visibleWrites,e);if(o!=null)return o;{const s=ko(t.visibleWrites,e);if(p_(s))return n;if(n==null&&!f_(s,Ne()))return null;{const a=n||se.EMPTY_NODE;return nc(s,a)}}}else{const o=ko(t.visibleWrites,e);if(!r&&p_(o))return n;if(!r&&n==null&&!f_(o,Ne()))return null;{const s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Ci(c.path,e)||Ci(e,c.path))},a=AV(t.allWrites,s,e),l=n||se.EMPTY_NODE;return nc(a,l)}}}function Yne(t,e,n){let i=se.EMPTY_NODE;const r=Ea(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ft,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){const o=ko(t.visibleWrites,e);return n.forEachChild(ft,(s,a)=>{const l=nc(ko(o,new je(s)),a);i=i.updateImmediateChild(s,l)}),UC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const o=ko(t.visibleWrites,e);return UC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function Qne(t,e,n,i,r){z(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Pt(e,n);if(f_(t.visibleWrites,o))return null;{const s=ko(t.visibleWrites,o);return p_(s)?r.getChild(n):nc(s,r.getChild(n))}}function Xne(t,e,n,i){const r=Pt(e,n),o=Ea(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const s=ko(t.visibleWrites,r);return nc(s,i.getNode().getImmediateChild(n))}else return null}function Jne(t,e){return Ea(t.visibleWrites,e)}function Zne(t,e,n,i,r,o,s){let a;const l=ko(t.visibleWrites,e),c=Ea(l,Ne());if(c!=null)a=c;else if(n!=null)a=nc(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function eie(){return{visibleWrites:Oi.empty(),allWrites:[],lastWriteId:-1}}function vm(t,e,n,i){return RV(t.writeTree,t.treePath,e,n,i)}function dI(t,e){return Yne(t.writeTree,t.treePath,e)}function jC(t,e,n,i){return Qne(t.writeTree,t.treePath,e,n,i)}function ym(t,e){return Jne(t.writeTree,Pt(t.treePath,e))}function tie(t,e,n,i,r,o){return Zne(t.writeTree,t.treePath,e,n,i,r,o)}function hI(t,e,n){return Xne(t.writeTree,t.treePath,e,n)}function PV(t,e){return DV(Pt(t.treePath,e),t.writeTree)}function DV(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Wd(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Hd(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,tc(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Wd(i,e.snapshotNode,r.oldSnap));else throw cc("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const OV=new iie;class fI{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hI(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sa(this.viewCache_),o=tie(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t){return{filter:t}}function oie(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sie(t,e,n,i,r){const o=new nie;let s,a;if(n.type===Ai.OVERWRITE){const c=n;c.source.fromUser?s=m_(t,e,c.path,c.snap,i,r,o):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),s=bm(t,e,c.path,c.snap,i,r,a,o))}else if(n.type===Ai.MERGE){const c=n;c.source.fromUser?s=lie(t,e,c.path,c.children,i,r,o):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=g_(t,e,c.path,c.children,i,r,a,o))}else if(n.type===Ai.ACK_USER_WRITE){const c=n;c.revert?s=die(t,e,c.path,i,r,o):s=cie(t,e,c.path,c.affectedTree,i,r,o)}else if(n.type===Ai.LISTEN_COMPLETE)s=uie(t,e,n.path,i,o);else throw cc("Unknown operation type: "+n.type);const l=o.getChanges();return aie(e,s,l),{viewCache:s,changes:l}}function aie(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=h_(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(IV(h_(e)))}}function NV(t,e,n,i,r,o){const s=e.eventCache;if(ym(i,n)!=null)return e;{let a,l;if(xe(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=sa(e),u=c instanceof se?c:se.EMPTY_NODE,d=dI(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=vm(i,sa(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=be(n);if(c===".priority"){z(Uo(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=jC(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{const u=We(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=jC(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=hI(i,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Lu(e,a,s.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function bm(t,e,n,i,r,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=be(n);if(!l.isCompleteForPath(n)&&Uo(n)>1)return e;const p=We(n),_=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),f,_,p,OV,null)}const d=SV(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),h=new fI(r,d,o);return NV(t,d,n,r,h,a)}function m_(t,e,n,i,r,o,s){const a=e.eventCache;let l,c;const u=new fI(r,e,o);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=Lu(e,c,!0,t.filter.filtersNodes());else{const d=be(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Lu(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=We(n),f=a.getNode().getImmediateChild(d);let p;if(xe(h))p=i;else{const g=u.getCompleteChild(d);g!=null?mV(h)===".priority"&&g.getChild(vV(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=se.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,u,s);l=Lu(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function HC(t,e){return t.eventCache.isCompleteForChild(e)}function lie(t,e,n,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=Pt(n,l);HC(e,be(u))&&(a=m_(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Pt(n,l);HC(e,be(u))||(a=m_(t,a,u,c,r,o,s))}),a}function WC(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function g_(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=i:c=new Ke(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=WC(t,f,h);l=bm(t,l,new je(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=WC(t,p,h);l=bm(t,l,new je(d),g,r,o,s,a)}}),l}function cie(t,e,n,i,r,o,s){if(ym(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bm(t,e,n,l.getNode().getChild(n),r,o,a,s);if(xe(n)){let c=new Ke(null);return l.getNode().forEachChild(xl,(u,d)=>{c=c.set(new je(u),d)}),g_(t,e,n,c,r,o,a,s)}else return e}else{let c=new Ke(null);return i.foreach((u,d)=>{const h=Pt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),g_(t,e,n,c,r,o,a,s)}}function uie(t,e,n,i,r){const o=e.serverCache,s=SV(e,o.getNode(),o.isFullyInitialized()||xe(n),o.isFiltered());return NV(t,s,n,i,OV,r)}function die(t,e,n,i,r,o){let s;if(ym(i,n)!=null)return e;{const a=new fI(i,e,r),l=e.eventCache.getNode();let c;if(xe(n)||be(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=vm(i,sa(e));else{const d=e.serverCache.getNode();z(d instanceof se,"serverChildren would be complete if leaf node"),u=dI(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=be(n);let d=hI(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,We(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,se.EMPTY_NODE,We(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vm(i,sa(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||ym(i,Ne())!=null,Lu(e,c,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sI(i.getIndex()),o=Pne(i);this.processor_=rie(o);const s=n.serverCache,a=n.eventCache,l=r.updateFullNode(se.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(se.EMPTY_NODE,a.getNode(),null),u=new oa(l,s.isFullyInitialized(),r.filtersNodes()),d=new oa(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=xv(d,u),this.eventGenerator_=new $ne(this.query_)}get query(){return this.query_}}function fie(t){return t.viewCache_.serverCache.getNode()}function pie(t,e){const n=sa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function qC(t){return t.eventRegistrations_.length===0}function mie(t,e){t.eventRegistrations_.push(e)}function GC(t,e,n){const i=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function KC(t,e,n,i){e.type===Ai.MERGE&&e.source.queryId!==null&&(z(sa(t.viewCache_),"We should always have a full cache before handling merges"),z(h_(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=sie(t.processor_,r,e,n,i);return oie(t.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,LV(t,o.changes,o.viewCache.eventCache.getNode(),null)}function gie(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ft,(o,s)=>{i.push(tc(o,s))}),n.isFullyInitialized()&&i.push(IV(n.getNode())),LV(t,i,n.getNode(),e)}function LV(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return Fne(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;class vie{constructor(){this.views=new Map}}function yie(t){z(!_m,"__referenceConstructor has already been defined"),_m=t}function bie(){return z(_m,"Reference.ts has not been loaded"),_m}function _ie(t){return t.views.size===0}function pI(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return z(o!=null,"SyncTree gave us an op for an invalid query."),KC(o,e,n,i)}else{let o=[];for(const s of t.views.values())o=o.concat(KC(s,e,n,i));return o}}function wie(t,e,n,i,r){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=vm(n,r?i:null),l=!1;a?l=!0:i instanceof se?(a=dI(n,i),l=!1):(a=se.EMPTY_NODE,l=!1);const c=xv(new oa(a,l,!1),new oa(i,r,!1));return new hie(e,c)}return s}function xie(t,e,n,i,r,o){const s=wie(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),mie(s,n),gie(s,n)}function Eie(t,e,n,i){const r=e._queryIdentifier,o=[];let s=[];const a=jo(t);if(r==="default")for(const[l,c]of t.views.entries())s=s.concat(GC(c,n,i)),qC(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(r);l&&(s=s.concat(GC(l,n,i)),qC(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!jo(t)&&o.push(new(bie())(e._repo,e._path)),{removed:o,events:s}}function MV(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function El(t,e){let n=null;for(const i of t.views.values())n=n||pie(i,e);return n}function VV(t,e){if(e._queryParams.loadsAllData())return Ev(t);{const i=e._queryIdentifier;return t.views.get(i)}}function $V(t,e){return VV(t,e)!=null}function jo(t){return Ev(t)!=null}function Ev(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm;function Iie(t){z(!wm,"__referenceConstructor has already been defined"),wm=t}function kie(){return z(wm,"Reference.ts has not been loaded"),wm}let Tie=1;class YC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=eie(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FV(t,e,n,i,r){return jne(t.pendingWriteTree_,e,n,i,r),r?Mh(t,new ra(TV(),e,n)):[]}function Ss(t,e,n=!1){const i=Hne(t.pendingWriteTree_,e);if(Wne(t.pendingWriteTree_,e)){let o=new Ke(null);return i.snap!=null?o=o.set(Ne(),!0):Hn(i.children,s=>{o=o.set(new je(s),!0)}),Mh(t,new gm(i.path,o,n))}else return[]}function Iv(t,e,n){return Mh(t,new ra(lI(),e,n))}function Sie(t,e,n){const i=Ke.fromObject(n);return Mh(t,new Kd(lI(),e,i))}function Cie(t,e){return Mh(t,new Gd(lI(),e))}function Aie(t,e,n){const i=gI(t,n);if(i){const r=vI(i),o=r.path,s=r.queryId,a=Vn(o,e),l=new Gd(cI(s),a);return yI(t,o,l)}else return[]}function v_(t,e,n,i,r=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||$V(s,e))){const l=Eie(s,e,n,i);_ie(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>jo(f));if(u&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=Die(h);for(let p=0;p<f.length;++p){const g=f[p],_=g.query,v=UV(t,g);t.listenProvider_.startListening(Vu(_),xm(t,_),v.hashFn,v.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Vu(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(kv(h));t.listenProvider_.stopListening(Vu(h),f)}))}Oie(t,c)}return a}function Rie(t,e,n,i){const r=gI(t,i);if(r!=null){const o=vI(r),s=o.path,a=o.queryId,l=Vn(s,e),c=new ra(cI(a),l,n);return yI(t,s,c)}else return[]}function Pie(t,e,n,i){const r=gI(t,i);if(r){const o=vI(r),s=o.path,a=o.queryId,l=Vn(s,e),c=Ke.fromObject(n),u=new Kd(cI(a),l,c);return yI(t,s,u)}else return[]}function QC(t,e,n,i=!1){const r=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{const p=Vn(h,r);o=o||El(f,p),s=s||jo(f)});let a=t.syncPointTree_.get(r);a?(s=s||jo(a),o=o||El(a,Ne())):(a=new vie,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=se.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{const g=El(p,Ne());g&&(o=o.updateImmediateChild(f,g))}));const c=$V(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=kv(e);z(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Nie();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=uI(t.pendingWriteTree_,r);let d=xie(a,e,n,u,o,l);if(!c&&!s&&!i){const h=VV(a,e);d=d.concat(Lie(t,e,h))}return d}function mI(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Vn(s,e),c=El(a,l);if(c)return c});return RV(r,e,o,n,!0)}function Mh(t,e){return BV(e,t.syncPointTree_,null,uI(t.pendingWriteTree_,Ne()))}function BV(t,e,n,i){if(xe(t.path))return zV(t,e,n,i);{const r=e.get(Ne());n==null&&r!=null&&(n=El(r,Ne()));let o=[];const s=be(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=PV(i,s);o=o.concat(BV(a,l,c,u))}return r&&(o=o.concat(pI(r,t,i,n))),o}}function zV(t,e,n,i){const r=e.get(Ne());n==null&&r!=null&&(n=El(r,Ne()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=PV(i,s),u=t.operationForChild(s);u&&(o=o.concat(zV(u,a,l,c)))}),r&&(o=o.concat(pI(r,t,i,n))),o}function UV(t,e){const n=e.query,i=xm(t,n);return{hashFn:()=>(fie(e)||se.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?Aie(t,n._path,i):Cie(t,n._path);{const o=Rte(r,n);return v_(t,n,null,o)}}}}function xm(t,e){const n=kv(e);return t.queryToTagMap.get(n)}function kv(t){return t._path.toString()+"$"+t._queryIdentifier}function gI(t,e){return t.tagToQueryMap.get(e)}function vI(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function yI(t,e,n){const i=t.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const r=uI(t.pendingWriteTree_,e);return pI(i,n,r,null)}function Die(t){return t.fold((e,n,i)=>{if(n&&jo(n))return[Ev(n)];{let r=[];return n&&(r=MV(n)),Hn(i,(o,s)=>{r=r.concat(s)}),r}})}function Vu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(kie())(t._repo,t._path):t}function Oie(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=kv(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function Nie(){return Tie++}function Lie(t,e,n){const i=e._path,r=xm(t,e),o=UV(t,n),s=t.listenProvider_.startListening(Vu(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)z(!jo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!xe(c)&&u&&jo(u))return[Ev(u).query];{let h=[];return u&&(h=h.concat(MV(u).map(f=>f.query))),Hn(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Vu(u),xm(t,u))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bI(n)}node(){return this.node_}}class _I{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new _I(this.syncTree_,n)}node(){return mI(this.syncTree_,this.path_)}}const Mie=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},XC=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Vie(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $ie(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Vie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},$ie=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const r=e.node();if(z(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return typeof s!="number"?i:s+i},Fie=function(t,e,n,i){return wI(e,new _I(n,t),i)},jV=function(t,e,n){return wI(t,new bI(e),n)};function wI(t,e,n){const i=t.getPriority().val(),r=XC(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=XC(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new Lt(a,Zt(r)):t}else{const s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Lt(r))),s.forEachChild(ft,(a,l)=>{const c=wI(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function EI(t,e){let n=e instanceof je?e:new je(e),i=t,r=be(n);for(;r!==null;){const o=Ml(i.node.children,r)||{children:{},childCount:0};i=new xI(r,i,o),n=We(n),r=be(n)}return i}function Sc(t){return t.node.value}function HV(t,e){t.node.value=e,y_(t)}function WV(t){return t.node.childCount>0}function Bie(t){return Sc(t)===void 0&&!WV(t)}function Tv(t,e){Hn(t.node.children,(n,i)=>{e(new xI(n,t,i))})}function qV(t,e,n,i){n&&!i&&e(t),Tv(t,r=>{qV(r,e,!0,i)}),n&&i&&e(t)}function zie(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Vh(t){return new je(t.parent===null?t.name:Vh(t.parent)+"/"+t.name)}function y_(t){t.parent!==null&&Uie(t.parent,t.name,t)}function Uie(t,e,n){const i=Bie(n),r=Li(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,y_(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,y_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jie=/[\[\].#$\/\u0000-\u001F\u007F]/,Hie=/[\[\].#$\u0000-\u001F\u007F]/,Xy=10*1024*1024,GV=function(t){return typeof t=="string"&&t.length!==0&&!jie.test(t)},KV=function(t){return typeof t=="string"&&t.length!==0&&!Hie.test(t)},Wie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),KV(t)},qie=function(t,e,n,i){i&&e===void 0||II(cx(t,"value"),e,n)},II=function(t,e,n){const i=n instanceof je?new cne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(i));if(typeof e=="function")throw new Error(t+"contains a function "+ls(i)+" with contents = "+e.toString());if(KM(e))throw new Error(t+"contains "+e.toString()+" "+ls(i));if(typeof e=="string"&&e.length>Xy/3&&xg(e)>Xy)throw new Error(t+"contains a string greater than "+Xy+" utf8 bytes "+ls(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Hn(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!GV(s)))throw new Error(t+" contains an invalid key ("+s+") "+ls(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');une(i,s),II(t,a,i),dne(i)}),r&&o)throw new Error(t+' contains ".value" child '+ls(i)+" in addition to actual children.")}},YV=function(t,e,n,i){if(!(i&&n===void 0)&&!KV(n))throw new Error(cx(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gie=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YV(t,e,n,i)},Kie=function(t,e){if(be(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Yie=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!GV(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wie(n))throw new Error(cx(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kI(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!iI(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function QV(t,e,n){kI(t,n),XV(t,i=>iI(i,e))}function Vr(t,e,n){kI(t,n),XV(t,i=>Ci(i,e)||Ci(e,i))}function XV(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(Xie(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Ns&&dn("event: "+n.toString()),Tc(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie="repo_interrupt",Zie=25;class ere{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mm(),this.transactionQueueTree_=new xI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tre(t,e,n){if(t.stats_=tI(t.repoInfo_),t.forceRestClient_||Nte())t.server_=new pm(t.repoInfo_,(i,r,o,s)=>{JC(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ZC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Sr(t.repoInfo_,e,(i,r,o,s)=>{JC(t,i,r,o,s)},i=>{ZC(t,i)},i=>{ire(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Fte(t.repoInfo_,()=>new Vne(t.stats_,t.server_)),t.infoData_=new Dne,t.infoSyncTree_=new YC({startListening:(i,r,o,s)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Iv(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),SI(t,"connected",!1),t.serverSyncTree_=new YC({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);Vr(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function nre(t){const n=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function TI(t){return Mie({timestamp:nre(t)})}function JC(t,e,n,i,r){t.dataUpdateCount++;const o=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){const l=Vp(n,c=>Zt(c));s=Pie(t.serverSyncTree_,o,l,r)}else{const l=Zt(n);s=Rie(t.serverSyncTree_,o,l,r)}else if(i){const l=Vp(n,c=>Zt(c));s=Sie(t.serverSyncTree_,o,l)}else{const l=Zt(n);s=Iv(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Sv(t,o)),Vr(t.eventQueue_,a,s)}function ZC(t,e){SI(t,"connected",e),e===!1&&ore(t)}function ire(t,e){Hn(e,(n,i)=>{SI(t,n,i)})}function SI(t,e,n){const i=new je("/.info/"+e),r=Zt(n);t.infoData_.updateSnapshot(i,r);const o=Iv(t.infoSyncTree_,i,r);Vr(t.eventQueue_,i,o)}function JV(t){return t.nextWriteId_++}function rre(t,e,n,i,r){CI(t,"set",{path:e.toString(),value:n,priority:i});const o=TI(t),s=Zt(n,i),a=mI(t.serverSyncTree_,e),l=jV(s,a,o),c=JV(t),u=FV(t.serverSyncTree_,e,l,c,!0);kI(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{const p=h==="ok";p||Un("set at "+e+" failed: "+h);const g=Ss(t.serverSyncTree_,c,!p);Vr(t.eventQueue_,e,g),lre(t,r,h,f)});const d=i4(t,e);Sv(t,d),Vr(t.eventQueue_,d,[])}function ore(t){CI(t,"onDisconnectEvents");const e=TI(t),n=mm();d_(t.onDisconnect_,Ne(),(r,o)=>{const s=Fie(r,o,t.serverSyncTree_,e);kV(n,r,s)});let i=[];d_(n,Ne(),(r,o)=>{i=i.concat(Iv(t.serverSyncTree_,r,o));const s=i4(t,r);Sv(t,s)}),t.onDisconnect_=mm(),Vr(t.eventQueue_,Ne(),i)}function sre(t,e,n){let i;be(e._path)===".info"?i=QC(t.infoSyncTree_,e,n):i=QC(t.serverSyncTree_,e,n),QV(t.eventQueue_,e._path,i)}function eA(t,e,n){let i;be(e._path)===".info"?i=v_(t.infoSyncTree_,e,n):i=v_(t.serverSyncTree_,e,n),QV(t.eventQueue_,e._path,i)}function are(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jie)}function CI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dn(n,...e)}function lre(t,e,n,i){e&&Tc(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,e(s)}})}function ZV(t,e,n){return mI(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function AI(t,e=t.transactionQueueTree_){if(e||Cv(t,e),Sc(e)){const n=t4(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&cre(t,Vh(e),n)}else WV(e)&&Tv(e,n=>{AI(t,n)})}function cre(t,e,n){const i=n.map(c=>c.currentWriteId),r=ZV(t,e,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const u=n[c];z(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Vn(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{CI(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ss(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Cv(t,EI(t.transactionQueueTree_,e)),AI(t,t.transactionQueueTree_),Vr(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Tc(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Un("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Sv(t,e)}},s)}function Sv(t,e){const n=e4(t,e),i=Vh(n),r=t4(t,n);return ure(t,r,i),i}function ure(t,e,n){if(e.length===0)return;const i=[];let r=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Vn(n,l.path);let u=!1,d;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Ss(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Zie)u=!0,d="maxretry",r=r.concat(Ss(t.serverSyncTree_,l.currentWriteId,!0));else{const h=ZV(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){II("transaction failed: Data returned ",f,l.path);let p=Zt(f);typeof f=="object"&&f!=null&&Li(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=TI(t),m=jV(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=JV(t),s.splice(s.indexOf(_),1),r=r.concat(FV(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),r=r.concat(Ss(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Ss(t.serverSyncTree_,l.currentWriteId,!0))}Vr(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Cv(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Tc(i[a]);AI(t,t.transactionQueueTree_)}function e4(t,e){let n,i=t.transactionQueueTree_;for(n=be(e);n!==null&&Sc(i)===void 0;)i=EI(i,n),e=We(e),n=be(e);return i}function t4(t,e){const n=[];return n4(t,e,n),n.sort((i,r)=>i.order-r.order),n}function n4(t,e,n){const i=Sc(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Tv(e,r=>{n4(t,r,n)})}function Cv(t,e){const n=Sc(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,HV(e,n.length>0?n:void 0)}Tv(e,i=>{Cv(t,i)})}function i4(t,e){const n=Vh(e4(t,e)),i=EI(t.transactionQueueTree_,e);return zie(i,r=>{Jy(t,r)}),Jy(t,i),qV(i,r=>{Jy(t,r)}),n}function Jy(t,e){const n=Sc(e);if(n){const i=[];let r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(z(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(z(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Ss(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?HV(e,void 0):n.length=o+1,Vr(t.eventQueue_,Vh(e),r);for(let s=0;s<i.length;s++)Tc(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}function hre(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Un("Invalid query segment '".concat(n,"' in query '").concat(t,"'"))}return e}const tA=function(t,e){const n=fre(t),i=n.namespace;n.domain==="firebase.com"&&Mr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||kte();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sV(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new je(n.pathString)}},fre=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=dre(t.substring(u,d)));const h=hre(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Bt(this.snapshot.exportVal())}}class o4{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return xe(this._path)?null:mV(this._path)}get ref(){return new qr(this._repo,this._path)}get _queryIdentifier(){const e=$C(this._queryParams),n=ZE(e);return n==="{}"?"default":n}get _queryObject(){return $C(this._queryParams)}isEqual(e){if(e=ne(e),!(e instanceof RI))return!1;const n=this._repo===e._repo,i=iI(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+lne(this._path)}}class qr extends RI{constructor(e,n){super(e,n,new aI,!1)}get parent(){const e=vV(this._path);return e===null?null:new qr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yd{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new je(e),i=Em(this.ref,e);return new Yd(this._node.getChild(n),i,ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Yd(r,Em(this.ref,i),ft)))}hasChild(e){const n=new je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function s4(t,e){return t=ne(t),t._checkNotDeleted("ref"),e!==void 0?Em(t._root,e):t._root}function Em(t,e){return t=ne(t),be(t._path)===null?Gie("child","path",e,!1):YV("child","path",e,!1),new qr(t._repo,Pt(t._path,e))}function mre(t,e){t=ne(t),Kie("set",t._path),qie("set",e,t._path,!1);const n=new _g;return rre(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class PI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new r4("value",this,new Yd(e.snapshotNode,new qr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new o4(this,e,n):null}matches(e){return e instanceof PI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class DI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new o4(this,e,n):null}createEvent(e,n){z(e.childName!=null,"Child events should have a childName.");const i=Em(new qr(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new r4(e.type,this,new Yd(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof DI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function gre(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const l=n,c=(u,d)=>{eA(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const s=new pre(n,o||void 0),a=e==="value"?new PI(s):new DI(e,s);return sre(t._repo,t,a),()=>eA(t._repo,t,a)}function vre(t,e,n,i){return gre(t,"value",e,n,i)}yie(qr);Iie(qr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre="FIREBASE_DATABASE_EMULATOR_HOST",b_={};let bre=!1;function _re(t,e,n,i){t.repoInfo_=new sV("".concat(e,":").concat(n),!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function wre(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));let s=tA(o,r),a=s.repoInfo,l,c;typeof process<"u"&&_C&&(c=_C[yre]),c?(l=!0,o="http://".concat(c,"?ns=").concat(a.namespace),s=tA(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new wl(wl.OWNER):new Mte(t.name,t.options,e);Yie("Invalid Firebase Database URL",s),xe(s.path)||Mr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Ere(a,t,u,new Lte(t.name,n));return new Ire(d,t)}function xre(t,e){const n=b_[e];(!n||n[t.key]!==t)&&Mr("Database ".concat(e,"(").concat(t.repoInfo_,") has already been deleted.")),are(t),delete n[t.key]}function Ere(t,e,n,i){let r=b_[e.name];r||(r={},b_[e.name]=r);let o=r[t.toURLString()];return o&&Mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ere(t,bre,n,i),r[t.toURLString()]=o,o}class Ire{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tre(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qr(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xre(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mr("Cannot call "+e+" on a deleted database.")}}function kre(t=Ig(),e){const n=uc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=o2("database");i&&Tre(n,...i)}return n}function Tre(t,e,n,i={}){t=ne(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Mr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new wl(wl.OWNER);else if(i.mockUserToken){const s=typeof i.mockUserToken=="string"?i.mockUserToken:l2(i.mockUserToken,t.app.options.projectId);o=new wl(s)}_re(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){_te(Br),Dr(new Mi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return wre(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Jn(wC,xC,t),Jn(wC,xC,"esm2017")}Sr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Sr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sre();const Cre={apiKey:"AIzaSyCUE1RopbWD-ly2MJ0h4vxB_XiVUL8hn6I",authDomain:"testdb1-d958d.firebaseapp.com",databaseURL:"https://testdb1-d958d-default-rtdb.firebaseio.com",projectId:"testdb1-d958d",storageBucket:"testdb1-d958d.appspot.com",messagingSenderId:"440938956369",appId:"1:440938956369:web:9849d59cc461d92da25a70",measurementId:"G-LH2VV78VVL"},OI=Eg(Cre),__=yY(OI),a4=kre(OI),ms=wee(OI),Are=()=>{const[t,e]=q.useState(""),[n,i]=q.useState("");let r=sg();function o(){prompt("Please enter your email"),Q2(__,t).then(()=>{alert("Check your Email")})}function s(){Z2(__,t,n).then(a=>{const l=a.user.uid,c=s4(a4,"users/"+l+"/role");vre(c,u=>{const d=u.val();d=="Admin"?r.push("/app/home","forward"):d=="Housekeeping"||d=="User"&&r.push("/app/home","forward")})}).catch(a=>{a.code,a.message,alert("Please provide the email address that you used when you signed up for your Evernote account")})}return y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsx(Er,{color:"new",children:y.jsxs(Ki,{style:{fontSize:"35px",textAlign:"center"},children:[" ",y.jsx(cn,{icon:wT}),"  House Hero  ",y.jsx(cn,{icon:wT,children:" "})]})})}),y.jsx(wr,{color:"light",className:"ion-padding",children:y.jsxs(gg,{fixed:!0,children:[y.jsx(uT,{class:"ion-justify-content-center",children:y.jsx(ad,{size:"12",sizeMd:"8",sizeLg:"6",sizeXl:"4",children:y.jsx(k7,{src:"src\\pages\\logo.png"})})}),y.jsx(uT,{class:"ion-justify-content-center",children:y.jsx(ad,{size:"12",sizeMd:"8",sizeLg:"6",sizeXl:"4",children:y.jsx(wo,{color:"dark",children:y.jsxs(mg,{children:[y.jsx(Y,{value:t,mode:"md",label:"Email",labelPlacement:"floating",placeholder:"Enter your Email",onIonChange:a=>e(a.target.value)}),y.jsx(Y,{value:n,mode:"md",label:"Password",type:"password",labelPlacement:"floating",placeholder:"Enter your Password",onIonChange:a=>i(a.target.value)}),y.jsxs(yn,{onClick:s,className:"ion-margin-top",type:"submit",expand:"block",color:"secondary",children:["Login",y.jsx(cn,{icon:mH,children:" "})]}),y.jsxs(yn,{className:"ion-margin-top",routerLink:"/register",type:"submit",expand:"block",fill:"outline",color:"secondary",children:["Create Account",y.jsx(cn,{icon:gH,children:" "})]}),y.jsx(yn,{onClick:o,className:"forgot-password-baton",fill:"clear",expand:"block",style:{color:"#74a59c"},children:"Forgot Password?"})]})})})})]})})]})},Rre=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),[r,o]=q.useState(""),[s,a]=q.useState(""),[l,c]=q.useState(""),[u,d]=q.useState(!1),[h,f]=q.useState(!1),[p,g]=q.useState(""),_=sg();q.useEffect(()=>{const m=()=>{e(""),i(""),o(""),a(""),c("")};m();const b=_.listen((x,C)=>{x.pathname==="/register"&&m()});return()=>{b()}},[_]);async function v(){d(!0),g("");try{const b=(await J2(__,t,n)).user.uid;await mre(s4(a4,"users/"+b),{username:s,email:t,fullname:r,phonenumber:l,role:"User"}),f(!0),d(!1),e(""),i(""),o(""),a(""),c(""),setTimeout(()=>{_.push("/")},2e3)}catch(m){m.code==="auth/email-already-in-use"?g("This email is already have an account!"):g(m.message),d(!1)}}return y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsx(Er,{color:"new",children:y.jsx(Ki,{style:{fontSize:"35px",textAlign:"center"},children:"Make a Profile "})})}),y.jsxs(wr,{color:"light",children:[y.jsx(wo,{color:"dark",children:y.jsxs(mg,{children:[y.jsx(Y,{label:"Name",labelPlacement:"floating",placeholder:"Enter Your Full Name",value:r,onIonChange:m=>o(m.detail.value)}),y.jsx(Y,{label:"Username",labelPlacement:"floating",placeholder:"Enter Username",value:s,onIonChange:m=>a(m.detail.value)}),y.jsx(Y,{label:"Telephone",type:"tel",labelPlacement:"floating",placeholder:"Enter Your Phone namber",value:l,onIonChange:m=>c(m.detail.value)}),y.jsx(Y,{label:"Email",labelPlacement:"floating",placeholder:"Enter your Email",value:t,onIonChange:m=>e(m.detail.value)}),y.jsx(Y,{label:"Password",type:"password",labelPlacement:"floating",placeholder:"Enter your Password",value:n,onIonChange:m=>i(m.detail.value)}),y.jsx(yn,{onClick:v,color:"secondary",expand:"block",children:"Register"}),y.jsx(yn,{routerLink:"/",fill:"clear",expand:"block",style:{color:"#74a59c"},children:"Already have an account ?"})]})}),y.jsx(ix,{isOpen:u,message:"Creating account..."}),y.jsx(Np,{isOpen:h,message:"Account created successfully! Redirecting to login...",duration:2e3,color:"success"}),y.jsx(Np,{isOpen:!!p,message:p,duration:3e3,color:"danger",onDidDismiss:()=>g("")})]})]})},Pre=()=>y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsxs(Er,{color:"new",children:[y.jsx(ou,{slot:"start",children:y.jsx(KD,{})}),y.jsx(Ki,{children:"Home"})]})}),y.jsx(wr,{color:"light",className:"ion-padding"})]}),l4=()=>{const t=q.useRef(null),[e,n]=q.useState([]),[i,r]=q.useState([]),[o,s]=q.useState([]),[a,l]=q.useState([]),[c,u]=q.useState({}),[d,h]=q.useState({}),[f,p]=q.useState(!1),[g,_]=q.useState(!1),v=async()=>{const D=(await r_(Jl(ms,"realty"))).docs.map(W=>({id:W.id,...W.data()}));n(D)},m=async()=>{const D=(await r_(Jl(ms,"linen"))).docs.map(W=>({id:W.id,...W.data()}));s(D),console.log(D)},b=P=>{const D=e.find(W=>W.id===P);D&&(r(D),u(D))},x=P=>{console.log(P);const D=o.find(W=>W.id===P);D&&(l(D),h(D),console.log(D))},C=async P=>{$M(Tr(ms,"realty",P)),v()};q.useEffect(()=>{v(),m()},[]);const E=P=>{const D=P.target,{name:W,value:ue}=D;u({...c,[W]:ue})},w=P=>{const D=P.target,{name:W,value:ue}=D;h({...d,[W]:ue})},k=async()=>{try{if(!c.id)throw new Error("Invalid villa ID");const P=Tr(ms,"realty",c.id);await um(P,c),v()}catch(P){console.error("Error updating villa data:",P)}},F=async()=>{try{if(!d.id)throw new Error("Invalid linen ID");const P=Tr(ms,"linen",d.id);await um(P,d),m()}catch(P){console.error("Error updating linen data:",P)}};return y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsxs(Er,{color:"secondary",children:[y.jsx(ou,{slot:"start",children:y.jsx(KD,{})}),y.jsx(Ki,{children:"Villas & Apartments"})]})}),y.jsxs(wr,{color:"light",className:"ion-padding",children:[y.jsx(Ki,{id:"title",children:"Houses Names"}),y.jsx(gg,{children:y.jsx(ad,{children:e.map((P,D)=>y.jsx(wo,{id:"aprt-card",button:!0,onClick:()=>b(P.id),children:y.jsxs(le,{color:"dark",children:[P.id,y.jsxs(ou,{slot:"end",children:[y.jsx(yn,{id:"modal-details",onClick:()=>p(!0),children:y.jsx(cn,{icon:pH})}),y.jsx(yn,{id:"modal-linen",onClick:()=>{_(!0),x(P.id)},children:y.jsx(cn,{icon:fH})}),y.jsx(yn,{onClick:()=>C(P.id),children:y.jsx(cn,{icon:vH})})]})]})},D))})}),y.jsxs(hT,{isOpen:f,onDidDismiss:()=>p(!1),ref:t,id:"modal-details",children:[y.jsx(xr,{children:y.jsxs(Er,{color:"new",children:[y.jsx(Ki,{children:"Accommodation information"}),y.jsx(ou,{slot:"end",onClick:()=>p(!1),children:y.jsx(yn,{children:y.jsx(cn,{size:"large",slot:"icon-only",icon:bT})})})]})}),y.jsxs(wr,{color:"light",children:[y.jsxs(wo,{id:"modal-center",color:"dark",children:[y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Location"}),y.jsx(Y,{value:c.Location||"",onIonChange:E,name:"Location"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"S.M. Interior Space"}),y.jsx(Y,{value:c.IndoorSpase||"",onIonChange:E,name:"IndoorSpase"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"S.M. Outdoor Space"}),y.jsx(Y,{value:c.OutdoorSpase||"",onIonChange:E,name:"OutdoorSpase"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"House Floors"}),y.jsx(Y,{value:c.Levels||"",onIonChange:E,name:"Levels"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Bedrooms"}),y.jsx(Y,{value:c.Rooms||"",onIonChange:E,name:"Rooms"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Bathrooms"}),y.jsx(Y,{value:c.Bathroom||"",onIonChange:E,name:"Bathroom"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Kitchen"}),y.jsx(Y,{value:c.Kitchen||"",onIonChange:E,name:"Kitchen"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Barbecue"}),y.jsx(Y,{value:c.Barbecue||"",onIonChange:E,name:"Barbecue"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Sauna"}),y.jsx(Y,{value:c.Sauna||"",onIonChange:E,name:"Sauna"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Wc"}),y.jsx(Y,{value:c.Wc||"",onIonChange:E,name:"Wc"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Single Beds"}),y.jsx(Y,{value:c.SingleBed||"",onIonChange:E,name:"SingleBed"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Double Beds"}),y.jsx(Y,{value:c.DoubleBed||"",onIonChange:E,name:"DoubleBed"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Checkin Day"}),y.jsx(Y,{value:c.ChekinDay||"",onIonChange:E,name:"ChekinDay"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Booking from Tourist Office"}),y.jsx(Y,{value:c.Office||"",onIonChange:E,name:"Office"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Tourist Office Name"}),y.jsx(Y,{value:c.OfficeName||"",onIonChange:E,name:"OfficeName"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Watering Plants"}),y.jsx(Y,{value:c.Planting||"",onIonChange:E,name:"Planting"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Yard Furniture Cleaning"}),y.jsx(Y,{value:c.FurnitureOut||"",onIonChange:E,name:"FurnitureOut"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Outdoor Sweeping"}),y.jsx(Y,{value:c.BroomOut||"",onIonChange:E,name:"BroomOut"})]})]}),y.jsx(_y,{horizontal:"end",vertical:"bottom",children:y.jsx(wy,{onClick:k,color:"secondary",children:y.jsx(cn,{icon:h0})})})]})]}),y.jsxs(hT,{isOpen:g,onDidDismiss:()=>_(!1),ref:t,id:"modal-linen",children:[y.jsx(xr,{children:y.jsxs(Er,{color:"new",children:[y.jsx(Ki,{children:"Linen information "}),y.jsx(ou,{slot:"end",onClick:()=>_(!1),children:y.jsx(yn,{children:y.jsx(cn,{size:"large",slot:"icon-only",icon:bT})})})]})}),y.jsxs(wr,{children:[y.jsxs(wo,{color:"dark",children:[y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Name of the house"}),y.jsx(Y,{value:d.id||"",onIonChange:w,name:"id"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Laundry Name"}),y.jsx(Y,{value:d.LaundryName||"",onIonChange:w,name:"LaundryName"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Double Bed Sheets"}),y.jsx(Y,{value:d.DoubleBedSheets||"",onIonChange:w,name:"DoubleBedSheets"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Single Bed Sheets"}),y.jsx(Y,{value:d.SingleBedSheets||"",onIonChange:w,name:"SingleBedSheets"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Pillow Cases"}),y.jsx(Y,{value:d.PillowCases||"",onIonChange:w,name:"PillowCases"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Big Towels"}),y.jsx(Y,{value:d.BigTowels||"",onIonChange:w,name:"BigTowels"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Small Towels"}),y.jsx(Y,{value:d.SmallTowels||"",onIonChange:w,name:"SmallTowels"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Coverlets"}),y.jsx(Y,{value:d.Coverlets||"",onIonChange:w,name:"Coverlets"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Fitted Sheets"}),y.jsx(Y,{value:d.FittedSheets||"",onIonChange:w,name:"FittedSheets"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Quilted Pillow Casee"}),y.jsx(Y,{value:d.QuiltedPillowCasee||"",onIonChange:w,name:"QuiltedPillowCasee"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Hand Towels"}),y.jsx(Y,{value:d.HandTowels||"",onIonChange:w,name:"HandTowels"})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Robe"}),y.jsx(Y,{value:d.Robe||"",onIonChange:w,name:"Robe"})]})]}),y.jsx(_y,{horizontal:"end",vertical:"bottom",slot:"fixed",children:y.jsx(wy,{onClick:F,color:"secondary",children:y.jsx(cn,{icon:h0})})})]})]}),y.jsx(_y,{horizontal:"end",vertical:"bottom",children:y.jsx(wy,{routerLink:"/app/villas/add",color:"secondary",children:y.jsx(cn,{icon:dH})})})]})]})},Dre=()=>{const t=sg(),[e,n]=q.useState(""),[i,r]=q.useState(""),[o,s]=q.useState(""),[a,l]=q.useState(""),[c,u]=q.useState(""),[d,h]=q.useState(""),[f,p]=q.useState(""),[g,_]=q.useState(""),[v,m]=q.useState(""),[b,x]=q.useState(""),[C,E]=q.useState(""),[w,k]=q.useState(""),[F,P]=q.useState(""),[D,W]=q.useState(""),[ue,ke]=q.useState(""),[ae,Le]=q.useState(""),[ve,R]=q.useState(""),[V,N]=q.useState(""),[H,X]=q.useState(""),[pe,me]=q.useState(""),[bt,Se]=q.useState(!1),[_t,Wn]=q.useState(!1),Ia=async()=>{Se(!0),me("");const ge={Barbecue:V,BroomOut:ve,ChekinDay:ae,DoubleBed:ue,FurnitureOut:D,IndoorSpase:F,Kitchen:w,Levels:C,location:b,OfficeName:v,Office:g,OutdoorSpase:f,Rooms:d,Sauna:c,SingleBed:a,Wc:o,Bathroom:i,Planting:H},$h=e,Av=Jl(ms,"realty");try{const es=Tr(Av,$h);(await YE(es)).exists()?me("Home already exists"):(await cm(es,ge),me("New home record added successfully"),n(""),r(""),s(""),l(""),u(""),h(""),p(""),_(""),m(""),x(""),E(""),k(""),P(""),W(""),ke(""),Le(""),R(""),N(""),X(""),setTimeout(()=>{t.push("/app/villas/add/linen/".concat($h))},2e3))}catch(es){console.error("Error adding home: ",es),me("Error adding home")}finally{Se(!1),Wn(!0)}};return y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsxs(Er,{color:"secondary",children:[y.jsx(yn,{onClick:l4,routerLink:"/app/villas",fill:"clear",size:"small",slot:"start",color:"dark",children:y.jsx(cn,{size:"large",icon:e2})}),y.jsx(yn,{fill:"clear",size:"small",slot:"end",color:"dark",onClick:Ia,children:y.jsx(cn,{size:"large",icon:hH})}),y.jsx(Ki,{children:"Add a new House"})]})}),y.jsxs(wr,{color:"light",className:"ion-padding",children:[y.jsx(gg,{children:y.jsx(ad,{size:"12",sizeMd:"8",sizeLg:"6",sizeXl:"4",children:y.jsx(wo,{color:"dark",children:y.jsxs(mg,{children:[pe&&y.jsx(YD,{color:pe.includes("successfully")?"success":"danger",children:pe}),y.jsx(Y,{onIonChange:ge=>n(ge.target.value),label:"Name",labelPlacement:"floating",placeholder:"Enter Apartment Name"}),y.jsx(Y,{onIonChange:ge=>N(ge.target.value),label:"Barbecue",labelPlacement:"floating",placeholder:"Yes or No"}),y.jsx(Y,{onIonChange:ge=>r(ge.target.value),label:"Bathroom",labelPlacement:"floating",placeholder:"Enter Number of Bathrooms"}),y.jsx(Y,{onIonChange:ge=>R(ge.target.value),label:"Did we broom outside?",labelPlacement:"floating",placeholder:"Yes or No"}),y.jsx(Y,{onIonChange:ge=>Le(ge.target.value),label:"Check in day",labelPlacement:"floating",placeholder:"Enter the Check in day"}),y.jsx(Y,{onIonChange:ge=>ke(ge.target.value),label:"Double Beds",labelPlacement:"floating",placeholder:"Enter Number of Double Beds"}),y.jsx(Y,{onIonChange:ge=>W(ge.target.value),label:"Did we clean the furniture outside?",labelPlacement:"floating",placeholder:"Yes or No"}),y.jsx(Y,{onIonChange:ge=>P(ge.target.value),label:"In Door Space",labelPlacement:"floating",placeholder:"Enter s.m."}),y.jsx(Y,{onIonChange:ge=>k(ge.target.value),label:"Kitchen",labelPlacement:"floating",placeholder:"Enter Number of Kitchens"}),y.jsx(Y,{onIonChange:ge=>E(ge.target.value),label:"Levels",labelPlacement:"floating",placeholder:"Enter Number of Floors"}),y.jsx(Y,{onIonChange:ge=>x(ge.target.value),label:"Location",labelPlacement:"floating",placeholder:"Enter Location"}),y.jsx(Y,{onIonChange:ge=>_(ge.target.value),label:"Are reservations made through a tourist office?",labelPlacement:"floating",placeholder:"Yes or No"}),y.jsx(Y,{onIonChange:ge=>m(ge.target.value),label:"Enter the office tourist name or the site name",labelPlacement:"floating",placeholder:"Enter Name"}),y.jsx(Y,{onIonChange:ge=>p(ge.target.value),label:"Out Door Space",labelPlacement:"floating",placeholder:"Enter s.m."}),y.jsx(Y,{onIonChange:ge=>h(ge.target.value),label:"Bedrooms",labelPlacement:"floating",placeholder:"Enter Number of Bedrooms"}),y.jsx(Y,{onIonChange:ge=>u(ge.target.value),label:"Sauna",labelPlacement:"floating",placeholder:"Yes or No"}),y.jsx(Y,{onIonChange:ge=>l(ge.target.value),label:"Single Beds",labelPlacement:"floating",placeholder:"Enter Number of Single Beds"}),y.jsx(Y,{onIonChange:ge=>s(ge.target.value),label:"WC",labelPlacement:"floating",placeholder:"Enter Number of WC"}),y.jsx(Y,{onIonChange:ge=>X(ge.target.value),label:"Did we Planting?",labelPlacement:"floating",placeholder:"Yes or No"})]})})})}),y.jsx(ix,{isOpen:bt,message:"Please wait..."}),y.jsx(Np,{isOpen:_t,onDidDismiss:()=>Wn(!1),message:pe,duration:2e3})]})]})},Ore=()=>{const[t,e]=q.useState(""),[n,i]=q.useState(""),[r,o]=q.useState(""),[s,a]=q.useState(""),[l,c]=q.useState(""),[u,d]=q.useState(""),[h,f]=q.useState(""),[p,g]=q.useState(""),[_,v]=q.useState(""),[m,b]=q.useState(""),[x,C]=q.useState(""),[E,w]=q.useState(""),[k,F]=q.useState(""),[P,D]=q.useState(""),[W,ue]=q.useState(!1),[ke,ae]=q.useState(!1),Le=sg(),ve=async()=>{ue(!0),D("");const R={apName:t,LaundryName:n,DoubleBedSheets:r,SingleBedSheets:s,PillowCases:l,BigTowels:u,SmallTowels:h,Coverlets:p,FittedSheets:_,QuiltedPillowCases:m,HandTowels:x,Robe:E,PoolTowels:k},V=t,N=Jl(ms,"linen");try{const H=Tr(N,V);(await YE(H)).exists()?D("Record already exists"):(await cm(H,R),D("New linen record added successfully"),e(""),i(""),o(""),a(""),c(""),d(""),f(""),g(""),v(""),b(""),C(""),w(""),F(""),setTimeout(()=>{Le.push("/app/villas")},2e3))}catch(H){console.error("Error adding linen: ",H),D("Error adding linen")}finally{ue(!1),ae(!0)}};return y.jsxs(fa,{children:[y.jsx(xr,{children:y.jsxs(Er,{color:"secondary",children:[y.jsx(yn,{routerLink:"/app/villas/add",fill:"clear",size:"small",slot:"start",color:"dark",children:y.jsx(cn,{size:"large",icon:e2})}),y.jsx(yn,{fill:"clear",size:"small",slot:"end",color:"dark",onClick:ve,children:y.jsx(cn,{size:"large",icon:h0})}),y.jsx(Ki,{children:"Add Linen"})]})}),y.jsxs(wr,{color:"light",className:"ion-padding",children:[y.jsx(gg,{children:y.jsx(ad,{size:"12",sizeMd:"8",sizeLg:"6",sizeXl:"4",children:y.jsx(wo,{color:"dark",children:y.jsxs(mg,{color:"dark",children:[P&&y.jsx(YD,{color:P.includes("successfully")?"success":"danger",children:P}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Apartment Name"}),y.jsx(Y,{value:t,onIonChange:R=>e(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Laundry Name"}),y.jsx(Y,{value:n,onIonChange:R=>i(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Double Bed Sheets"}),y.jsx(Y,{value:r,onIonChange:R=>o(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Single Bed Sheets"}),y.jsx(Y,{value:s,onIonChange:R=>a(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Pillow Cases"}),y.jsx(Y,{value:l,onIonChange:R=>c(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Big Towels"}),y.jsx(Y,{value:u,onIonChange:R=>d(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Small Towels"}),y.jsx(Y,{value:h,onIonChange:R=>f(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Coverlets"}),y.jsx(Y,{value:p,onIonChange:R=>g(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Fitted Sheets"}),y.jsx(Y,{value:_,onIonChange:R=>v(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Quilted Pillow Cases"}),y.jsx(Y,{value:m,onIonChange:R=>b(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Hand Towels"}),y.jsx(Y,{value:x,onIonChange:R=>C(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Robe"}),y.jsx(Y,{value:E,onIonChange:R=>w(R.detail.value)})]}),y.jsxs(le,{color:"dark",children:[y.jsx(de,{position:"stacked",children:"Pool Towels"}),y.jsx(Y,{value:k,onIonChange:R=>F(R.detail.value)})]})]})})})}),y.jsx(ix,{isOpen:W,message:"Please wait..."}),y.jsx(Np,{color:"warning",isOpen:ke,onDidDismiss:()=>ae(!1),message:P,duration:2e3})]})]})},Nre=()=>{const t=[{name:"Home",url:"/app/home",icon:_T},{name:"Villas",url:"/app/villas",icon:_T}];return y.jsx(fa,{children:y.jsxs(S7,{contentId:"main",children:[y.jsxs(T7,{contentId:"main",children:[y.jsx(xr,{children:y.jsx(Er,{color:"new",children:y.jsx(Ki,{children:"House Hero"})})}),y.jsxs(wr,{color:"light",children:[t.map((e,n)=>y.jsx(wo,{children:y.jsx(le,{color:"dark",routerLink:e.url,routerDirection:"none",children:e.name})},n)),y.jsx(yn,{fill:"clear",expand:"full",routerLink:"/",routerDirection:"root",children:"Logout"})]})]}),y.jsxs(XD,{id:"main",children:[y.jsx(dr,{exact:!0,path:"/app/home",component:Pre}),y.jsx(dr,{exact:!0,path:"/app/villas",component:l4}),y.jsx(dr,{exact:!0,path:"/app/villas/add",component:Dre}),y.jsx(dr,{exact:!0,path:"/app/villas/add/linen/:id",component:Ore}),y.jsx(dr,{exact:!0,path:"/app",children:y.jsx(MP,{to:"/app/home"})})]})]})})};Q7();const Lre=()=>y.jsx(M7,{children:y.jsx(aH,{children:y.jsxs(XD,{children:[y.jsx(dr,{exact:!0,path:"/",component:Are}),y.jsx(dr,{exact:!0,path:"/register",component:Rre}),y.jsx(uH,{path:"/app",component:Nre})]})})}),Mre=document.getElementById("root"),Vre=mP(Mre);Vre.render(y.jsx(O.StrictMode,{children:y.jsx(Lre,{})}));export{OD as K,Bre as __vite_legacy_guard,zs as a,Ao as b,lg as c,_o as d,x3 as e,k9 as f,E3 as g,o0 as h,Kz as i,Me as j,Tt as k,H1 as l,noe as m,zre as n,oe as o,Ure as p,jre as q,id as r,toe as s,ir as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}